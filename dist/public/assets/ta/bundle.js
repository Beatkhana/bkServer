var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function o(){return Object.create(null)}function l(e){e.forEach(r)}function s(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function a(e,t,n,r){if(e){const o=u(e,t,n,r);return e[0](o)}}function u(e,t,r,o){return e[1]&&o?n(r.ctx.slice(),e[1](o(t))):r.ctx}function d(e,t,n,r,o,l,s){const c=function(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}(t,r,o,l);if(c){const o=u(t,n,r,s);e.p(o,c)}}const f="undefined"!=typeof window;let p=f?()=>window.performance.now():()=>Date.now(),m=f?e=>requestAnimationFrame(e):e;const g=new Set;function h(e){g.forEach((t=>{t.c(e)||(g.delete(t),t.f())})),0!==g.size&&m(h)}function y(e){let t;return 0===g.size&&m(h),{promise:new Promise((n=>{g.add(t={c:e,f:n})})),abort(){g.delete(t)}}}function $(e,t){e.appendChild(t)}function v(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode.removeChild(e)}function b(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function w(e){return document.createElement(e)}function C(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function x(e){return document.createTextNode(e)}function k(){return x(" ")}function P(){return x("")}function N(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function I(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function O(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function _(e,t){e.value=null==t?"":t}function D(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function M(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function A(e,t,n){e.classList[n?"add":"remove"](t)}function E(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}const B=new Set;let L,U=0;function F(e,t,n,r,o,l,s,c=0){const i=16.666/r;let a="{\n";for(let e=0;e<=1;e+=i){const r=t+(n-t)*l(e);a+=100*e+`%{${s(r,1-r)}}\n`}const u=a+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${c}`,f=e.ownerDocument;B.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(w("style")).sheet),m=f.__svelte_rules||(f.__svelte_rules={});m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${d} ${r}ms linear ${o}ms 1 both`,U+=1,d}function T(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),U-=o,U||m((()=>{U||(B.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),B.clear())})))}function j(e){L=e}function R(){if(!L)throw new Error("Function called outside component initialization");return L}function W(){const e=R();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const o=E(t,n);r.slice().forEach((t=>{t.call(e,o)}))}}}function H(e,t){R().$$.context.set(e,t)}function q(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const G=[],z=[],J=[],Q=[],K=Promise.resolve();let V=!1;function Z(e){J.push(e)}function X(e){Q.push(e)}let Y=!1;const ee=new Set;function te(){if(!Y){Y=!0;do{for(let e=0;e<G.length;e+=1){const t=G[e];j(t),ne(t.$$)}for(j(null),G.length=0;z.length;)z.pop()();for(let e=0;e<J.length;e+=1){const t=J[e];ee.has(t)||(ee.add(t),t())}J.length=0}while(G.length);for(;Q.length;)Q.pop()();V=!1,Y=!1,ee.clear()}}function ne(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Z)}}let re;function oe(){return re||(re=Promise.resolve(),re.then((()=>{re=null}))),re}function le(e,t,n){e.dispatchEvent(E(`${t?"intro":"outro"}${n}`))}const se=new Set;let ce;function ie(){ce={r:0,c:[],p:ce}}function ae(){ce.r||l(ce.c),ce=ce.p}function ue(e,t){e&&e.i&&(se.delete(e),e.i(t))}function de(e,t,n,r){if(e&&e.o){if(se.has(e))return;se.add(e),ce.c.push((()=>{se.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const fe={duration:0};function pe(n,r,o,c){let i=r(n,o),a=c?0:1,u=null,d=null,f=null;function m(){f&&T(n,f)}function g(e,t){const n=e.b-a;return t*=Math.abs(n),{a:a,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function h(r){const{delay:o=0,duration:s=300,easing:c=t,tick:h=e,css:$}=i||fe,v={start:p()+o,b:r};r||(v.group=ce,ce.r+=1),u||d?d=v:($&&(m(),f=F(n,a,r,s,o,c,$)),r&&h(0,1),u=g(v,s),Z((()=>le(n,r,"start"))),y((e=>{if(d&&e>d.start&&(u=g(d,s),d=null,le(n,u.b,"start"),$&&(m(),f=F(n,a,u.b,u.duration,0,c,i.css))),u)if(e>=u.end)h(a=u.b,1-a),le(n,u.b,"end"),d||(u.b?m():--u.group.r||l(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;a=u.a+u.d*c(t/u.duration),h(a,1-a)}return!(!u&&!d)})))}return{run(e){s(i)?oe().then((()=>{i=i(),h(e)})):h(e)},end(){m(),u=d=null}}}function me(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function ge(e){e&&e.c()}function he(e,t,n){const{fragment:o,on_mount:c,on_destroy:i,after_update:a}=e.$$;o&&o.m(t,n),Z((()=>{const t=c.map(r).filter(s);i?i.push(...t):l(t),e.$$.on_mount=[]})),a.forEach(Z)}function ye(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function $e(e,t){-1===e.$$.dirty[0]&&(G.push(e),V||(V=!0,K.then(te)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ve(t,n,r,s,c,i,a=[-1]){const u=L;j(t);const d=n.props||{},f=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:c,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:a,skip_bound:!1};let p=!1;if(f.ctx=r?r(t,d,((e,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&c(f.ctx[e],f.ctx[e]=o)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](o),p&&$e(t,e)),n})):[],f.update(),p=!0,l(f.before_update),f.fragment=!!s&&s(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(S)}else f.fragment&&f.fragment.c();n.intro&&ue(t.$$.fragment),he(t,n.target,n.anchor),te()}j(u)}class Se{$destroy(){ye(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class be extends Se{constructor(e){if(!e||!e.target&&!e.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}const we=[];function Ce(t,n=e){let r;const o=[];function l(e){if(c(t,e)&&(t=e,r)){const e=!we.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),we.push(n,t)}if(e){for(let e=0;e<we.length;e+=2)we[e][0](we[e+1]);we.length=0}}}return{set:l,update:function(e){l(e(t))},subscribe:function(s,c=e){const i=[s,c];return o.push(i),1===o.length&&(r=n(l)||e),s(t),()=>{const e=o.indexOf(i);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}class xe{constructor(e){this.isOpen=!1,this.messageStore=Ce(""),this.subscribe=this.messageStore.subscribe,this.socket=new WebSocket("ws://"+e),this.socket.addEventListener("open",(()=>{this.isOpen=!0})),this.socket.addEventListener("message",(e=>{this.messageStore.set(e.data)}))}sendMessage(e){this.socket.readyState<=1&&this.socket.send(e)}}var ke,Pe;!function(e){e[e.Success=0]="Success",e[e.Fail=1]="Fail"}(ke||(ke={}));class Ne{constructor(e){this.isConnected=!1,this.matchId=!1,e&&e.Type==ke.Success&&(this.Self=e.Self,this.State=e.State,this.isConnected=!0)}coordinatorAdded(e){if(!this.isConnected)return;-1==this.State.Coordinators.findIndex((t=>t.Id==e.Id))&&this.State.Coordinators.push(e)}coordinatorLeft(e){let t=this.State.Coordinators.findIndex((t=>t.Id==e.Id));t>-1&&this.State.Coordinators.splice(t,1)}matchCreated(e){this.State.Matches.find((t=>t.Guid==e.Guid))||this.State.Matches.push(e)}matchUpdated(e){let t=this.State.Matches.findIndex((t=>t.Guid==e.Guid));t>-1&&(this.State.Matches[t]=e)}matchDeleted(e){let t=this.State.Matches.findIndex((t=>t.Guid==e.Guid));t>-1&&this.State.Matches.splice(t,1)}playerAdded(e){this.State.Players.push(e)}playerUpdated(e){let t=this.State.Players.findIndex((t=>t.Id==e.Id));t>-1&&(this.State.Players[t]=e)}playerLeft(e){let t=this.State.Players.findIndex((t=>t.Id==e.Id));t>-1&&this.State.Players.splice(t,1)}}function Ie(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}!function(e){e[e.Player=0]="Player",e[e.Coordinator=1]="Coordinator",e[e.TemporaryConnection=2]="TemporaryConnection"}(Pe||(Pe={}));for(var Oe=Ie((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}})),_e=[],De=0;De<256;++De)_e[De]=(De+256).toString(16).substr(1);var Me,Ae,Ee=function(e,t){var n=t||0,r=_e;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")},Be=0,Le=0;var Ue=function(e,t,n){var r=t&&n||0,o=t||[],l=(e=e||{}).node||Me,s=void 0!==e.clockseq?e.clockseq:Ae;if(null==l||null==s){var c=Oe();null==l&&(l=Me=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==s&&(s=Ae=16383&(c[6]<<8|c[7]))}var i=void 0!==e.msecs?e.msecs:(new Date).getTime(),a=void 0!==e.nsecs?e.nsecs:Le+1,u=i-Be+(a-Le)/1e4;if(u<0&&void 0===e.clockseq&&(s=s+1&16383),(u<0||i>Be)&&void 0===e.nsecs&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Be=i,Le=a,Ae=s;var d=(1e4*(268435455&(i+=122192928e5))+a)%4294967296;o[r++]=d>>>24&255,o[r++]=d>>>16&255,o[r++]=d>>>8&255,o[r++]=255&d;var f=i/4294967296*1e4&268435455;o[r++]=f>>>8&255,o[r++]=255&f,o[r++]=f>>>24&15|16,o[r++]=f>>>16&255,o[r++]=s>>>8|128,o[r++]=255&s;for(var p=0;p<6;++p)o[r+p]=l[p];return t||Ee(o)};var Fe=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||Oe)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var l=0;l<16;++l)t[r+l]=o[l];return t||Ee(o)},Te=Fe;Te.v1=Ue,Te.v4=Fe;var je,Re,We,He,qe,Ge,ze,Je,Qe,Ke=Te;class Ve{constructor(e,t){this.Size=0,this.SpecificPacketSize=44,this.Id=Ke.v4(),this.From=Ke.v4(),this.SpecificPacketType=t,this.SpecificPacket=e}static encodePacket(e){var t=new TextEncoder;let n=this.toBytesInt32(e.SpecificPacketType),r=this.toBytesInt32(JSON.stringify(e.SpecificPacket).length);e.SpecificPacketSize=JSON.stringify(e.SpecificPacket).length,e.Size=44+e.SpecificPacketSize,e.Id=Ke.v4(),e.From=Ke.v4();let o=[t.encode("moon"),new Uint8Array(n),new Uint8Array(r),Uint8Array.from(Ke.parse(Ke.NIL)),Uint8Array.from(Ke.parse(Ke.NIL)),t.encode(JSON.stringify(e.SpecificPacket))];return Uint8ClampedArray.from(o.reduce(((e,t)=>[...e,...t]),[]))}isPacket(e){return"moon"==e.substr(0,4)}static toBytesInt32(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e,!1),t}}function Ze(t){let n,r,o,l,s,c,i,a;return{c(){n=w("div"),r=w("label"),o=w("input"),l=k(),s=w("span"),c=x(t[1]),I(o,"type","input"),I(o,"class","form_field svelte-sve6hv"),I(o,"placeholder",t[1]),o.required=!0,I(o,"autocomplete","off"),I(s,"class","label svelte-sve6hv"),I(r,"class","form_label"),I(n,"class","form__group field svelte-sve6hv")},m(e,u){v(e,n,u),$(n,r),$(r,o),_(o,t[0]),$(r,l),$(r,s),$(s,c),i||(a=N(o,"input",t[2]),i=!0)},p(e,[t]){2&t&&I(o,"placeholder",e[1]),1&t&&_(o,e[0]),2&t&&O(c,e[1])},i:e,o:e,d(e){e&&S(n),i=!1,a()}}}function Xe(e,t,n){let{placeHolder:r}=t;W();let{value:o=""}=t;return e.$$set=e=>{"placeHolder"in e&&n(1,r=e.placeHolder),"value"in e&&n(0,o=e.value)},[o,r,function(){o=this.value,n(0,o)}]}!function(e){e[e.Acknowledgement=0]="Acknowledgement",e[e.Command=1]="Command",e[e.Connect=2]="Connect",e[e.ConnectResponse=3]="ConnectResponse",e[e.Event=4]="Event",e[e.File=5]="File",e[e.ForwardingPacket=6]="ForwardingPacket",e[e.LoadedSong=7]="LoadedSong",e[e.LoadSong=8]="LoadSong",e[e.PlaySong=9]="PlaySong",e[e.Response=10]="Response",e[e.ScoreRequest=11]="ScoreRequest",e[e.ScoreRequestResponse=12]="ScoreRequestResponse",e[e.SongFinished=13]="SongFinished",e[e.SongList=14]="SongList",e[e.SubmitScore=15]="SubmitScore"}(je||(je={})),function(e){e[e.PlayerAdded=0]="PlayerAdded",e[e.PlayerUpdated=1]="PlayerUpdated",e[e.PlayerLeft=2]="PlayerLeft",e[e.CoordinatorAdded=3]="CoordinatorAdded",e[e.CoordinatorLeft=4]="CoordinatorLeft",e[e.MatchCreated=5]="MatchCreated",e[e.MatchUpdated=6]="MatchUpdated",e[e.MatchDeleted=7]="MatchDeleted",e[e.QualifierEventCreated=8]="QualifierEventCreated",e[e.QualifierEventUpdated=9]="QualifierEventUpdated",e[e.QualifierEventDeleted=10]="QualifierEventDeleted",e[e.HostAdded=11]="HostAdded",e[e.HostRemoved=12]="HostRemoved"}(Re||(Re={})),function(e){e[e.Easy=0]="Easy",e[e.Normal=1]="Normal",e[e.Hard=2]="Hard",e[e.Expert=3]="Expert",e[e.ExpertPlus=4]="ExpertPlus"}(We||(We={})),function(e){e[e.None=0]="None",e[e.NoFail=1]="NoFail",e[e.NoBombs=2]="NoBombs",e[e.NoArrows=4]="NoArrows",e[e.NoObstacles=8]="NoObstacles",e[e.SlowSong=16]="SlowSong",e[e.InstaFail=32]="InstaFail",e[e.FailOnClash=64]="FailOnClash",e[e.BatteryEnergy=128]="BatteryEnergy",e[e.FastNotes=256]="FastNotes",e[e.FastSong=512]="FastSong",e[e.DisappearingArrows=1024]="DisappearingArrows",e[e.GhostNotes=2048]="GhostNotes",e[e.DemoNoFail=4096]="DemoNoFail",e[e.DemoNoObstacles=8192]="DemoNoObstacles",e[e.StrictAngles=16384]="StrictAngles"}(He||(He={})),function(e){e[e.None=0]="None",e[e.LeftHanded=1]="LeftHanded",e[e.StaticLights=2]="StaticLights",e[e.NoHud=4]="NoHud",e[e.AdvancedHud=8]="AdvancedHud",e[e.ReduceDebris=16]="ReduceDebris"}(qe||(qe={})),function(e){e[e.Heartbeat=0]="Heartbeat",e[e.ReturnToMenu=1]="ReturnToMenu",e[e.ScreenOverlay_ShowPng=2]="ScreenOverlay_ShowPng",e[e.ScreenOverlay_ShowGreen=3]="ScreenOverlay_ShowGreen",e[e.DelayTest_Finish=4]="DelayTest_Finish"}(Ge||(Ge={}));class Ye extends Se{constructor(e){super(),ve(this,e,Xe,Ze,c,{placeHolder:1,value:0})}}function et(e){const t=e-1;return t*t*t+1}function tt(e){return--e*e*e*e*e+1}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function nt(e,{delay:n=0,duration:r=400,easing:o=t}){const l=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:o,css:e=>"opacity: "+e*l}}function rt(e){var{fallback:t}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["fallback"]);const o=new Map,l=new Map;function c(e,o,l){return(c,i)=>(e.set(i.key,{rect:c.getBoundingClientRect()}),()=>{if(o.has(i.key)){const{rect:e}=o.get(i.key);return o.delete(i.key),function(e,t,o){const{delay:l=0,duration:c=(e=>30*Math.sqrt(e)),easing:i=et}=n(n({},r),o),a=t.getBoundingClientRect(),u=e.left-a.left,d=e.top-a.top,f=e.width/a.width,p=e.height/a.height,m=Math.sqrt(u*u+d*d),g=getComputedStyle(t),h="none"===g.transform?"":g.transform,y=+g.opacity;return{delay:l,duration:s(c)?c(m):c,easing:i,css:(e,t)=>`\n\t\t\t\topacity: ${e*y};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${h} translate(${t*u}px,${t*d}px) scale(${e+(1-e)*f}, ${e+(1-e)*p});\n\t\t\t`}}(e,c,i)}return e.delete(i.key),t&&t(c,i,l)})}return[c(l,o,!1),c(o,l,!0)]}function ot(t){let n,r,o,l;return{c(){n=w("button"),r=x(t[0]),n.disabled=t[4],I(n,"class","svelte-1o7fkqk"),A(n,"danger",t[3]),A(n,"primary",t[1]),A(n,"secondary",t[2])},m(e,s){v(e,n,s),$(n,r),o||(l=N(n,"click",t[5]),o=!0)},p(e,[t]){1&t&&O(r,e[0]),16&t&&(n.disabled=e[4]),8&t&&A(n,"danger",e[3]),2&t&&A(n,"primary",e[1]),4&t&&A(n,"secondary",e[2])},i:e,o:e,d(e){e&&S(n),o=!1,l()}}}function lt(e,t,n){let{text:r=""}=t,{primary:o=!1}=t,{secondary:l=!1}=t,{danger:s=!1}=t,{disabled:c=!1}=t;return e.$$set=e=>{"text"in e&&n(0,r=e.text),"primary"in e&&n(1,o=e.primary),"secondary"in e&&n(2,l=e.secondary),"danger"in e&&n(3,s=e.danger),"disabled"in e&&n(4,c=e.disabled)},[r,o,l,s,c,function(t){q(e,t)}]}class st extends Se{constructor(e){super(),ve(this,e,lt,ot,c,{text:0,primary:1,secondary:2,danger:3,disabled:4})}}function ct(t){let n,r,o,l,s,c,i,a,u,d,f,p,m,g;return{c(){n=w("label"),r=w("input"),o=k(),l=w("div"),s=w("span"),s.innerHTML='<svg width="12px" height="10px" class="svelte-1v0zg71"><use xlink:href="#check"></use></svg>',c=k(),i=w("span"),a=x(t[1]),u=k(),d=C("svg"),f=C("symbol"),p=C("polyline"),I(r,"class","inp-cbx svelte-1v0zg71"),I(r,"type","checkbox"),I(s,"class","svelte-1v0zg71"),I(i,"class","svelte-1v0zg71"),I(l,"class","cbx svelte-1v0zg71"),I(p,"points","1.5 6 4.5 9 10.5 1"),I(f,"id","check"),I(f,"viewBox","0 0 12 10"),I(d,"class","inline-svg svelte-1v0zg71")},m(e,h){v(e,n,h),$(n,r),r.checked=t[0],$(n,o),$(n,l),$(l,s),$(l,c),$(l,i),$(i,a),v(e,u,h),v(e,d,h),$(d,f),$(f,p),m||(g=N(r,"change",t[2]),m=!0)},p(e,[t]){1&t&&(r.checked=e[0]),2&t&&O(a,e[1])},i:e,o:e,d(e){e&&S(n),e&&S(u),e&&S(d),m=!1,g()}}}function it(e,t,n){let{label:r=""}=t,{checked:o=!1}=t;return e.$$set=e=>{"label"in e&&n(1,r=e.label),"checked"in e&&n(0,o=e.checked)},[o,r,function(){o=this.checked,n(0,o)}]}!function(e){e[e.Waiting=0]="Waiting",e[e.InGame=1]="InGame"}(ze||(ze={})),function(e){e[e.None=0]="None",e[e.Downloading=1]="Downloading",e[e.Downloaded=2]="Downloaded",e[e.DownloadError=3]="DownloadError"}(Je||(Je={}));class at extends Se{constructor(e){super(),ve(this,e,it,ct,c,{label:1,checked:0})}}function ut(e){let t,n;return{c(){t=w("option"),n=x(e[1]),t.selected=!0,t.disabled=!0,t.__value="",t.value=t.__value},m(e,r){v(e,t,r),$(t,n)},p(e,t){2&t&&O(n,e[1])},d(e){e&&S(t)}}}function dt(e){let t,n,r,o,s,c,i=e[1]&&ut(e);const u=e[4].default,f=a(u,e,e[3],null);return{c(){t=w("div"),n=w("select"),i&&i.c(),r=P(),f&&f.c(),I(n,"class","svelte-16qdtee"),void 0===e[0]&&Z((()=>e[6].call(n))),I(t,"class","select svelte-16qdtee")},m(l,a){v(l,t,a),$(t,n),i&&i.m(n,null),$(n,r),f&&f.m(n,null),M(n,e[0]),o=!0,s||(c=[N(n,"change",e[6]),N(n,"change",e[5])],s=!0)},p(e,[t]){e[1]?i?i.p(e,t):(i=ut(e),i.c(),i.m(n,r)):i&&(i.d(1),i=null),f&&f.p&&8&t&&d(f,u,e,e[3],t,null,null),1&t&&M(n,e[0])},i(e){o||(ue(f,e),o=!0)},o(e){de(f,e),o=!1},d(e){e&&S(t),i&&i.d(),f&&f.d(e),s=!1,l(c)}}}function ft(e,t,n){let{$$slots:r={},$$scope:o}=t,{value:l}=t;let{defaultOption:s=null}=t;return e.$$set=e=>{"value"in e&&n(0,l=e.value),"defaultOption"in e&&n(1,s=e.defaultOption),"$$scope"in e&&n(3,o=e.$$scope)},[l,s,null,o,r,function(t){q(e,t)},function(){l=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,l)}]}class pt extends Se{constructor(e){super(),ve(this,e,ft,dt,c,{value:0,change:2,defaultOption:1})}get change(){return this.$$.ctx[2]}}function mt(e){let t,n;const r=e[1].default,o=a(r,e,e[0],null);return{c(){t=w("div"),o&&o.c(),I(t,"class","tabs svelte-obh1r4")},m(e,r){v(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&1&t&&d(o,r,e,e[0],t,null,null)},i(e){n||(ue(o,e),n=!0)},o(e){de(o,e),n=!1},d(e){e&&S(t),o&&o.d(e)}}}function gt(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}!function(e){e[e.Passed=0]="Passed",e[e.Failed=1]="Failed",e[e.Quit=2]="Quit"}(Qe||(Qe={}));class ht extends Se{constructor(e){super(),ve(this,e,gt,mt,c,{})}}const yt=e=>({}),$t=e=>({}),vt=e=>({}),St=e=>({});function bt(e){let t,n,r,o,l,s,c,i;const u=e[1].title,f=a(u,e,e[0],St),p=e[1].content,m=a(p,e,e[0],$t);return{c(){t=w("div"),n=w("label"),r=w("input"),o=k(),l=w("span"),f&&f.c(),s=k(),c=w("div"),m&&m.c(),I(r,"type","checkbox"),I(r,"class","svelte-xc7hwq"),I(l,"class","tab-label svelte-xc7hwq"),I(c,"class","tab-content svelte-xc7hwq"),I(t,"class","tab svelte-xc7hwq")},m(e,a){v(e,t,a),$(t,n),$(n,r),$(n,o),$(n,l),f&&f.m(l,null),$(n,s),$(n,c),m&&m.m(c,null),i=!0},p(e,[t]){f&&f.p&&1&t&&d(f,u,e,e[0],t,vt,St),m&&m.p&&1&t&&d(m,p,e,e[0],t,yt,$t)},i(e){i||(ue(f,e),ue(m,e),i=!0)},o(e){de(f,e),de(m,e),i=!1},d(e){e&&S(t),f&&f.d(e),m&&m.d(e)}}}function wt(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class Ct extends Se{constructor(e){super(),ve(this,e,wt,bt,c,{})}}function xt(e){return"[object Date]"===Object.prototype.toString.call(e)}function kt(e,t){if(e===t||e!=e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map(((t,n)=>kt(e[n],t)));return e=>n.map((t=>t(e)))}if("object"===n){if(!e||!t)throw new Error("Object cannot be null");if(xt(e)&&xt(t)){e=e.getTime();const n=(t=t.getTime())-e;return t=>new Date(e+t*n)}const n=Object.keys(t),r={};return n.forEach((n=>{r[n]=kt(e[n],t[n])})),e=>{const t={};return n.forEach((n=>{t[n]=r[n](e)})),t}}if("number"===n){const n=t-e;return t=>e+t*n}throw new Error(`Cannot interpolate ${n} values`)}function Pt(e){let t;const n=e[7].default,r=a(n,e,e[6],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,t){r&&r.p&&64&t&&d(r,n,e,e[6],t,null,null)},i(e){t||(ue(r,e),t=!0)},o(e){de(r,e),t=!1},d(e){r&&r.d(e)}}}function Nt(t){let n,r;return{c(){n=w("p"),r=x(t[0]),I(n,"class","svelte-dvdjkv")},m(e,t){v(e,n,t),$(n,r)},p(e,t){1&t&&O(r,e[0])},i:e,o:e,d(e){e&&S(n)}}}function It(e){let t,n,r,o=e[2].toFixed(2)+"";return{c(){t=w("span"),n=x(o),r=x("%"),I(t,"class","svelte-dvdjkv")},m(e,o){v(e,t,o),$(t,n),$(t,r)},p(e,t){4&t&&o!==(o=e[2].toFixed(2)+"")&&O(n,o)},d(e){e&&S(t)}}}function Ot(e){let t,n,r,o,l,s;const c=[Nt,Pt],i=[];function a(e,t){return""!=e[0]?0:1}r=a(e),o=i[r]=c[r](e);let u=e[1]&&It(e);return{c(){t=w("div"),n=w("div"),o.c(),l=k(),u&&u.c(),D(n,"width",e[2]+"%"),D(n,"background-color","#"+e[4]),I(n,"class","progress-bar svelte-dvdjkv"),I(t,"class","progress progress-striped svelte-dvdjkv")},m(e,o){v(e,t,o),$(t,n),i[r].m(n,null),$(n,l),u&&u.m(n,null),s=!0},p(e,[t]){let d=r;r=a(e),r===d?i[r].p(e,t):(ie(),de(i[d],1,1,(()=>{i[d]=null})),ae(),o=i[r],o?o.p(e,t):(o=i[r]=c[r](e),o.c()),ue(o,1),o.m(n,l)),e[1]?u?u.p(e,t):(u=It(e),u.c(),u.m(n,null)):u&&(u.d(1),u=null),(!s||4&t)&&D(n,"width",e[2]+"%")},i(e){s||(ue(o),s=!0)},o(e){de(o),s=!1},d(e){e&&S(t),i[r].d(),u&&u.d()}}}function _t(e,r,o){let l,{$$slots:s={},$$scope:c}=r;const a=function(e,r={}){const o=Ce(e);let l,s=e;function c(c,i){if(null==e)return o.set(e=c),Promise.resolve();s=c;let a=l,u=!1,{delay:d=0,duration:f=400,easing:m=t,interpolate:g=kt}=n(n({},r),i);if(0===f)return a&&(a.abort(),a=null),o.set(e=s),Promise.resolve();const h=p()+d;let $;return l=y((t=>{if(t<h)return!0;u||($=g(e,c),"function"==typeof f&&(f=f(e,c)),u=!0),a&&(a.abort(),a=null);const n=t-h;return n>f?(o.set(e=c),!1):(o.set(e=$(m(n/f))),!0)})),l.promise}return{set:c,update:(t,n)=>c(t(s,e),n),subscribe:o.subscribe}}(0,{duration:500,easing:et});i(e,a,(e=>o(2,l=e)));let u,{progressPercent:d=100}=r,{text:f=""}=r,m=Math.floor(16777215*Math.random()).toString(16);return e.$$set=e=>{"progressPercent"in e&&o(5,d=e.progressPercent),"text"in e&&o(0,f=e.text),"$$scope"in e&&o(6,c=e.$$scope)},e.$$.update=()=>{32&e.$$.dirty&&o(5,d=d>100?100:d),32&e.$$.dirty&&a.set(d),32&e.$$.dirty&&o(1,u=d>20)},[f,u,l,a,m,d,c,s]}class Dt extends Se{constructor(e){super(),ve(this,e,_t,Ot,c,{progressPercent:5,text:0})}}function Mt(e,t,n){const r=e.slice();return r[1]=t[n],r}function At(e,t,n){const r=e.slice();return r[4]=t[n],r}function Et(e){let t,n,r=e[4]+"";return{c(){t=w("li"),n=x(r)},m(e,r){v(e,t,r),$(t,n)},p(e,t){1&t&&r!==(r=e[4]+"")&&O(n,r)},d(e){e&&S(t)}}}function Bt(e){let t,n,r,o,l,s=e[1].player.Name+"",c=e[1].bannedMods,i=[];for(let t=0;t<c.length;t+=1)i[t]=Et(At(e,c,t));return{c(){t=w("li"),n=x(s),r=k(),o=w("ul");for(let e=0;e<i.length;e+=1)i[e].c();l=k()},m(e,s){v(e,t,s),$(t,n),$(t,r),$(t,o);for(let e=0;e<i.length;e+=1)i[e].m(o,null);$(t,l)},p(e,t){if(1&t&&s!==(s=e[1].player.Name+"")&&O(n,s),1&t){let n;for(c=e[1].bannedMods,n=0;n<c.length;n+=1){const r=At(e,c,n);i[n]?i[n].p(r,t):(i[n]=Et(r),i[n].c(),i[n].m(o,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=c.length}},d(e){e&&S(t),b(i,e)}}}function Lt(t){let n,r,o,l=t[0],s=[];for(let e=0;e<l.length;e+=1)s[e]=Bt(Mt(t,l,e));return{c(){n=w("h3"),n.textContent="Banned Mods",r=k(),o=w("ul");for(let e=0;e<s.length;e+=1)s[e].c()},m(e,t){v(e,n,t),v(e,r,t),v(e,o,t);for(let e=0;e<s.length;e+=1)s[e].m(o,null)},p(e,[t]){if(1&t){let n;for(l=e[0],n=0;n<l.length;n+=1){const r=Mt(e,l,n);s[n]?s[n].p(r,t):(s[n]=Bt(r),s[n].c(),s[n].m(o,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=l.length}},i:e,o:e,d(e){e&&S(n),e&&S(r),e&&S(o),b(s,e)}}}function Ut(e,t,n){let{players:r}=t;return e.$$set=e=>{"players"in e&&n(0,r=e.players)},[r]}class Ft extends Se{constructor(e){super(),ve(this,e,Ut,Lt,c,{players:0})}}function Tt(e,t,n){const r=e.slice();return r[39]=t[n],r[40]=t,r[41]=n,r}function jt(e,t,n){const r=e.slice();return r[39]=t[n],r[42]=t,r[43]=n,r}function Rt(e,t,n){const r=e.slice();return r[44]=t[n],r}function Wt(e,t,n){const r=e.slice();return r[47]=t[n],r}function Ht(e,t,n){const r=e.slice();return r[50]=t[n],r}function qt(e,t,n){const r=e.slice();return r[53]=t[n],r}function Gt(e,t,n){const r=e.slice();return r[56]=t[n],r}function zt(e,t,n){const r=e.slice();return r[56]=t[n],r}function Jt(t){let n,r,o,l,s,c;return n=new st({props:{text:"Check for Banned Mods",secondary:!0}}),n.$on("click",t[16]),s=new st({props:{text:"Check for Whitelisted Mods",secondary:!0}}),s.$on("click",t[17]),{c(){ge(n.$$.fragment),r=k(),o=w("br"),l=k(),ge(s.$$.fragment)},m(e,t){he(n,e,t),v(e,r,t),v(e,o,t),v(e,l,t),he(s,e,t),c=!0},p:e,i(e){c||(ue(n.$$.fragment,e),ue(s.$$.fragment,e),c=!0)},o(e){de(n.$$.fragment,e),de(s.$$.fragment,e),c=!1},d(e){ye(n,e),e&&S(r),e&&S(o),e&&S(l),ye(s,e)}}}function Qt(e){let t,n,r=e[0].Players.sort(wn),o=[];for(let t=0;t<r.length;t+=1)o[t]=Vt(Gt(e,r,t));const l=e=>de(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=P()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);v(e,t,r),n=!0},p(e,n){if(262145&n[0]){let s;for(r=e[0].Players.sort(wn),s=0;s<r.length;s+=1){const l=Gt(e,r,s);o[s]?(o[s].p(l,n),ue(o[s],1)):(o[s]=Vt(l),o[s].c(),ue(o[s],1),o[s].m(t.parentNode,t))}for(ie(),s=r.length;s<o.length;s+=1)l(s);ae()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)ue(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)de(o[e]);n=!1},d(e){b(o,e),e&&S(t)}}}function Kt(e){let t,n,r=e[0].Players.sort(bn),o=[];for(let t=0;t<r.length;t+=1)o[t]=Zt(zt(e,r,t));const l=e=>de(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=P()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);v(e,t,r),n=!0},p(e,n){if(1&n[0]){let s;for(r=e[0].Players.sort(bn),s=0;s<r.length;s+=1){const l=zt(e,r,s);o[s]?(o[s].p(l,n),ue(o[s],1)):(o[s]=Zt(l),o[s].c(),ue(o[s],1),o[s].m(t.parentNode,t))}for(ie(),s=r.length;s<o.length;s+=1)l(s);ae()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)ue(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)de(o[e]);n=!1},d(e){b(o,e),e&&S(t)}}}function Vt(n){let r,o,c,i,a,u,d,f,m,g,h,b,C,P,_,D,M,A,E,B,L,U,j,R,W,H,q,G,z,J,Q,K,V,X,Y,ee,te,ne,re,se,ie,ae,pe,me,$e,ve,Se,be,we,Ce,xe,ke,Pe,Ne,Ie,Oe=n[56].Name+"",_e=n[56].Score+"",De=(100*n[56].Accuracy).toFixed(2)+"",Me=n[56].Combo+"",Ae=n[56].Team.Name+"",Ee=ze[n[56].PlayState]+"",Be=Je[n[56].DownloadState]+"";return we=new st({props:{text:"Kick",secondary:!0}}),we.$on("click",(function(){return n[30](n[56])})),{c(){r=w("div"),o=w("img"),a=k(),u=w("b"),d=x(Oe),f=k(),m=w("hr"),g=k(),h=w("b"),h.textContent="Score:",b=k(),C=x(_e),P=k(),_=w("br"),D=k(),M=w("b"),M.textContent="Accuracy:",A=k(),E=x(De),B=x("%\n\t\t\t\t\t\t"),L=w("br"),U=k(),j=w("b"),j.textContent="Combo:",R=k(),W=x(Me),H=k(),q=w("br"),G=k(),z=w("hr"),J=k(),Q=w("b"),Q.textContent="Team:",K=k(),V=x(Ae),X=k(),Y=w("br"),ee=k(),te=w("b"),te.textContent="Play State:",ne=k(),re=x(Ee),se=k(),ie=w("br"),ae=k(),pe=w("b"),pe.textContent="Download State:",me=k(),$e=x(Be),ve=k(),Se=w("hr"),be=k(),ge(we.$$.fragment),Ce=k(),I(o,"loading","lazy"),I(o,"class","playerImg mini"),o.src!==(c="https://new.scoresaber.com/api/static/avatars/"+n[56].UserId+".jpg")&&I(o,"src",c),I(o,"alt",i=n[56].Name+"'s profile image'"),I(r,"class","infoCard svelte-15iwx6t")},m(e,t){v(e,r,t),$(r,o),$(r,a),$(r,u),$(u,d),$(r,f),$(r,m),$(r,g),$(r,h),$(r,b),$(r,C),$(r,P),$(r,_),$(r,D),$(r,M),$(r,A),$(r,E),$(r,B),$(r,L),$(r,U),$(r,j),$(r,R),$(r,W),$(r,H),$(r,q),$(r,G),$(r,z),$(r,J),$(r,Q),$(r,K),$(r,V),$(r,X),$(r,Y),$(r,ee),$(r,te),$(r,ne),$(r,re),$(r,se),$(r,ie),$(r,ae),$(r,pe),$(r,me),$(r,$e),$(r,ve),$(r,Se),$(r,be),he(we,r,null),$(r,Ce),Pe=!0,Ne||(Ie=N(o,"error",Sn),Ne=!0)},p(e,t){n=e,(!Pe||1&t[0]&&o.src!==(c="https://new.scoresaber.com/api/static/avatars/"+n[56].UserId+".jpg"))&&I(o,"src",c),(!Pe||1&t[0]&&i!==(i=n[56].Name+"'s profile image'"))&&I(o,"alt",i),(!Pe||1&t[0])&&Oe!==(Oe=n[56].Name+"")&&O(d,Oe),(!Pe||1&t[0])&&_e!==(_e=n[56].Score+"")&&O(C,_e),(!Pe||1&t[0])&&De!==(De=(100*n[56].Accuracy).toFixed(2)+"")&&O(E,De),(!Pe||1&t[0])&&Me!==(Me=n[56].Combo+"")&&O(W,Me),(!Pe||1&t[0])&&Ae!==(Ae=n[56].Team.Name+"")&&O(V,Ae),(!Pe||1&t[0])&&Ee!==(Ee=ze[n[56].PlayState]+"")&&O(re,Ee),(!Pe||1&t[0])&&Be!==(Be=Je[n[56].DownloadState]+"")&&O($e,Be)},i(o){Pe||(ue(we.$$.fragment,o),Z((()=>{ke&&ke.end(1),xe||(xe=function(n,r,o){let l,c,i=r(n,o),a=!1,u=0;function d(){l&&T(n,l)}function f(){const{delay:r=0,duration:o=300,easing:s=t,tick:f=e,css:m}=i||fe;m&&(l=F(n,0,1,o,r,s,m,u++)),f(0,1);const g=p()+r,h=g+o;c&&c.abort(),a=!0,Z((()=>le(n,!0,"start"))),c=y((e=>{if(a){if(e>=h)return f(1,0),le(n,!0,"end"),d(),a=!1;if(e>=g){const t=s((e-g)/o);f(t,1-t)}}return a}))}let m=!1;return{start(){m||(T(n),s(i)?(i=i(),oe().then(f)):f())},invalidate(){m=!1},end(){a&&(d(),a=!1)}}}(r,n[21],{key:n[56].Id})),xe.start()})),Pe=!0)},o(o){de(we.$$.fragment,o),xe&&xe.invalidate(),ke=function(n,r,o){let c,i=r(n,o),a=!0;const u=ce;function d(){const{delay:r=0,duration:o=300,easing:s=t,tick:d=e,css:f}=i||fe;f&&(c=F(n,1,0,o,r,s,f));const m=p()+r,g=m+o;Z((()=>le(n,!1,"start"))),y((e=>{if(a){if(e>=g)return d(0,1),le(n,!1,"end"),--u.r||l(u.c),!1;if(e>=m){const t=s((e-m)/o);d(1-t,t)}}return a}))}return u.r+=1,s(i)?oe().then((()=>{i=i(),d()})):d(),{end(e){e&&i.tick&&i.tick(1,0),a&&(c&&T(n,c),a=!1)}}}(r,n[20],{key:n[56].Id}),Pe=!1},d(e){e&&S(r),ye(we),e&&ke&&ke.end(),Ne=!1,Ie()}}}function Zt(e){let t,n,r,o,l,s,c,i,a,u,d,f,p=e[56].Score+"",m=e[56].Combo+"";return t=new Dt({props:{progressPercent:parseFloat((100*e[56].Accuracy).toFixed(2)),text:e[56].Name}}),{c(){ge(t.$$.fragment),n=k(),r=w("p"),o=w("span"),l=x(p),s=k(),c=w("span"),i=x(m),a=k(),u=w("br"),d=k(),D(o,"float","left"),D(c,"float","right"),I(r,"class","svelte-15iwx6t"),I(u,"class","svelte-15iwx6t")},m(e,p){he(t,e,p),v(e,n,p),v(e,r,p),$(r,o),$(o,l),$(r,s),$(r,c),$(c,i),v(e,a,p),v(e,u,p),v(e,d,p),f=!0},p(e,n){const r={};1&n[0]&&(r.progressPercent=parseFloat((100*e[56].Accuracy).toFixed(2))),1&n[0]&&(r.text=e[56].Name),1073741824&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r),(!f||1&n[0])&&p!==(p=e[56].Score+"")&&O(l,p),(!f||1&n[0])&&m!==(m=e[56].Combo+"")&&O(i,m)},i(e){f||(ue(t.$$.fragment,e),f=!0)},o(e){de(t.$$.fragment,e),f=!1},d(e){ye(t,e),e&&S(n),e&&S(r),e&&S(a),e&&S(u),e&&S(d)}}}function Xt(e){let t,n,r,o;return r=new ht({props:{$$slots:{default:[on]},$$scope:{ctx:e}}}),{c(){t=w("h3"),t.textContent="Previous Scores",n=k(),ge(r.$$.fragment)},m(e,l){v(e,t,l),v(e,n,l),he(r,e,l),o=!0},p(e,t){const n={};4&t[0]|1073741824&t[1]&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){o||(ue(r.$$.fragment,e),o=!0)},o(e){de(r.$$.fragment,e),o=!1},d(e){e&&S(t),e&&S(n),ye(r,e)}}}function Yt(e){let t,n,r=e[50][0].Beatmap.Name+"";return{c(){t=w("span"),n=x(r),I(t,"slot","title")},m(e,r){v(e,t,r),$(t,n)},p(e,t){4&t[0]&&r!==(r=e[50][0].Beatmap.Name+"")&&O(n,r)},d(e){e&&S(t)}}}function en(e){let t,n,r,o,l,s,c,i,a,u,d,f,p,m,g,h,y,b=e[53].User.Name+"",C=e[53].User.Score+"",P=(100*e[53].User.Accuracy).toFixed(2)+"",N=e[19](e[53].Type)+"";return{c(){t=w("li"),n=x(b),r=k(),o=w("br"),l=k(),s=w("div"),c=x("Score:\n\t\t\t\t\t\t\t\t\t\t"),i=x(C),a=k(),u=w("br"),d=x("\n\t\t\t\t\t\t\t\t\t\tAcc:\n\t\t\t\t\t\t\t\t\t\t"),f=x(P),p=x("%\n\t\t\t\t\t\t\t\t\t\t"),m=w("br"),g=x("\n\t\t\t\t\t\t\t\t\t\tResult:\n\t\t\t\t\t\t\t\t\t\t"),h=x(N),y=k(),D(s,"margin-left","20px")},m(e,S){v(e,t,S),$(t,n),$(t,r),$(t,o),$(t,l),$(t,s),$(s,c),$(s,i),$(s,a),$(s,u),$(s,d),$(s,f),$(s,p),$(s,m),$(s,g),$(s,h),$(t,y)},p(e,t){4&t[0]&&b!==(b=e[53].User.Name+"")&&O(n,b),4&t[0]&&C!==(C=e[53].User.Score+"")&&O(i,C),4&t[0]&&P!==(P=(100*e[53].User.Accuracy).toFixed(2)+"")&&O(f,P),4&t[0]&&N!==(N=e[19](e[53].Type)+"")&&O(h,N)},d(e){e&&S(t)}}}function tn(e){let t,n=e[50],r=[];for(let t=0;t<n.length;t+=1)r[t]=en(qt(e,n,t));return{c(){t=w("ol");for(let e=0;e<r.length;e+=1)r[e].c();I(t,"slot","content")},m(e,n){v(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,o){if(524292&o[0]){let l;for(n=e[50],l=0;l<n.length;l+=1){const s=qt(e,n,l);r[l]?r[l].p(s,o):(r[l]=en(s),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(e){e&&S(t),b(r,e)}}}function nn(t){let n,r;return{c(){n=k(),r=k()},m(e,t){v(e,n,t),v(e,r,t)},p:e,d(e){e&&S(n),e&&S(r)}}}function rn(e){let t,n;return t=new Ct({props:{$$slots:{default:[nn],content:[tn],title:[Yt]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},p(e,n){const r={};4&n[0]|1073741824&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){ye(t,e)}}}function on(e){let t,n,r=e[2].reverse(),o=[];for(let t=0;t<r.length;t+=1)o[t]=rn(Ht(e,r,t));const l=e=>de(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=P()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);v(e,t,r),n=!0},p(e,n){if(524292&n[0]){let s;for(r=e[2].reverse(),s=0;s<r.length;s+=1){const l=Ht(e,r,s);o[s]?(o[s].p(l,n),ue(o[s],1)):(o[s]=rn(l),o[s].c(),ue(o[s],1),o[s].m(t.parentNode,t))}for(ie(),s=r.length;s<o.length;s+=1)l(s);ae()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)ue(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)de(o[e]);n=!1},d(e){b(o,e),e&&S(t)}}}function ln(e){let t,n,r,o,l,s,c,i,a,u,d,f=e[0].SelectedLevel.Name+"";function p(t){e[32].call(null,t)}let m={$$slots:{default:[cn]},$$scope:{ctx:e}};void 0!==e[0].SelectedCharacteristic&&(m.value=e[0].SelectedCharacteristic),s=new pt({props:m}),z.push((()=>me(s,"value",p))),s.$on("change",e[13]);let g=e[0].SelectedCharacteristic&&an(e),h=(e[1]||e[7])&&fn(e);return{c(){t=w("p"),n=w("b"),n.textContent="Loaded Map:",r=k(),o=x(f),l=k(),ge(s.$$.fragment),i=k(),g&&g.c(),a=k(),h&&h.c(),u=P()},m(e,c){v(e,t,c),$(t,n),$(t,r),$(t,o),v(e,l,c),he(s,e,c),v(e,i,c),g&&g.m(e,c),v(e,a,c),h&&h.m(e,c),v(e,u,c),d=!0},p(e,t){(!d||1&t[0])&&f!==(f=e[0].SelectedLevel.Name+"")&&O(o,f);const n={};1&t[0]|1073741824&t[1]&&(n.$$scope={dirty:t,ctx:e}),!c&&1&t[0]&&(c=!0,n.value=e[0].SelectedCharacteristic,X((()=>c=!1))),s.$set(n),e[0].SelectedCharacteristic?g?(g.p(e,t),1&t[0]&&ue(g,1)):(g=an(e),g.c(),ue(g,1),g.m(a.parentNode,a)):g&&(ie(),de(g,1,1,(()=>{g=null})),ae()),e[1]||e[7]?h?(h.p(e,t),130&t[0]&&ue(h,1)):(h=fn(e),h.c(),ue(h,1),h.m(u.parentNode,u)):h&&(ie(),de(h,1,1,(()=>{h=null})),ae())},i(e){d||(ue(s.$$.fragment,e),ue(g),ue(h),d=!0)},o(e){de(s.$$.fragment,e),de(g),de(h),d=!1},d(e){e&&S(t),e&&S(l),ye(s,e),e&&S(i),g&&g.d(e),e&&S(a),h&&h.d(e),e&&S(u)}}}function sn(e){let t,n,r,o=e[47].SerializedName+"";return{c(){t=w("option"),n=x(o),t.__value=r=e[47],t.value=t.__value},m(e,r){v(e,t,r),$(t,n)},p(e,l){1&l[0]&&o!==(o=e[47].SerializedName+"")&&O(n,o),1&l[0]&&r!==(r=e[47])&&(t.__value=r,t.value=t.__value)},d(e){e&&S(t)}}}function cn(e){let t,n=e[0].SelectedLevel?.Characteristics,r=[];for(let t=0;t<n.length;t+=1)r[t]=sn(Wt(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=P()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);v(e,t,n)},p(e,o){if(1&o[0]){let l;for(n=e[0].SelectedLevel?.Characteristics,l=0;l<n.length;l+=1){const s=Wt(e,n,l);r[l]?r[l].p(s,o):(r[l]=sn(s),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(e){b(r,e),e&&S(t)}}}function an(e){let t,n,r;function o(t){e[33].call(null,t)}let l={$$slots:{default:[dn]},$$scope:{ctx:e}};return void 0!==e[0].SelectedDifficulty&&(l.value=e[0].SelectedDifficulty),t=new pt({props:l}),z.push((()=>me(t,"value",o))),t.$on("change",e[13]),{c(){ge(t.$$.fragment)},m(e,n){he(t,e,n),r=!0},p(e,r){const o={};513&r[0]|1073741824&r[1]&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r[0]&&(n=!0,o.value=e[0].SelectedDifficulty,X((()=>n=!1))),t.$set(o)},i(e){r||(ue(t.$$.fragment,e),r=!0)},o(e){de(t.$$.fragment,e),r=!1},d(e){ye(t,e)}}}function un(e){let t,n,r,o,l,s=We[e[44]]+"";return{c(){t=w("option"),n=x(s),r=k(),t.selected=o=e[44]==e[0].SelectedDifficulty,t.__value=l=e[44],t.value=t.__value},m(e,o){v(e,t,o),$(t,n),$(t,r)},p(e,r){1&r[0]&&s!==(s=We[e[44]]+"")&&O(n,s),1&r[0]&&o!==(o=e[44]==e[0].SelectedDifficulty)&&(t.selected=o),1&r[0]&&l!==(l=e[44])&&(t.__value=l,t.value=t.__value)},d(e){e&&S(t)}}}function dn(e){let t,n,r,o,l,s=e[0].SelectedCharacteristic?.Difficulties.sort(),c=[];for(let t=0;t<s.length;t+=1)c[t]=un(Rt(e,s,t));return{c(){t=w("option"),n=x("Select a Difficulty"),o=k();for(let e=0;e<c.length;e+=1)c[e].c();l=P(),t.selected=r=!e[9],t.disabled=!0,t.__value="\n\t\t\t\t\t\tSelect a Difficulty\n\t\t\t\t\t",t.value=t.__value},m(e,r){v(e,t,r),$(t,n),v(e,o,r);for(let t=0;t<c.length;t+=1)c[t].m(e,r);v(e,l,r)},p(e,n){if(512&n[0]&&r!==(r=!e[9])&&(t.selected=r),1&n[0]){let t;for(s=e[0].SelectedCharacteristic?.Difficulties.sort(),t=0;t<s.length;t+=1){const r=Rt(e,s,t);c[t]?c[t].p(r,n):(c[t]=un(r),c[t].c(),c[t].m(l.parentNode,l))}for(;t<c.length;t+=1)c[t].d(1);c.length=s.length}},d(e){e&&S(t),e&&S(o),b(c,e),e&&S(l)}}}function fn(e){let t,n,r,o,l,s,c,i,a,u,d,f,p=e[6],m=[];for(let t=0;t<p.length;t+=1)m[t]=pn(jt(e,p,t));const g=e=>de(m[e],1,1,(()=>{m[e]=null}));let h=e[5],y=[];for(let t=0;t<h.length;t+=1)y[t]=mn(Tt(e,h,t));const C=e=>de(y[e],1,1,(()=>{y[e]=null}));let x=e[1]&&gn(e),N=e[7]&&hn(e);return{c(){t=w("br"),n=k(),r=w("div"),o=w("ul");for(let e=0;e<m.length;e+=1)m[e].c();l=k(),s=w("ul");for(let e=0;e<y.length;e+=1)y[e].c();c=k(),i=w("br"),a=k(),x&&x.c(),u=k(),N&&N.c(),d=P(),D(o,"list-style","none"),D(o,"float","left"),D(o,"margin-right","20px"),D(s,"list-style","none"),D(s,"float","left"),D(r,"width","100%"),D(r,"overflow","hidden")},m(e,p){v(e,t,p),v(e,n,p),v(e,r,p),$(r,o);for(let e=0;e<m.length;e+=1)m[e].m(o,null);$(r,l),$(r,s);for(let e=0;e<y.length;e+=1)y[e].m(s,null);v(e,c,p),v(e,i,p),v(e,a,p),x&&x.m(e,p),v(e,u,p),N&&N.m(e,p),v(e,d,p),f=!0},p(e,t){if(64&t[0]){let n;for(p=e[6],n=0;n<p.length;n+=1){const r=jt(e,p,n);m[n]?(m[n].p(r,t),ue(m[n],1)):(m[n]=pn(r),m[n].c(),ue(m[n],1),m[n].m(o,null))}for(ie(),n=p.length;n<m.length;n+=1)g(n);ae()}if(32&t[0]){let n;for(h=e[5],n=0;n<h.length;n+=1){const r=Tt(e,h,n);y[n]?(y[n].p(r,t),ue(y[n],1)):(y[n]=mn(r),y[n].c(),ue(y[n],1),y[n].m(s,null))}for(ie(),n=h.length;n<y.length;n+=1)C(n);ae()}e[1]?x?(x.p(e,t),2&t[0]&&ue(x,1)):(x=gn(e),x.c(),ue(x,1),x.m(u.parentNode,u)):x&&(ie(),de(x,1,1,(()=>{x=null})),ae()),e[7]?N?(N.p(e,t),128&t[0]&&ue(N,1)):(N=hn(e),N.c(),ue(N,1),N.m(d.parentNode,d)):N&&(ie(),de(N,1,1,(()=>{N=null})),ae())},i(e){if(!f){for(let e=0;e<p.length;e+=1)ue(m[e]);for(let e=0;e<h.length;e+=1)ue(y[e]);ue(x),ue(N),f=!0}},o(e){m=m.filter(Boolean);for(let e=0;e<m.length;e+=1)de(m[e]);y=y.filter(Boolean);for(let e=0;e<y.length;e+=1)de(y[e]);de(x),de(N),f=!1},d(e){e&&S(t),e&&S(n),e&&S(r),b(m,e),b(y,e),e&&S(c),e&&S(i),e&&S(a),x&&x.d(e),e&&S(u),N&&N.d(e),e&&S(d)}}}function pn(e){let t,n,r,o,l;function s(t){e[34].call(null,t,e[39])}let c={label:e[39].name};return void 0!==e[39].isSelected&&(c.checked=e[39].isSelected),n=new at({props:c}),z.push((()=>me(n,"checked",s))),{c(){t=w("li"),ge(n.$$.fragment),o=k()},m(e,r){v(e,t,r),he(n,t,null),$(t,o),l=!0},p(t,o){e=t;const l={};64&o[0]&&(l.label=e[39].name),!r&&64&o[0]&&(r=!0,l.checked=e[39].isSelected,X((()=>r=!1))),n.$set(l)},i(e){l||(ue(n.$$.fragment,e),l=!0)},o(e){de(n.$$.fragment,e),l=!1},d(e){e&&S(t),ye(n)}}}function mn(e){let t,n,r,o,l;function s(t){e[35].call(null,t,e[39])}let c={label:e[39].label};return void 0!==e[39].isSelected&&(c.checked=e[39].isSelected),n=new at({props:c}),z.push((()=>me(n,"checked",s))),{c(){t=w("li"),ge(n.$$.fragment),o=k()},m(e,r){v(e,t,r),he(n,t,null),$(t,o),l=!0},p(t,o){e=t;const l={};32&o[0]&&(l.label=e[39].label),!r&&32&o[0]&&(r=!0,l.checked=e[39].isSelected,X((()=>r=!1))),n.$set(l)},i(e){l||(ue(n.$$.fragment,e),l=!0)},o(e){de(n.$$.fragment,e),l=!1},d(e){e&&S(t),ye(n)}}}function gn(e){let t,n;return t=new st({props:{primary:!0,disabled:!e[10]||!e[4],text:"Play Song"}}),t.$on("click",e[14]),{c(){ge(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},p(e,n){const r={};1040&n[0]&&(r.disabled=!e[10]||!e[4]),t.$set(r)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){ye(t,e)}}}function hn(t){let n,r;return n=new st({props:{primary:!0,text:"Return To Menu"}}),n.$on("click",t[15]),{c(){ge(n.$$.fragment)},m(e,t){he(n,e,t),r=!0},p:e,i(e){r||(ue(n.$$.fragment,e),r=!0)},o(e){de(n.$$.fragment,e),r=!1},d(e){ye(n,e)}}}function yn(t){let n,r;return n=new st({props:{secondary:!0,text:"Close Match"}}),n.$on("click",t[36]),{c(){ge(n.$$.fragment)},m(e,t){he(n,e,t),r=!0},p:e,i(e){r||(ue(n.$$.fragment,e),r=!0)},o(e){de(n.$$.fragment,e),r=!1},d(e){ye(n,e)}}}function $n(e){let t,n,r,o,l,s,c,i,a,u,d,f,p,m,g,h,y,b,C,x,N,O,_,M,A,E,B=!e[7]&&Jt(e);const L=[Kt,Qt],U=[];function F(e,t){return e[7]?0:1}c=F(e),i=U[c]=L[c](e);let T=e[2].length>0&&Xt(e);function j(t){e[31].call(null,t)}let R={placeHolder:"Song URL/ID"};void 0!==e[3]&&(R.value=e[3]),m=new Ye({props:R}),z.push((()=>me(m,"value",j))),y=new st({props:{primary:!0,disabled:e[8]||""==e[3]||!e[3],text:e[8]?"Players Downloading":"Load Song"}}),y.$on("click",e[12]);let W=e[0].SelectedLevel&&ln(e),H=!e[7]&&yn(e);return{c(){t=w("section"),n=w("div"),r=w("h3"),r.textContent="Players",o=k(),B&&B.c(),l=k(),s=w("div"),i.c(),a=k(),T&&T.c(),u=k(),d=w("div"),f=w("h3"),f.textContent="Controls",p=k(),ge(m.$$.fragment),h=k(),ge(y.$$.fragment),b=k(),C=w("br"),x=k(),W&&W.c(),N=k(),O=w("hr"),_=w("br"),M=k(),H&&H.c(),A=P(),I(s,"class","cards svelte-15iwx6t"),D(n,"min-width","30%"),I(n,"class","svelte-15iwx6t"),I(d,"class","svelte-15iwx6t"),I(t,"class","svelte-15iwx6t")},m(e,i){v(e,t,i),$(t,n),$(n,r),$(n,o),B&&B.m(n,null),$(n,l),$(n,s),U[c].m(s,null),$(n,a),T&&T.m(n,null),$(t,u),$(t,d),$(d,f),$(d,p),he(m,d,null),$(d,h),he(y,d,null),$(d,b),$(d,C),$(d,x),W&&W.m(d,null),v(e,N,i),v(e,O,i),v(e,_,i),v(e,M,i),H&&H.m(e,i),v(e,A,i),E=!0},p(e,t){e[7]?B&&(ie(),de(B,1,1,(()=>{B=null})),ae()):B?(B.p(e,t),128&t[0]&&ue(B,1)):(B=Jt(e),B.c(),ue(B,1),B.m(n,l));let r=c;c=F(e),c===r?U[c].p(e,t):(ie(),de(U[r],1,1,(()=>{U[r]=null})),ae(),i=U[c],i?i.p(e,t):(i=U[c]=L[c](e),i.c()),ue(i,1),i.m(s,null)),e[2].length>0?T?(T.p(e,t),4&t[0]&&ue(T,1)):(T=Xt(e),T.c(),ue(T,1),T.m(n,null)):T&&(ie(),de(T,1,1,(()=>{T=null})),ae());const o={};!g&&8&t[0]&&(g=!0,o.value=e[3],X((()=>g=!1))),m.$set(o);const a={};264&t[0]&&(a.disabled=e[8]||""==e[3]||!e[3]),256&t[0]&&(a.text=e[8]?"Players Downloading":"Load Song"),y.$set(a),e[0].SelectedLevel?W?(W.p(e,t),1&t[0]&&ue(W,1)):(W=ln(e),W.c(),ue(W,1),W.m(d,null)):W&&(ie(),de(W,1,1,(()=>{W=null})),ae()),e[7]?H&&(ie(),de(H,1,1,(()=>{H=null})),ae()):H?(H.p(e,t),128&t[0]&&ue(H,1)):(H=yn(e),H.c(),ue(H,1),H.m(A.parentNode,A))},i(e){E||(ue(B),ue(i),ue(T),ue(m.$$.fragment,e),ue(y.$$.fragment,e),ue(W),ue(H),E=!0)},o(e){de(B),de(i),de(T),de(m.$$.fragment,e),de(y.$$.fragment,e),de(W),de(H),E=!1},d(e){e&&S(t),B&&B.d(),U[c].d(),T&&T.d(),ye(m),ye(y),W&&W.d(),e&&S(N),e&&S(O),e&&S(_),e&&S(M),H&&H.d(e),e&&S(A)}}}function vn(e){for(var t=e.split(" "),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].substring(1);return t.join(" ")}function Sn(e){this.src="https://scoresaber.com/imports/images/oculus.png"}const bn=(e,t)=>t.Score-e.Score,wn=(e,t)=>t.Score-e.Score;function Cn(e,t,n){var r,o,l,s,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,l){function s(e){try{i(r.next(e))}catch(e){l(e)}}function c(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}i((r=r.apply(e,t||[])).next())}))};let{modal:i}=t,{taState:a}=t,{curMatch:u}=t;const d=W();let f=[];let p,m=!1,g=[{label:"Show Scoreboard",isSelected:!1},{label:"Disable Pause",isSelected:!0},{label:"Disable Fail",isSelected:!0}],h=[];for(const e in He)if(isNaN(Number(e))){if("None"==e)continue;h.push({name:e.replace(/([A-Z])/g," $1").trim(),value:He[e],isSelected:!1})}function y(e){d("playerKick",e)}const[$,v]=rt({duration:e=>Math.sqrt(200*e),fallback(e,t){const n=getComputedStyle(e),r="none"===n.transform?"":n.transform;return{duration:600,easing:tt,css:e=>`\n\t\t\t\t\ttransform: ${r} scale(${e});\n\t\t\t\t\topacity: ${e}\n\t\t\t\t`}}});let S,b,w,C,x,k,P;return e.$$set=e=>{"modal"in e&&n(22,i=e.modal),"taState"in e&&n(23,a=e.taState),"curMatch"in e&&n(0,u=e.curMatch)},e.$$.update=()=>{1&e.$$.dirty[0]&&(S=!u.Players.every((e=>e.DownloadState!=Je.None))),1&e.$$.dirty[0]&&n(1,b=u.Players.every((e=>e.PlayState==ze.Waiting))),1&e.$$.dirty[0]&&n(7,w=u.Players.every((e=>1==e.PlayState))),1&e.$$.dirty[0]&&n(8,C=u.Players.some((e=>e.DownloadState==Je.Downloading))),1&e.$$.dirty[0]&&n(29,x=u.Players.every((e=>e.DownloadState==Je.Downloaded))),100663297&e.$$.dirty[0]&&n(9,k=null===n(26,o=null===n(25,r=u.SelectedCharacteristic)||void 0===r?void 0:r.Difficulties)||void 0===o?void 0:o.includes(u.SelectedDifficulty)),939524099&e.$$.dirty[0]&&n(10,P=x&&b&&(null===n(28,s=null===n(27,l=u.SelectedCharacteristic)||void 0===l?void 0:l.Difficulties)||void 0===s?void 0:s.includes(u.SelectedDifficulty)))},[u,b,f,p,m,g,h,w,C,k,P,d,function(){return c(this,void 0,void 0,(function*(){if(""==p||!p)return null;let e=p;p.includes("beatsaver")&&(e=p.split("beatmap/")[1],e.includes("&")&&(e=e.split("&")[0]));let t=yield fetch(`https://beatsaver.com/api/maps/detail/${e}`,{method:"GET",headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.102 Safari/537.36"}}),r=yield t.json(),o=r.hash,l=[];n(0,u.SelectedDifficulty=0,u);for(const e of r.metadata.characteristics){let t=[];for(const n in e.difficulties)if(Object.prototype.hasOwnProperty.call(e.difficulties,n)&&null!=e.difficulties[n]){let e=We[vn(n)];t.push(e)}l.push({SerializedName:e.name,Difficulties:t})}let s={LevelId:`custom_level_${o.toUpperCase()}`,Name:r.metadata.songName,Characteristics:l,Loaded:!0};n(0,u.SelectedLevel=s,u),n(0,u.SelectedCharacteristic=s.Characteristics[0],u),n(0,u.SelectedDifficulty=We.Easy,u);let c={Type:Re.MatchUpdated,ChangedObject:u},i={LevelId:u.SelectedLevel.LevelId,CustomHostUrl:null},a={ForwardTo:u.Players.map((e=>e.Id)),Type:je.LoadSong,SpecificPacket:i};setTimeout((function(){d("sendPacket",new Ve(a,je.ForwardingPacket))}),1e3),d("sendPacket",new Ve(c,je.Event)),n(4,m=!1)}))},function(){let e={Type:Re.MatchUpdated,ChangedObject:u};d("sendPacket",new Ve(e,je.Event))},function(){let e={Options:He.None};for(const t of h)t.isSelected&&(e.Options=e.Options|t.value);let t={Characteristic:u.SelectedCharacteristic,Difficulty:u.SelectedDifficulty,LevelId:u.SelectedLevel.LevelId,Name:u.SelectedLevel.Name},n={GameplayParameters:{PlayerSettings:{Options:qe.None},GameplayModifiers:e,Beatmap:t},FloatingScoreboard:g[0].isSelected,StreamSync:!1,DisablePause:g[1].isSelected,DisableFail:g[2].isSelected},r={ForwardTo:u.Players.map((e=>e.Id)),Type:je.PlaySong,SpecificPacket:n};d("sendPacket",new Ve(r,je.ForwardingPacket))},function(){let e={ForwardTo:u.Players.map((e=>e.Id)),Type:je.Command,SpecificPacket:{commandType:Ge.ReturnToMenu}};d("sendPacket",new Ve(e,je.ForwardingPacket))},function(){let e=[];for(const t of u.Players){let n=[];for(const e of t.ModList)a.ServerSettings.BannedMods.includes(e)&&n.push(e);e.push({player:t,bannedMods:n})}i.open(Ft,{players:e},{},{onClose:()=>{n(4,m=!0)}})},function(){let e=[];for(const t of u.Players){let n=[];for(const e of t.ModList)a.ServerSettings.BannedMods.includes(e)||n.push(e);e.push({player:t,bannedMods:n})}i.open(Ft,{players:e},{},{onClose:()=>{n(4,m=!0)}})},y,function(e){return Qe[e]},$,v,i,a,e=>{n(2,f=[...f,e])},r,o,l,s,x,e=>y(e),function(e){p=e,n(3,p)},function(e){u.SelectedCharacteristic=e,n(0,u)},function(e){u.SelectedDifficulty=e,n(0,u)},function(e,t){t.isSelected=e,n(6,h)},function(e,t){t.isSelected=e,n(5,g)},()=>d("close")]}class xn extends Se{constructor(e){super(),ve(this,e,Cn,$n,c,{modal:22,taState:23,curMatch:0,addScore:24},[-1,-1])}get addScore(){return this.$$.ctx[24]}}function kn(e){let t,r,o,c,i,a,u,d,f,p,m,g=e[1].closeButton&&Pn(e);const h=[e[3]];var y=e[2];function b(e){let t={};for(let e=0;e<h.length;e+=1)t=n(t,h[e]);return{props:t}}return y&&(a=new y(b())),{c(){t=w("div"),r=w("div"),o=w("div"),g&&g.c(),c=k(),i=w("div"),a&&ge(a.$$.fragment),I(i,"class","content svelte-1usmck3"),I(i,"style",e[13]),I(o,"class","window svelte-1usmck3"),I(o,"role","dialog"),I(o,"aria-modal","true"),I(o,"style",e[12]),I(r,"class","window-wrap svelte-1usmck3"),I(t,"class","bg svelte-1usmck3"),I(t,"style",e[11])},m(n,l){v(n,t,l),$(t,r),$(r,o),g&&g.m(o,null),$(o,c),$(o,i),a&&he(a,i,null),e[36](o),e[37](r),e[38](t),f=!0,p||(m=[N(o,"introstart",(function(){s(e[7])&&e[7].apply(this,arguments)})),N(o,"outrostart",(function(){s(e[8])&&e[8].apply(this,arguments)})),N(o,"introend",(function(){s(e[9])&&e[9].apply(this,arguments)})),N(o,"outroend",(function(){s(e[10])&&e[10].apply(this,arguments)})),N(t,"click",e[19])],p=!0)},p(n,r){(e=n)[1].closeButton?g?(g.p(e,r),2&r[0]&&ue(g,1)):(g=Pn(e),g.c(),ue(g,1),g.m(o,c)):g&&(ie(),de(g,1,1,(()=>{g=null})),ae());const l=8&r[0]?function(e,t){const n={},r={},o={$$scope:1};let l=e.length;for(;l--;){const s=e[l],c=t[l];if(c){for(const e in s)e in c||(r[e]=1);for(const e in c)o[e]||(n[e]=c[e],o[e]=1);e[l]=c}else for(const e in s)o[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}(h,[(s=e[3],"object"==typeof s&&null!==s?s:{})]):{};var s;if(y!==(y=e[2])){if(a){ie();const e=a;de(e.$$.fragment,1,0,(()=>{ye(e,1)})),ae()}y?(a=new y(b()),ge(a.$$.fragment),ue(a.$$.fragment,1),he(a,i,null)):a=null}else y&&a.$set(l);(!f||8192&r[0])&&I(i,"style",e[13]),(!f||4096&r[0])&&I(o,"style",e[12]),(!f||2048&r[0])&&I(t,"style",e[11])},i(n){f||(ue(g),a&&ue(a.$$.fragment,n),Z((()=>{u||(u=pe(o,e[16],e[1].transitionWindowProps,!0)),u.run(1)})),Z((()=>{d||(d=pe(t,e[15],e[1].transitionBgProps,!0)),d.run(1)})),f=!0)},o(n){de(g),a&&de(a.$$.fragment,n),u||(u=pe(o,e[16],e[1].transitionWindowProps,!1)),u.run(0),d||(d=pe(t,e[15],e[1].transitionBgProps,!1)),d.run(0),f=!1},d(n){n&&S(t),g&&g.d(),a&&ye(a),e[36](null),n&&u&&u.end(),e[37](null),e[38](null),n&&d&&d.end(),p=!1,l(m)}}}function Pn(e){let t,n,r,o,l;const s=[In,Nn],c=[];function i(e,n){return 2&n[0]&&(t=!!e[17](e[1].closeButton)),t?0:1}return n=i(e,[-1]),r=c[n]=s[n](e),{c(){r.c(),o=P()},m(e,t){c[n].m(e,t),v(e,o,t),l=!0},p(e,t){let l=n;n=i(e,t),n===l?c[n].p(e,t):(ie(),de(c[l],1,1,(()=>{c[l]=null})),ae(),r=c[n],r?r.p(e,t):(r=c[n]=s[n](e),r.c()),ue(r,1),r.m(o.parentNode,o))},i(e){l||(ue(r),l=!0)},o(e){de(r),l=!1},d(e){c[n].d(e),e&&S(o)}}}function Nn(t){let n,r,o;return{c(){n=w("button"),I(n,"class","close svelte-1usmck3"),I(n,"style",t[14])},m(e,l){v(e,n,l),r||(o=N(n,"click",t[0]),r=!0)},p(e,t){16384&t[0]&&I(n,"style",e[14])},i:e,o:e,d(e){e&&S(n),r=!1,o()}}}function In(e){let t,n,r;var o=e[1].closeButton;function l(e){return{props:{onClose:e[0]}}}return o&&(t=new o(l(e))),{c(){t&&ge(t.$$.fragment),n=P()},m(e,o){t&&he(t,e,o),v(e,n,o),r=!0},p(e,r){if(o!==(o=e[1].closeButton)){if(t){ie();const e=t;de(e.$$.fragment,1,0,(()=>{ye(e,1)})),ae()}o?(t=new o(l(e)),ge(t.$$.fragment),ue(t.$$.fragment,1),he(t,n.parentNode,n)):t=null}},i(e){r||(t&&ue(t.$$.fragment,e),r=!0)},o(e){t&&de(t.$$.fragment,e),r=!1},d(e){e&&S(n),t&&ye(t,e)}}}function On(e){let t,n,r,o,l=e[2]&&kn(e);const s=e[35].default,c=a(s,e,e[34],null);return{c(){l&&l.c(),t=k(),c&&c.c()},m(s,i){l&&l.m(s,i),v(s,t,i),c&&c.m(s,i),n=!0,r||(o=N(window,"keydown",e[18]),r=!0)},p(e,n){e[2]?l?(l.p(e,n),4&n[0]&&ue(l,1)):(l=kn(e),l.c(),ue(l,1),l.m(t.parentNode,t)):l&&(ie(),de(l,1,1,(()=>{l=null})),ae()),c&&c.p&&8&n[1]&&d(c,s,e,e[34],n,null,null)},i(e){n||(ue(l),ue(c,e),n=!0)},o(e){de(l),de(c,e),n=!1},d(e){l&&l.d(e),e&&S(t),c&&c.d(e),r=!1,o()}}}function _n(e,t,n){let{$$slots:r={},$$scope:o}=t;const l=H,s=be;let{key:c="simple-modal"}=t,{closeButton:i=!0}=t,{closeOnEsc:a=!0}=t,{closeOnOuterClick:u=!0}=t,{styleBg:d={top:0,left:0}}=t,{styleWindow:f={}}=t,{styleContent:p={}}=t,{styleCloseButton:m={}}=t,{setContext:g=l}=t,{transitionBg:h=nt}=t,{transitionBgProps:y={duration:250}}=t,{transitionWindow:$=h}=t,{transitionWindowProps:v=y}=t;const S={closeButton:i,closeOnEsc:a,closeOnOuterClick:u,styleBg:d,styleWindow:f,styleContent:p,styleCloseButton:m,transitionBg:h,transitionBgProps:y,transitionWindow:$,transitionWindowProps:v};let b,w,C,x={...S},k=null,P=null;const N=e=>Object.keys(e).reduce(((t,n)=>`${t}; ${(e=>e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase())(n)}: ${e[n]}`),""),I=()=>{};let O=I,_=I,D=I,M=I;const A=(e,t={},r={},o={})=>{n(2,k=e),n(3,P=t),n(1,x={...S,...r}),n(7,O=o.onOpen||I),n(8,_=o.onClose||I),n(9,D=o.onOpened||I),n(10,M=o.onClosed||I)},E=(e={})=>{n(8,_=e.onClose||_),n(10,M=e.onClosed||M),n(2,k=null),n(3,P=null)};let B,L,U,F,T,j;return g(c,{open:A,close:E}),e.$$set=e=>{"key"in e&&n(20,c=e.key),"closeButton"in e&&n(21,i=e.closeButton),"closeOnEsc"in e&&n(22,a=e.closeOnEsc),"closeOnOuterClick"in e&&n(23,u=e.closeOnOuterClick),"styleBg"in e&&n(24,d=e.styleBg),"styleWindow"in e&&n(25,f=e.styleWindow),"styleContent"in e&&n(26,p=e.styleContent),"styleCloseButton"in e&&n(27,m=e.styleCloseButton),"setContext"in e&&n(28,g=e.setContext),"transitionBg"in e&&n(29,h=e.transitionBg),"transitionBgProps"in e&&n(30,y=e.transitionBgProps),"transitionWindow"in e&&n(31,$=e.transitionWindow),"transitionWindowProps"in e&&n(32,v=e.transitionWindowProps),"$$scope"in e&&n(34,o=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty[0]&&n(11,B=N(x.styleBg)),2&e.$$.dirty[0]&&n(12,L=N(x.styleWindow)),2&e.$$.dirty[0]&&n(13,U=N(x.styleContent)),2&e.$$.dirty[0]&&n(14,F=N(x.styleCloseButton)),2&e.$$.dirty[0]&&n(15,T=x.transitionBg),2&e.$$.dirty[0]&&n(16,j=x.transitionWindow)},[E,x,k,P,b,w,C,O,_,D,M,B,L,U,F,T,j,e=>s&&s.isPrototypeOf(e),e=>{if(x.closeOnEsc&&k&&"Escape"===e.key&&(e.preventDefault(),E()),k&&"Tab"===e.key){const t=C.querySelectorAll("*"),n=Array.from(t).filter((e=>e.tabIndex>=0));let r=n.indexOf(document.activeElement);-1===r&&e.shiftKey&&(r=0),r+=n.length+(e.shiftKey?-1:1),r%=n.length,n[r].focus(),e.preventDefault()}},e=>{!x.closeOnOuterClick||e.target!==b&&e.target!==w||(e.preventDefault(),E())},c,i,a,u,d,f,p,m,g,h,y,$,v,A,o,r,function(e){z[e?"unshift":"push"]((()=>{C=e,n(6,C)}))},function(e){z[e?"unshift":"push"]((()=>{w=e,n(5,w)}))},function(e){z[e?"unshift":"push"]((()=>{b=e,n(4,b)}))}]}class Dn extends Se{constructor(e){super(),ve(this,e,_n,On,c,{key:20,closeButton:21,closeOnEsc:22,closeOnOuterClick:23,styleBg:24,styleWindow:25,styleContent:26,styleCloseButton:27,setContext:28,transitionBg:29,transitionBgProps:30,transitionWindow:31,transitionWindowProps:32,open:33,close:0},[-1,-1])}get open(){return this.$$.ctx[33]}get close(){return this.$$.ctx[0]}}function Mn(e,t,n){const r=e.slice();return r[3]=t[n],r}function An(e){let t,n,r,o,l,s,c,i,a,u,d,f,p,m,g,h,y,b=e[3].User.Name+"",C=e[3].User.Score+"",P=(100*e[3].User.Accuracy).toFixed(2)+"",N=e[2](e[3].Type)+"";return{c(){t=w("li"),n=x(b),r=k(),o=w("br"),l=k(),s=w("div"),c=x("Score:\n\t\t\t\t"),i=x(C),a=k(),u=w("br"),d=x("\n\t\t\t\tAcc:\n\t\t\t\t"),f=x(P),p=x("%\n\t\t\t\t"),m=w("br"),g=x("\n\t\t\t\tResult:\n\t\t\t\t"),h=x(N),y=k(),D(s,"margin-left","10px")},m(e,S){v(e,t,S),$(t,n),$(t,r),$(t,o),$(t,l),$(t,s),$(s,c),$(s,i),$(s,a),$(s,u),$(s,d),$(s,f),$(s,p),$(s,m),$(s,g),$(s,h),$(t,y)},p(e,t){1&t&&b!==(b=e[3].User.Name+"")&&O(n,b),1&t&&C!==(C=e[3].User.Score+"")&&O(i,C),1&t&&P!==(P=(100*e[3].User.Accuracy).toFixed(2)+"")&&O(f,P),1&t&&N!==(N=e[2](e[3].Type)+"")&&O(h,N)},d(e){e&&S(t)}}}function En(e){let t,n,r,o,l,s,c,i,a=e[0].sort(),u=[];for(let t=0;t<a.length;t+=1)u[t]=An(Mn(e,a,t));return c=new st({props:{danger:!0,text:"Close"}}),c.$on("click",e[1]),{c(){t=w("h2"),t.textContent="Results",n=k(),r=w("ol");for(let e=0;e<u.length;e+=1)u[e].c();o=k(),l=w("br"),s=k(),ge(c.$$.fragment)},m(e,a){v(e,t,a),v(e,n,a),v(e,r,a);for(let e=0;e<u.length;e+=1)u[e].m(r,null);v(e,o,a),v(e,l,a),v(e,s,a),he(c,e,a),i=!0},p(e,[t]){if(5&t){let n;for(a=e[0].sort(),n=0;n<a.length;n+=1){const o=Mn(e,a,n);u[n]?u[n].p(o,t):(u[n]=An(o),u[n].c(),u[n].m(r,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=a.length}},i(e){i||(ue(c.$$.fragment,e),i=!0)},o(e){de(c.$$.fragment,e),i=!1},d(e){e&&S(t),e&&S(n),e&&S(r),b(u,e),e&&S(o),e&&S(l),e&&S(s),ye(c,e)}}}function Bn(e,t,n){let{results:r=[]}=t;r.sort(((e,t)=>t.Score-e.Score));const{close:o}=(l="simple-modal",R().$$.context.get(l));var l;return e.$$set=e=>{"results"in e&&n(0,r=e.results)},[r,o,function(e){return Qe[e]}]}class Ln extends Se{constructor(e){super(),ve(this,e,Bn,En,c,{results:0})}}var Un=Ie((function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function l(t,n,l){if("undefined"!=typeof document){"number"==typeof(l=e({path:"/"},o.defaults,l)).expires&&(l.expires=new Date(1*new Date+864e5*l.expires)),l.expires=l.expires?l.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var i in l)l[i]&&(c+="; "+i,!0!==l[i]&&(c+="="+l[i].split(";")[0]));return document.cookie=t+"="+n+c}}function s(e,n){if("undefined"!=typeof document){for(var o={},l=document.cookie?document.cookie.split("; "):[],s=0;s<l.length;s++){var c=l[s].split("="),i=c.slice(1).join("=");n||'"'!==i.charAt(0)||(i=i.slice(1,-1));try{var a=t(c[0]);if(i=(r.read||r)(i,a)||t(i),n)try{i=JSON.parse(i)}catch(e){}if(o[a]=i,e===a)break}catch(e){}}return e?o[e]:o}}return o.set=l,o.get=function(e){return s(e,!1)},o.getJSON=function(e){return s(e,!0)},o.remove=function(t,n){l(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},e.exports=n()}));function Fn(e){let t,n,r,o,l,s,c,i,a,u,d,f;function p(t){e[3].call(null,t)}let m={placeHolder:"Score Saber Link"};return void 0!==e[0]&&(m.value=e[0]),r=new Ye({props:m}),z.push((()=>me(r,"value",p))),s=new st({props:{text:"Update",primary:!0}}),s.$on("click",e[4]),i=new st({props:{text:"Remove",danger:!0}}),i.$on("click",e[5]),{c(){t=w("h3"),t.textContent="Settings",n=k(),ge(r.$$.fragment),l=k(),ge(s.$$.fragment),c=k(),ge(i.$$.fragment),a=k(),u=w("br"),d=x("\nThemes soon TM")},m(e,o){v(e,t,o),v(e,n,o),he(r,e,o),v(e,l,o),he(s,e,o),v(e,c,o),he(i,e,o),v(e,a,o),v(e,u,o),v(e,d,o),f=!0},p(e,[t]){const n={};!o&&1&t&&(o=!0,n.value=e[0],X((()=>o=!1))),r.$set(n)},i(e){f||(ue(r.$$.fragment,e),ue(s.$$.fragment,e),ue(i.$$.fragment,e),f=!0)},o(e){de(r.$$.fragment,e),de(s.$$.fragment,e),de(i.$$.fragment,e),f=!1},d(e){e&&S(t),e&&S(n),ye(r,e),e&&S(l),ye(s,e),e&&S(c),ye(i,e),e&&S(a),e&&S(u),e&&S(d)}}}function Tn(e,t,n){let r=Un.get("UserId")||"";function o(){r.includes("scoresaber.com")&&n(0,r=r.split("/u/")[1].replace(/\D+/g,"")),Un.set("UserId",r,{expires:365}),console.log(r)}function l(){Un.remove("UserId")}return[r,o,l,function(e){r=e,n(0,r)},()=>o(),()=>l()]}class jn extends Se{constructor(e){super(),ve(this,e,Tn,Fn,c,{})}}function Rn(e,t,n){const r=e.slice();return r[35]=t[n],r}function Wn(e,t,n){const r=e.slice();return r[38]=t[n],r}function Hn(e,t,n){const r=e.slice();return r[38]=t[n],r}function qn(e,t,n){const r=e.slice();return r[43]=t[n],r}function Gn(e){let t,n,r,o,l,s,c,i;function a(t){e[24].call(null,t)}let u={placeHolder:"Host IP"};function d(t){e[25].call(null,t)}void 0!==e[0]&&(u.value=e[0]),t=new Ye({props:u}),z.push((()=>me(t,"value",a)));let f={placeHolder:"Username"};return void 0!==e[3]&&(f.value=e[3]),o=new Ye({props:f}),z.push((()=>me(o,"value",d))),c=new st({props:{disabled:""==e[3],primary:!0,text:"Connect"}}),c.$on("click",e[8]),{c(){ge(t.$$.fragment),r=k(),ge(o.$$.fragment),s=k(),ge(c.$$.fragment)},m(e,n){he(t,e,n),v(e,r,n),he(o,e,n),v(e,s,n),he(c,e,n),i=!0},p(e,r){const s={};!n&&1&r[0]&&(n=!0,s.value=e[0],X((()=>n=!1))),t.$set(s);const i={};!l&&8&r[0]&&(l=!0,i.value=e[3],X((()=>l=!1))),o.$set(i);const a={};8&r[0]&&(a.disabled=""==e[3]),c.$set(a)},i(e){i||(ue(t.$$.fragment,e),ue(o.$$.fragment,e),ue(c.$$.fragment,e),i=!0)},o(e){de(t.$$.fragment,e),de(o.$$.fragment,e),de(c.$$.fragment,e),i=!1},d(e){ye(t,e),e&&S(r),ye(o,e),e&&S(s),ye(c,e)}}}function zn(t){let n;return{c(){n=w("p"),n.textContent="Connecting to TA server...",I(n,"class","svelte-ygumm")},m(e,t){v(e,n,t)},p:e,i:e,o:e,d(e){e&&S(n)}}}function Jn(e){let t,n,r,o,l,s,c,i,a,u,d,f,p,m,g,h,y,C,P,N,_,D,M,A=e[1].Self.Name+"",E=e[1].State.Coordinators,B=[];for(let t=0;t<E.length;t+=1)B[t]=tr(qn(e,E,t));let L=e[1].State.Players.filter(e[20]),U=[];for(let t=0;t<L.length;t+=1)U[t]=nr(Hn(e,L,t));let F=e[2].length>0&&rr(e),T=e[1].State.Matches,j=[];for(let t=0;t<T.length;t+=1)j[t]=lr(Rn(e,T,t));return{c(){t=w("h1"),n=x("Welcome "),r=x(A),o=k(),l=w("div"),s=w("div"),c=w("h3"),c.textContent="Coordinators",i=k(),a=w("div");for(let e=0;e<B.length;e+=1)B[e].c();u=k(),d=w("div"),f=w("h3"),f.textContent="Players",p=k(),m=w("div");for(let e=0;e<U.length;e+=1)U[e].c();g=k(),h=w("br"),y=k(),F&&F.c(),C=k(),P=w("div"),N=w("h3"),N.textContent="Matches",_=k(),D=w("div");for(let e=0;e<j.length;e+=1)j[e].c();I(t,"class","svelte-ygumm"),I(c,"class","svelte-ygumm"),I(a,"class","cards svelte-ygumm"),I(s,"class","svelte-ygumm"),I(f,"class","svelte-ygumm"),I(m,"class","cards svelte-ygumm"),I(h,"class","svelte-ygumm"),I(d,"class","svelte-ygumm"),I(N,"class","svelte-ygumm"),I(D,"class","cards svelte-ygumm"),I(P,"class","svelte-ygumm"),I(l,"class","grid svelte-ygumm")},m(e,S){v(e,t,S),$(t,n),$(t,r),v(e,o,S),v(e,l,S),$(l,s),$(s,c),$(s,i),$(s,a);for(let e=0;e<B.length;e+=1)B[e].m(a,null);$(l,u),$(l,d),$(d,f),$(d,p),$(d,m);for(let e=0;e<U.length;e+=1)U[e].m(m,null);$(d,g),$(d,h),$(d,y),F&&F.m(d,null),$(l,C),$(l,P),$(P,N),$(P,_),$(P,D);for(let e=0;e<j.length;e+=1)j[e].m(D,null);M=!0},p(e,t){if((!M||2&t[0])&&A!==(A=e[1].Self.Name+"")&&O(r,A),2&t[0]){let n;for(E=e[1].State.Coordinators,n=0;n<E.length;n+=1){const r=qn(e,E,n);B[n]?B[n].p(r,t):(B[n]=tr(r),B[n].c(),B[n].m(a,null))}for(;n<B.length;n+=1)B[n].d(1);B.length=E.length}if(33286&t[0]){let n;for(L=e[1].State.Players.filter(e[20]),n=0;n<L.length;n+=1){const r=Hn(e,L,n);U[n]?U[n].p(r,t):(U[n]=nr(r),U[n].c(),U[n].m(m,null))}for(;n<U.length;n+=1)U[n].d(1);U.length=L.length}if(e[2].length>0?F?(F.p(e,t),4&t[0]&&ue(F,1)):(F=rr(e),F.c(),ue(F,1),F.m(d,null)):F&&(ie(),de(F,1,1,(()=>{F=null})),ae()),8194&t[0]){let n;for(T=e[1].State.Matches,n=0;n<T.length;n+=1){const r=Rn(e,T,n);j[n]?j[n].p(r,t):(j[n]=lr(r),j[n].c(),j[n].m(D,null))}for(;n<j.length;n+=1)j[n].d(1);j.length=T.length}},i(e){M||(ue(F),M=!0)},o(e){de(F),M=!1},d(e){e&&S(t),e&&S(o),e&&S(l),b(B,e),b(U,e),F&&F.d(),b(j,e)}}}function Qn(e){let t,n,r={curMatch:e[6],taState:e[1].State,modal:e[4]};return t=new xn({props:r}),e[19](t),t.$on("close",e[11]),t.$on("sendPacket",e[14]),t.$on("playerKick",e[12]),{c(){ge(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},p(e,n){const r={};64&n[0]&&(r.curMatch=e[6]),2&n[0]&&(r.taState=e[1].State),16&n[0]&&(r.modal=e[4]),t.$set(r)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(n){e[19](null),ye(t,n)}}}function Kn(e){let t,n,r,o;function l(e,t){return e[43].Id==e[1].Self.Id?Xn:Zn}let s=l(e),c=s(e);return{c(){t=w("div"),n=w("p"),c.c(),r=k(),I(n,"class","svelte-ygumm"),I(t,"class","infoCard svelte-ygumm"),I(t,"style",o=e[43].Id==e[1].Self.Id?"order: -1;":"")},m(e,o){v(e,t,o),$(t,n),c.m(n,null),$(t,r)},p(e,r){s===(s=l(e))&&c?c.p(e,r):(c.d(1),c=s(e),c&&(c.c(),c.m(n,null))),2&r[0]&&o!==(o=e[43].Id==e[1].Self.Id?"order: -1;":"")&&I(t,"style",o)},d(e){e&&S(t),c.d()}}}function Vn(e){let t,n,r,o,l,s,c,i,a;function u(e,t){return e[43].Id==e[1].Self.Id?er:Yn}let d=u(e),f=d(e);return{c(){t=w("div"),n=w("img"),o=k(),l=w("p"),f.c(),s=k(),n.src!==(r="https://new.scoresaber.com/api/static/avatars/"+e[43].UserId+".jpg")&&I(n,"src",r),I(n,"alt",""),I(n,"class","svelte-ygumm"),I(l,"class","svelte-ygumm"),I(t,"class","infoCard coordCard svelte-ygumm"),I(t,"style",c=e[43].Id==e[1].Self.Id?"order: -1;":"")},m(e,r){v(e,t,r),$(t,n),$(t,o),$(t,l),f.m(l,null),$(t,s),i||(a=N(n,"error",cr),i=!0)},p(e,o){2&o[0]&&n.src!==(r="https://new.scoresaber.com/api/static/avatars/"+e[43].UserId+".jpg")&&I(n,"src",r),d===(d=u(e))&&f?f.p(e,o):(f.d(1),f=d(e),f&&(f.c(),f.m(l,null))),2&o[0]&&c!==(c=e[43].Id==e[1].Self.Id?"order: -1;":"")&&I(t,"style",c)},d(e){e&&S(t),f.d(),i=!1,a()}}}function Zn(e){let t,n=e[43].Name+"";return{c(){t=x(n)},m(e,n){v(e,t,n)},p(e,r){2&r[0]&&n!==(n=e[43].Name+"")&&O(t,n)},d(e){e&&S(t)}}}function Xn(e){let t,n,r=e[43].Name+"";return{c(){t=w("b"),n=x(r),I(t,"class","svelte-ygumm")},m(e,r){v(e,t,r),$(t,n)},p(e,t){2&t[0]&&r!==(r=e[43].Name+"")&&O(n,r)},d(e){e&&S(t)}}}function Yn(e){let t,n=e[43].Name+"";return{c(){t=x(n)},m(e,n){v(e,t,n)},p(e,r){2&r[0]&&n!==(n=e[43].Name+"")&&O(t,n)},d(e){e&&S(t)}}}function er(e){let t,n,r=e[43].Name+"";return{c(){t=w("b"),n=x(r),I(t,"class","svelte-ygumm")},m(e,r){v(e,t,r),$(t,n)},p(e,t){2&t[0]&&r!==(r=e[43].Name+"")&&O(n,r)},d(e){e&&S(t)}}}function tr(e){let t;function n(e,t){return"0"!=e[43].UserId?Vn:Kn}let r=n(e),o=r(e);return{c(){o.c(),t=P()},m(e,n){o.m(e,n),v(e,t,n)},p(e,l){r===(r=n(e))&&o?o.p(e,l):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&S(t)}}}function nr(e){let t,n,r,o,l,s,c=e[38].Name+"";function i(){return e[21](e[38])}function a(...t){return e[22](e[38],...t)}return{c(){t=w("div"),n=w("p"),r=x(c),o=k(),I(n,"class","svelte-ygumm"),I(t,"class","infoCard playerCard clickable svelte-ygumm"),D(t,"background-image","url('https://new.scoresaber.com/api/static/avatars/"+e[38].UserId+".jpg')"),A(t,"selected",e[2].find(a))},m(e,c){v(e,t,c),$(t,n),$(n,r),$(t,o),l||(s=N(t,"click",i),l=!0)},p(n,o){e=n,2&o[0]&&c!==(c=e[38].Name+"")&&O(r,c),2&o[0]&&D(t,"background-image","url('https://new.scoresaber.com/api/static/avatars/"+e[38].UserId+".jpg')"),32774&o[0]&&A(t,"selected",e[2].find(a))},d(e){e&&S(t),l=!1,s()}}}function rr(t){let n,r;return n=new st({props:{secondary:!0,text:"Create Match"}}),n.$on("click",t[10]),{c(){ge(n.$$.fragment)},m(e,t){he(n,e,t),r=!0},p:e,i(e){r||(ue(n.$$.fragment,e),r=!0)},o(e){de(n.$$.fragment,e),r=!1},d(e){ye(n,e)}}}function or(e){let t,n,r,o,l,s,c,i,a,u=e[38].Name+"";return{c(){t=w("li"),n=w("img"),l=k(),s=x(u),c=k(),I(n,"loading","lazy"),I(n,"class","playerImg mini svelte-ygumm"),n.src!==(r="https://new.scoresaber.com/api/static/avatars/"+e[38].UserId+".jpg")&&I(n,"src",r),I(n,"alt",o=e[38].Name+"'s profile image'"),I(t,"class","svelte-ygumm")},m(e,r){v(e,t,r),$(t,n),$(t,l),$(t,s),$(t,c),i||(a=N(n,"error",cr),i=!0)},p(e,t){2&t[0]&&n.src!==(r="https://new.scoresaber.com/api/static/avatars/"+e[38].UserId+".jpg")&&I(n,"src",r),2&t[0]&&o!==(o=e[38].Name+"'s profile image'")&&I(n,"alt",o),2&t[0]&&u!==(u=e[38].Name+"")&&O(s,u)},d(e){e&&S(t),i=!1,a()}}}function lr(e){let t,n,r,o,l,s,c,i,a,u,d,f,p,m,g,h=e[35].Leader.Name+"",y=e[35].Players,C=[];for(let t=0;t<y.length;t+=1)C[t]=or(Wn(e,y,t));function P(){return e[23](e[35])}return{c(){t=w("div"),n=w("p"),r=x(h),o=x("'s Match"),l=k(),s=w("hr"),c=k(),i=w("br"),a=x("\n\t\t\t\t\t\t\tPlayers\n\t\t\t\t\t\t\t"),u=w("br"),d=k(),f=w("ul");for(let e=0;e<C.length;e+=1)C[e].c();p=k(),I(n,"class","svelte-ygumm"),I(s,"class","svelte-ygumm"),I(i,"class","svelte-ygumm"),I(u,"class","svelte-ygumm"),I(f,"class","playerList svelte-ygumm"),I(t,"class","infoCard clickable svelte-ygumm")},m(e,h){v(e,t,h),$(t,n),$(n,r),$(n,o),$(t,l),$(t,s),$(t,c),$(t,i),$(t,a),$(t,u),$(t,d),$(t,f);for(let e=0;e<C.length;e+=1)C[e].m(f,null);$(t,p),m||(g=N(t,"click",P),m=!0)},p(t,n){if(e=t,2&n[0]&&h!==(h=e[35].Leader.Name+"")&&O(r,h),2&n[0]){let t;for(y=e[35].Players,t=0;t<y.length;t+=1){const r=Wn(e,y,t);C[t]?C[t].p(r,n):(C[t]=or(r),C[t].c(),C[t].m(f,null))}for(;t<C.length;t+=1)C[t].d(1);C.length=y.length}},d(e){e&&S(t),b(C,e),m=!1,g()}}}function sr(e){let t,n,r,o,l,s,c,i,a,u,d;const f=[Qn,Jn,zn,Gn],p=[];function m(e,t){return e[6]?0:e[1].isConnected?1:0==e[7]?2:3}o=m(e),l=p[o]=f[o](e);var g=Dn;return g&&(c=new g({props:{}}),e[26](c)),{c(){t=w("main"),n=w("span"),n.textContent="",r=k(),l.c(),s=k(),c&&ge(c.$$.fragment),i=P(),I(n,"class","menu svelte-ygumm"),I(t,"class","svelte-ygumm")},m(l,f){v(l,t,f),$(t,n),$(t,r),p[o].m(t,null),v(l,s,f),c&&he(c,l,f),v(l,i,f),a=!0,u||(d=N(n,"click",e[16]),u=!0)},p(e,n){let r=o;o=m(e),o===r?p[o].p(e,n):(ie(),de(p[r],1,1,(()=>{p[r]=null})),ae(),l=p[o],l?l.p(e,n):(l=p[o]=f[o](e),l.c()),ue(l,1),l.m(t,null));const s={};if(g!==(g=Dn)){if(c){ie();const e=c;de(e.$$.fragment,1,0,(()=>{ye(e,1)})),ae()}g?(c=new g({props:{}}),e[26](c),ge(c.$$.fragment),ue(c.$$.fragment,1),he(c,i.parentNode,i)):c=null}else g&&c.$set(s)},i(e){a||(ue(l),c&&ue(c.$$.fragment,e),a=!0)},o(e){de(l),c&&de(c.$$.fragment,e),a=!1},d(n){n&&S(t),p[o].d(),n&&S(s),e[26](null),n&&S(i),c&&ye(c,n),u=!1,d()}}}function cr(e){this.src="https://scoresaber.com/imports/images/oculus.png"}function ir(e,t,n){var r;let o,l=Un.get("HostIP")||"127.0.0.1:10151",s=new Ne,c=[];var i;i=()=>{y()},R().$$.on_destroy.push(i),window.addEventListener("beforeunload",(function(e){s.Self&&y()}));let a="";function u(e){if(e.Type==je.ConnectResponse){let t=e.SpecificPacket;s.Self||n(1,s=new Ne(t))}else if(e.Type==je.Event&&s.isConnected){let r=e.SpecificPacket;switch(r.Type){case Re.CoordinatorAdded:s.coordinatorAdded(r.ChangedObject);break;case Re.CoordinatorLeft:s.coordinatorLeft(r.ChangedObject);break;case Re.MatchCreated:(t=r.ChangedObject).Guid==(null==m?void 0:m.Guid)&&(n(6,p=t),m=void 0),s.matchCreated(t);break;case Re.MatchUpdated:var t;(t=r.ChangedObject).Guid==(null==p?void 0:p.Guid)&&n(6,p=t),s.matchUpdated(r.ChangedObject);break;case Re.MatchDeleted:let e=r.ChangedObject;e.Guid==(null==p?void 0:p.Guid)&&e.Guid!=m.Guid&&n(6,p=null),s.matchDeleted(r.ChangedObject);break;case Re.PlayerAdded:s.playerAdded(r.ChangedObject);break;case Re.PlayerUpdated:let o=r.ChangedObject;!function(e){let t=p.Players.find((t=>t.Id==e.Id));h(e,"Score",t.Score,e.Score,500),h(e,"Accuracy",t.Accuracy,e.Accuracy,500),h(e,"Combo",t.Combo,e.Combo,500)}(o),(null==p?void 0:p.Players.find((e=>e.Id==o.Id)))&&(n(6,p.Players[null==p?void 0:p.Players.findIndex((e=>e.Id==o.Id))]=o,p),n(6,p)),s.playerUpdated(r.ChangedObject);break;case Re.PlayerLeft:s.playerLeft(r.ChangedObject)}}else if(e.Type==je.SongFinished&&s.isConnected&&p){let t=e.SpecificPacket;console.log(t),function(e){(null==p?void 0:p.Players.findIndex((t=>t.Id==e.User.Id)))>-1&&!g.find((t=>t.User.Id==e.User.Id))&&(e.Beatmap.LevelId==p.SelectedLevel.LevelId&&(e.Beatmap.Name=p.SelectedLevel.Name),g.push(e))}(t),g.length==p.Players.length&&d.open(Ln,{results:g},{},{onClose:()=>{f.addScore(g),g=[]}})}else e.Type==je.ForwardingPacket&&u(e.SpecificPacket);n(1,s)}let d,f,p,m,g=[];function h(e,t,r,o,l){let s=null;const c=i=>{s||(s=i);const a=Math.min((i-s)/l,1);e[t]="Accuracy"==t?a*(o-r)+r:Math.floor(a*(o-r)+r),n(6,p.Players[p.Players.findIndex((t=>t.Id==e.Id))]=e,p),n(6,p),a<1&&window.requestAnimationFrame(c)};window.requestAnimationFrame(c)}function y(){let e={Type:Re.CoordinatorLeft,ChangedObject:s.Self};o.sendMessage(JSON.stringify(new Ve(e,je.Event)))}function $(e){let t=c.findIndex((t=>t.Id==e.Id));n(2,c=-1==t?[...c,e]:[...c.slice(0,t),...c.slice(t+1)])}function v(){let e={Type:Re.MatchDeleted,ChangedObject:p};o.sendMessage(JSON.stringify(new Ve(e,je.Event))),n(6,p=null)}function S(e){n(6,p=e)}function b(e){for(const t of s.State.Matches)if(t.Players.find((t=>t.Id==e.Id)))return!0;return!1}let w;return e.$$.update=()=>{393216&e.$$.dirty[0]&&n(7,w=null===n(17,r=null==o?void 0:o.socket)||void 0===r?void 0:r.readyState)},[l,s,c,a,d,f,p,w,function(){if(""==a)return alert("Please enter a name"),null;n(18,o=new xe(l)),Un.set("HostIP",l,{expires:365}),n(18,o.socket.onopen=()=>{n(7,w=o.socket.readyState);let e={ClientType:Pe.Coordinator,Name:a,UserId:Un.get("UserId")||"0",ClientVersion:36},t=new Ve(e,je.Connect);o.sendMessage(JSON.stringify(t))},o),n(18,o.socket.onclose=()=>n(7,w=o.socket.readyState),o),n(18,o.socket.onerror=()=>n(7,w=o.socket.readyState),o),o.subscribe((e=>{try{u(JSON.parse(e))}catch(e){}}))},$,function(){let e={Guid:Ke.v4(),Players:c,Leader:s.Self,SelectedDifficulty:0};n(6,p=e);let t={Type:Re.MatchCreated,ChangedObject:e};o.sendMessage(JSON.stringify(new Ve(t,je.Event))),n(2,c=[])},v,function(e){let t=e.detail,n=p.Players.findIndex((e=>e.Id==t.Id));if(n>-1){if(p.Players.splice(n,1),p.Players.length<1)return void v();m=p;let e={Type:Re.MatchDeleted,ChangedObject:p};o.sendMessage(JSON.stringify(new Ve(e,je.Event))),setTimeout((()=>{let t={Guid:m.Guid,Players:m.Players,Leader:m.Leader,SelectedDifficulty:0};e={Type:Re.MatchCreated,ChangedObject:t},o.sendMessage(JSON.stringify(new Ve(e,je.Event)))}),1e3)}},S,function(e){o.sendMessage(JSON.stringify(e.detail))},b,function(){d.open(jn)},r,o,function(e){z[e?"unshift":"push"]((()=>{f=e,n(5,f)}))},e=>!b(e),e=>$(e),(e,t)=>t.Id==e.Id,e=>S(e),function(e){l=e,n(0,l)},function(e){a=e,n(3,a)},function(e){z[e?"unshift":"push"]((()=>{d=e,n(4,d)}))}]}return new class extends Se{constructor(e){super(),ve(this,e,ir,sr,c,{},[-1,-1])}}({target:document.getElementById("taClient"),props:{}})}();
//# sourceMappingURL=bundle.js.map
