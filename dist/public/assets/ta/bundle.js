var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function l(){return Object.create(null)}function o(e){e.forEach(r)}function s(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function a(e,t,n,r){if(e){const l=u(e,t,n,r);return e[0](l)}}function u(e,t,r,l){return e[1]&&l?n(r.ctx.slice(),e[1](l(t))):r.ctx}function d(e,t,n,r,l,o,s){const c=function(e,t,n,r){if(e[2]&&r){const l=e[2](r(n));if(void 0===t.dirty)return l;if("object"==typeof l){const e=[],n=Math.max(t.dirty.length,l.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|l[r];return e}return t.dirty|l}return t.dirty}(t,r,l,o);if(c){const l=u(t,n,r,s);e.p(l,c)}}function f(e){return null==e?"":e}const p="undefined"!=typeof window;let m=p?()=>window.performance.now():()=>Date.now(),g=p?e=>requestAnimationFrame(e):e;const h=new Set;function $(e){h.forEach((t=>{t.c(e)||(h.delete(t),t.f())})),0!==h.size&&g($)}function v(e){let t;return 0===h.size&&g($),{promise:new Promise((n=>{h.add(t={c:e,f:n})})),abort(){h.delete(t)}}}function y(e,t){e.appendChild(t)}function b(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode.removeChild(e)}function w(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function k(e){return document.createElement(e)}function C(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function x(e){return document.createTextNode(e)}function P(){return x(" ")}function N(){return x("")}function I(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function E(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function O(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function _(e,t){e.value=null==t?"":t}function D(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function A(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function M(e,t,n){e.classList[n?"add":"remove"](t)}function B(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}const L=new Set;let T,U=0;function j(e,t,n,r,l,o,s,c=0){const i=16.666/r;let a="{\n";for(let e=0;e<=1;e+=i){const r=t+(n-t)*o(e);a+=100*e+`%{${s(r,1-r)}}\n`}const u=a+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${c}`,f=e.ownerDocument;L.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(k("style")).sheet),m=f.__svelte_rules||(f.__svelte_rules={});m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${d} ${r}ms linear ${l}ms 1 both`,U+=1,d}function F(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),l=n.length-r.length;l&&(e.style.animation=r.join(", "),U-=l,U||g((()=>{U||(L.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),L.clear())})))}function R(e){T=e}function q(){if(!T)throw new Error("Function called outside component initialization");return T}function G(){const e=q();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const l=B(t,n);r.slice().forEach((t=>{t.call(e,l)}))}}}function H(e,t){q().$$.context.set(e,t)}function W(e){return q().$$.context.get(e)}function z(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const Q=[],J=[],V=[],K=[],Z=Promise.resolve();let X=!1;function Y(e){V.push(e)}function ee(e){K.push(e)}let te=!1;const ne=new Set;function re(){if(!te){te=!0;do{for(let e=0;e<Q.length;e+=1){const t=Q[e];R(t),le(t.$$)}for(R(null),Q.length=0;J.length;)J.pop()();for(let e=0;e<V.length;e+=1){const t=V[e];ne.has(t)||(ne.add(t),t())}V.length=0}while(Q.length);for(;K.length;)K.pop()();X=!1,te=!1,ne.clear()}}function le(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Y)}}let oe;function se(){return oe||(oe=Promise.resolve(),oe.then((()=>{oe=null}))),oe}function ce(e,t,n){e.dispatchEvent(B(`${t?"intro":"outro"}${n}`))}const ie=new Set;let ae;function ue(){ae={r:0,c:[],p:ae}}function de(){ae.r||o(ae.c),ae=ae.p}function fe(e,t){e&&e.i&&(ie.delete(e),e.i(t))}function pe(e,t,n,r){if(e&&e.o){if(ie.has(e))return;ie.add(e),ae.c.push((()=>{ie.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const me={duration:0};function ge(n,r,l,c){let i=r(n,l),a=c?0:1,u=null,d=null,f=null;function p(){f&&F(n,f)}function g(e,t){const n=e.b-a;return t*=Math.abs(n),{a:a,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function h(r){const{delay:l=0,duration:s=300,easing:c=t,tick:h=e,css:$}=i||me,y={start:m()+l,b:r};r||(y.group=ae,ae.r+=1),u||d?d=y:($&&(p(),f=j(n,a,r,s,l,c,$)),r&&h(0,1),u=g(y,s),Y((()=>ce(n,r,"start"))),v((e=>{if(d&&e>d.start&&(u=g(d,s),d=null,ce(n,u.b,"start"),$&&(p(),f=j(n,a,u.b,u.duration,0,c,i.css))),u)if(e>=u.end)h(a=u.b,1-a),ce(n,u.b,"end"),d||(u.b?p():--u.group.r||o(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;a=u.a+u.d*c(t/u.duration),h(a,1-a)}return!(!u&&!d)})))}return{run(e){s(i)?se().then((()=>{i=i(),h(e)})):h(e)},end(){p(),u=d=null}}}function he(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function $e(e){e&&e.c()}function ve(e,t,n){const{fragment:l,on_mount:c,on_destroy:i,after_update:a}=e.$$;l&&l.m(t,n),Y((()=>{const t=c.map(r).filter(s);i?i.push(...t):o(t),e.$$.on_mount=[]})),a.forEach(Y)}function ye(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function be(e,t){-1===e.$$.dirty[0]&&(Q.push(e),X||(X=!0,Z.then(re)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Se(t,n,r,s,c,i,a=[-1]){const u=T;R(t);const d=n.props||{},f=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:c,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:l(),dirty:a,skip_bound:!1};let p=!1;if(f.ctx=r?r(t,d,((e,n,...r)=>{const l=r.length?r[0]:n;return f.ctx&&c(f.ctx[e],f.ctx[e]=l)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](l),p&&be(t,e)),n})):[],f.update(),p=!0,o(f.before_update),f.fragment=!!s&&s(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(S)}else f.fragment&&f.fragment.c();n.intro&&fe(t.$$.fragment),ve(t,n.target,n.anchor),re()}R(u)}class we{$destroy(){ye(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class ke extends we{constructor(e){if(!e||!e.target&&!e.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}const Ce=[];function xe(t,n=e){let r;const l=[];function o(e){if(c(t,e)&&(t=e,r)){const e=!Ce.length;for(let e=0;e<l.length;e+=1){const n=l[e];n[1](),Ce.push(n,t)}if(e){for(let e=0;e<Ce.length;e+=2)Ce[e][0](Ce[e+1]);Ce.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(s,c=e){const i=[s,c];return l.push(i),1===l.length&&(r=n(o)||e),s(t),()=>{const e=l.indexOf(i);-1!==e&&l.splice(e,1),0===l.length&&(r(),r=null)}}}}class Pe{constructor(e){this.isOpen=!1,this.messageStore=xe(""),this.subscribe=this.messageStore.subscribe,this.socket=new WebSocket("wss://"+e),this.socket.addEventListener("open",(()=>{this.isOpen=!0})),this.socket.addEventListener("message",(e=>{this.messageStore.set(e.data)}))}close(){this.socket.close()}sendMessage(e){this.socket.readyState<=1&&this.socket.send(e)}}var Ne,Ie;!function(e){e[e.Success=0]="Success",e[e.Fail=1]="Fail"}(Ne||(Ne={}));class Ee{constructor(e){this.isConnected=!1,this.matchId=!1,e&&e.Type==Ne.Success&&(this.Self=e.Self,this.State=e.State,this.isConnected=!0)}coordinatorAdded(e){if(!this.isConnected)return;-1==this.State.Coordinators.findIndex((t=>t.Id==e.Id))&&this.State.Coordinators.push(e)}coordinatorLeft(e){let t=this.State.Coordinators.findIndex((t=>t.Id==e.Id));t>-1&&this.State.Coordinators.splice(t,1)}matchCreated(e){this.State.Matches.find((t=>t.Guid==e.Guid))||this.State.Matches.push(e)}matchUpdated(e){let t=this.State.Matches.findIndex((t=>t.Guid==e.Guid));t>-1&&(this.State.Matches[t]=e)}matchDeleted(e){let t=this.State.Matches.findIndex((t=>t.Guid==e.Guid));t>-1&&this.State.Matches.splice(t,1)}playerAdded(e){this.State.Players.push(e)}playerUpdated(e){let t=this.State.Players.findIndex((t=>t.Id==e.Id));console.log(t),t>-1&&(this.State.Players[t]=e)}playerLeft(e){let t=this.State.Players.findIndex((t=>t.Id==e.Id));t>-1&&this.State.Players.splice(t,1)}qualifierEventCreated(e){-1==this.State.Events.findIndex((t=>t.EventId==e.EventId))&&this.State.Events.push(e)}qualifierEventUpdated(e){let t=this.State.Events.findIndex((t=>t.EventId==e.EventId));t>-1&&(this.State.Events[t]=e)}qualifierEventDeleted(e){let t=this.State.Events.findIndex((t=>t.EventId==e.EventId));t>-1&&this.State.Events.splice(t,1)}}function Oe(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}!function(e){e[e.Player=0]="Player",e[e.Coordinator=1]="Coordinator",e[e.TemporaryConnection=2]="TemporaryConnection"}(Ie||(Ie={}));for(var _e=Oe((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}})),De=[],Ae=0;Ae<256;++Ae)De[Ae]=(Ae+256).toString(16).substr(1);var Me,Be,Le=function(e,t){var n=t||0,r=De;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")},Te=0,Ue=0;var je=function(e,t,n){var r=t&&n||0,l=t||[],o=(e=e||{}).node||Me,s=void 0!==e.clockseq?e.clockseq:Be;if(null==o||null==s){var c=_e();null==o&&(o=Me=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==s&&(s=Be=16383&(c[6]<<8|c[7]))}var i=void 0!==e.msecs?e.msecs:(new Date).getTime(),a=void 0!==e.nsecs?e.nsecs:Ue+1,u=i-Te+(a-Ue)/1e4;if(u<0&&void 0===e.clockseq&&(s=s+1&16383),(u<0||i>Te)&&void 0===e.nsecs&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Te=i,Ue=a,Be=s;var d=(1e4*(268435455&(i+=122192928e5))+a)%4294967296;l[r++]=d>>>24&255,l[r++]=d>>>16&255,l[r++]=d>>>8&255,l[r++]=255&d;var f=i/4294967296*1e4&268435455;l[r++]=f>>>8&255,l[r++]=255&f,l[r++]=f>>>24&15|16,l[r++]=f>>>16&255,l[r++]=s>>>8|128,l[r++]=255&s;for(var p=0;p<6;++p)l[r+p]=o[p];return t||Le(l)};var Fe=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var l=(e=e||{}).random||(e.rng||_e)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,t)for(var o=0;o<16;++o)t[r+o]=l[o];return t||Le(l)},Re=Fe;Re.v1=je,Re.v4=Fe;var qe,Ge,He,We,ze,Qe,Je,Ve,Ke,Ze=Re;class Xe{constructor(e,t){this.Size=0,this.SpecificPacketSize=44,this.Id=Ze.v4(),this.From=Ze.v4(),this.SpecificPacketType=t,this.SpecificPacket=e}static encodePacket(e){var t=new TextEncoder;let n=this.toBytesInt32(e.SpecificPacketType),r=this.toBytesInt32(JSON.stringify(e.SpecificPacket).length);e.SpecificPacketSize=JSON.stringify(e.SpecificPacket).length,e.Size=44+e.SpecificPacketSize,e.Id=Ze.v4(),e.From=Ze.v4();let l=[t.encode("moon"),new Uint8Array(n),new Uint8Array(r),Uint8Array.from(Ze.parse(Ze.NIL)),Uint8Array.from(Ze.parse(Ze.NIL)),t.encode(JSON.stringify(e.SpecificPacket))];return Uint8ClampedArray.from(l.reduce(((e,t)=>[...e,...t]),[]))}isPacket(e){return"moon"==e.substr(0,4)}static toBytesInt32(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e,!1),t}}function Ye(t){let n,r,l,o,s,c,i,a;return{c(){n=k("div"),r=k("label"),l=k("input"),o=P(),s=k("span"),c=x(t[1]),E(l,"type","input"),E(l,"class","form_field svelte-sve6hv"),E(l,"placeholder",t[1]),l.required=!0,E(l,"autocomplete","off"),E(s,"class","label svelte-sve6hv"),E(r,"class","form_label"),E(n,"class","form__group field svelte-sve6hv")},m(e,u){b(e,n,u),y(n,r),y(r,l),_(l,t[0]),y(r,o),y(r,s),y(s,c),i||(a=I(l,"input",t[2]),i=!0)},p(e,[t]){2&t&&E(l,"placeholder",e[1]),1&t&&_(l,e[0]),2&t&&O(c,e[1])},i:e,o:e,d(e){e&&S(n),i=!1,a()}}}function et(e,t,n){let{placeHolder:r}=t;G();let{value:l=""}=t;return e.$$set=e=>{"placeHolder"in e&&n(1,r=e.placeHolder),"value"in e&&n(0,l=e.value)},[l,r,function(){l=this.value,n(0,l)}]}!function(e){e[e.Acknowledgement=0]="Acknowledgement",e[e.Command=1]="Command",e[e.Connect=2]="Connect",e[e.ConnectResponse=3]="ConnectResponse",e[e.Event=4]="Event",e[e.File=5]="File",e[e.ForwardingPacket=6]="ForwardingPacket",e[e.LoadedSong=7]="LoadedSong",e[e.LoadSong=8]="LoadSong",e[e.PlaySong=9]="PlaySong",e[e.Response=10]="Response",e[e.ScoreRequest=11]="ScoreRequest",e[e.ScoreRequestResponse=12]="ScoreRequestResponse",e[e.SongFinished=13]="SongFinished",e[e.SongList=14]="SongList",e[e.SubmitScore=15]="SubmitScore"}(qe||(qe={})),function(e){e[e.PlayerAdded=0]="PlayerAdded",e[e.PlayerUpdated=1]="PlayerUpdated",e[e.PlayerLeft=2]="PlayerLeft",e[e.CoordinatorAdded=3]="CoordinatorAdded",e[e.CoordinatorLeft=4]="CoordinatorLeft",e[e.MatchCreated=5]="MatchCreated",e[e.MatchUpdated=6]="MatchUpdated",e[e.MatchDeleted=7]="MatchDeleted",e[e.QualifierEventCreated=8]="QualifierEventCreated",e[e.QualifierEventUpdated=9]="QualifierEventUpdated",e[e.QualifierEventDeleted=10]="QualifierEventDeleted",e[e.HostAdded=11]="HostAdded",e[e.HostRemoved=12]="HostRemoved"}(Ge||(Ge={})),function(e){e[e.Easy=0]="Easy",e[e.Normal=1]="Normal",e[e.Hard=2]="Hard",e[e.Expert=3]="Expert",e[e.ExpertPlus=4]="ExpertPlus"}(He||(He={})),function(e){e[e.None=0]="None",e[e.NoFail=1]="NoFail",e[e.NoBombs=2]="NoBombs",e[e.NoArrows=4]="NoArrows",e[e.NoObstacles=8]="NoObstacles",e[e.SlowSong=16]="SlowSong",e[e.InstaFail=32]="InstaFail",e[e.FailOnClash=64]="FailOnClash",e[e.BatteryEnergy=128]="BatteryEnergy",e[e.FastNotes=256]="FastNotes",e[e.FastSong=512]="FastSong",e[e.DisappearingArrows=1024]="DisappearingArrows",e[e.GhostNotes=2048]="GhostNotes",e[e.DemoNoFail=4096]="DemoNoFail",e[e.DemoNoObstacles=8192]="DemoNoObstacles",e[e.StrictAngles=16384]="StrictAngles"}(We||(We={})),function(e){e[e.None=0]="None",e[e.LeftHanded=1]="LeftHanded",e[e.StaticLights=2]="StaticLights",e[e.NoHud=4]="NoHud",e[e.AdvancedHud=8]="AdvancedHud",e[e.ReduceDebris=16]="ReduceDebris"}(ze||(ze={})),function(e){e[e.Heartbeat=0]="Heartbeat",e[e.ReturnToMenu=1]="ReturnToMenu",e[e.ScreenOverlay_ShowPng=2]="ScreenOverlay_ShowPng",e[e.ScreenOverlay_ShowGreen=3]="ScreenOverlay_ShowGreen",e[e.DelayTest_Finish=4]="DelayTest_Finish"}(Qe||(Qe={}));class tt extends we{constructor(e){super(),Se(this,e,et,Ye,c,{placeHolder:1,value:0})}}function nt(e){const t=e-1;return t*t*t+1}function rt(e){return--e*e*e*e*e+1}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function lt(e,{delay:n=0,duration:r=400,easing:l=t}){const o=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:l,css:e=>"opacity: "+e*o}}function ot(e){var{fallback:t}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(n[r[l]]=e[r[l]])}return n}(e,["fallback"]);const l=new Map,o=new Map;function c(e,l,o){return(c,i)=>(e.set(i.key,{rect:c.getBoundingClientRect()}),()=>{if(l.has(i.key)){const{rect:e}=l.get(i.key);return l.delete(i.key),function(e,t,l){const{delay:o=0,duration:c=(e=>30*Math.sqrt(e)),easing:i=nt}=n(n({},r),l),a=t.getBoundingClientRect(),u=e.left-a.left,d=e.top-a.top,f=e.width/a.width,p=e.height/a.height,m=Math.sqrt(u*u+d*d),g=getComputedStyle(t),h="none"===g.transform?"":g.transform,$=+g.opacity;return{delay:o,duration:s(c)?c(m):c,easing:i,css:(e,t)=>`\n\t\t\t\topacity: ${e*$};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${h} translate(${t*u}px,${t*d}px) scale(${e+(1-e)*f}, ${e+(1-e)*p});\n\t\t\t`}}(e,c,i)}return e.delete(i.key),t&&t(c,i,o)})}return[c(o,l,!1),c(l,o,!0)]}function st(t){let n,r,l,o;return{c(){n=k("button"),r=x(t[0]),n.disabled=t[4],E(n,"class","svelte-1o7fkqk"),M(n,"danger",t[3]),M(n,"primary",t[1]),M(n,"secondary",t[2])},m(e,s){b(e,n,s),y(n,r),l||(o=I(n,"click",t[5]),l=!0)},p(e,[t]){1&t&&O(r,e[0]),16&t&&(n.disabled=e[4]),8&t&&M(n,"danger",e[3]),2&t&&M(n,"primary",e[1]),4&t&&M(n,"secondary",e[2])},i:e,o:e,d(e){e&&S(n),l=!1,o()}}}function ct(e,t,n){let{text:r=""}=t,{primary:l=!1}=t,{secondary:o=!1}=t,{danger:s=!1}=t,{disabled:c=!1}=t;return e.$$set=e=>{"text"in e&&n(0,r=e.text),"primary"in e&&n(1,l=e.primary),"secondary"in e&&n(2,o=e.secondary),"danger"in e&&n(3,s=e.danger),"disabled"in e&&n(4,c=e.disabled)},[r,l,o,s,c,function(t){z(e,t)}]}class it extends we{constructor(e){super(),Se(this,e,ct,st,c,{text:0,primary:1,secondary:2,danger:3,disabled:4})}}function at(t){let n,r,l,o,s,c,i,a,u,d,f,p,m,g;return{c(){n=k("label"),r=k("input"),l=P(),o=k("div"),s=k("span"),s.innerHTML='<svg width="12px" height="10px" class="svelte-1v0zg71"><use xlink:href="#check"></use></svg>',c=P(),i=k("span"),a=x(t[1]),u=P(),d=C("svg"),f=C("symbol"),p=C("polyline"),E(r,"class","inp-cbx svelte-1v0zg71"),E(r,"type","checkbox"),E(s,"class","svelte-1v0zg71"),E(i,"class","svelte-1v0zg71"),E(o,"class","cbx svelte-1v0zg71"),E(p,"points","1.5 6 4.5 9 10.5 1"),E(f,"id","check"),E(f,"viewBox","0 0 12 10"),E(d,"class","inline-svg svelte-1v0zg71")},m(e,h){b(e,n,h),y(n,r),r.checked=t[0],y(n,l),y(n,o),y(o,s),y(o,c),y(o,i),y(i,a),b(e,u,h),b(e,d,h),y(d,f),y(f,p),m||(g=I(r,"change",t[2]),m=!0)},p(e,[t]){1&t&&(r.checked=e[0]),2&t&&O(a,e[1])},i:e,o:e,d(e){e&&S(n),e&&S(u),e&&S(d),m=!1,g()}}}function ut(e,t,n){let{label:r=""}=t,{checked:l=!1}=t;return e.$$set=e=>{"label"in e&&n(1,r=e.label),"checked"in e&&n(0,l=e.checked)},[l,r,function(){l=this.checked,n(0,l)}]}!function(e){e[e.Waiting=0]="Waiting",e[e.InGame=1]="InGame"}(Je||(Je={})),function(e){e[e.None=0]="None",e[e.Downloading=1]="Downloading",e[e.Downloaded=2]="Downloaded",e[e.DownloadError=3]="DownloadError"}(Ve||(Ve={}));class dt extends we{constructor(e){super(),Se(this,e,ut,at,c,{label:1,checked:0})}}function ft(e){let t,n;return{c(){t=k("option"),n=x(e[1]),t.selected=!0,t.disabled=!0,t.__value="",t.value=t.__value},m(e,r){b(e,t,r),y(t,n)},p(e,t){2&t&&O(n,e[1])},d(e){e&&S(t)}}}function pt(e){let t,n,r,l,s,c,i=e[1]&&ft(e);const u=e[4].default,f=a(u,e,e[3],null);return{c(){t=k("div"),n=k("select"),i&&i.c(),r=N(),f&&f.c(),E(n,"class","svelte-16qdtee"),void 0===e[0]&&Y((()=>e[6].call(n))),E(t,"class","select svelte-16qdtee")},m(o,a){b(o,t,a),y(t,n),i&&i.m(n,null),y(n,r),f&&f.m(n,null),A(n,e[0]),l=!0,s||(c=[I(n,"change",e[6]),I(n,"change",e[5])],s=!0)},p(e,[t]){e[1]?i?i.p(e,t):(i=ft(e),i.c(),i.m(n,r)):i&&(i.d(1),i=null),f&&f.p&&8&t&&d(f,u,e,e[3],t,null,null),1&t&&A(n,e[0])},i(e){l||(fe(f,e),l=!0)},o(e){pe(f,e),l=!1},d(e){e&&S(t),i&&i.d(),f&&f.d(e),s=!1,o(c)}}}function mt(e,t,n){let{$$slots:r={},$$scope:l}=t,{value:o}=t;let{defaultOption:s=null}=t;return e.$$set=e=>{"value"in e&&n(0,o=e.value),"defaultOption"in e&&n(1,s=e.defaultOption),"$$scope"in e&&n(3,l=e.$$scope)},[o,s,null,l,r,function(t){z(e,t)},function(){o=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,o)}]}class gt extends we{constructor(e){super(),Se(this,e,mt,pt,c,{value:0,change:2,defaultOption:1})}get change(){return this.$$.ctx[2]}}function ht(e){let t,n;const r=e[1].default,l=a(r,e,e[0],null);return{c(){t=k("div"),l&&l.c(),E(t,"class","tabs svelte-obh1r4")},m(e,r){b(e,t,r),l&&l.m(t,null),n=!0},p(e,[t]){l&&l.p&&1&t&&d(l,r,e,e[0],t,null,null)},i(e){n||(fe(l,e),n=!0)},o(e){pe(l,e),n=!1},d(e){e&&S(t),l&&l.d(e)}}}function $t(e,t,n){let{$$slots:r={},$$scope:l}=t;return e.$$set=e=>{"$$scope"in e&&n(0,l=e.$$scope)},[l,r]}!function(e){e[e.Passed=0]="Passed",e[e.Failed=1]="Failed",e[e.Quit=2]="Quit"}(Ke||(Ke={}));class vt extends we{constructor(e){super(),Se(this,e,$t,ht,c,{})}}const yt=e=>({}),bt=e=>({}),St=e=>({}),wt=e=>({});function kt(e){let t,n,r,l,o,s,c,i;const u=e[1].title,f=a(u,e,e[0],wt),p=e[1].content,m=a(p,e,e[0],bt);return{c(){t=k("div"),n=k("label"),r=k("input"),l=P(),o=k("span"),f&&f.c(),s=P(),c=k("div"),m&&m.c(),E(r,"type","checkbox"),E(r,"class","svelte-xc7hwq"),E(o,"class","tab-label svelte-xc7hwq"),E(c,"class","tab-content svelte-xc7hwq"),E(t,"class","tab svelte-xc7hwq")},m(e,a){b(e,t,a),y(t,n),y(n,r),y(n,l),y(n,o),f&&f.m(o,null),y(n,s),y(n,c),m&&m.m(c,null),i=!0},p(e,[t]){f&&f.p&&1&t&&d(f,u,e,e[0],t,St,wt),m&&m.p&&1&t&&d(m,p,e,e[0],t,yt,bt)},i(e){i||(fe(f,e),fe(m,e),i=!0)},o(e){pe(f,e),pe(m,e),i=!1},d(e){e&&S(t),f&&f.d(e),m&&m.d(e)}}}function Ct(e,t,n){let{$$slots:r={},$$scope:l}=t;return e.$$set=e=>{"$$scope"in e&&n(0,l=e.$$scope)},[l,r]}class xt extends we{constructor(e){super(),Se(this,e,Ct,kt,c,{})}}function Pt(e){return"[object Date]"===Object.prototype.toString.call(e)}function Nt(e,t){if(e===t||e!=e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map(((t,n)=>Nt(e[n],t)));return e=>n.map((t=>t(e)))}if("object"===n){if(!e||!t)throw new Error("Object cannot be null");if(Pt(e)&&Pt(t)){e=e.getTime();const n=(t=t.getTime())-e;return t=>new Date(e+t*n)}const n=Object.keys(t),r={};return n.forEach((n=>{r[n]=Nt(e[n],t[n])})),e=>{const t={};return n.forEach((n=>{t[n]=r[n](e)})),t}}if("number"===n){const n=t-e;return t=>e+t*n}throw new Error(`Cannot interpolate ${n} values`)}function It(e){let t;const n=e[7].default,r=a(n,e,e[6],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,t){r&&r.p&&64&t&&d(r,n,e,e[6],t,null,null)},i(e){t||(fe(r,e),t=!0)},o(e){pe(r,e),t=!1},d(e){r&&r.d(e)}}}function Et(t){let n,r;return{c(){n=k("p"),r=x(t[0]),E(n,"class","svelte-dvdjkv")},m(e,t){b(e,n,t),y(n,r)},p(e,t){1&t&&O(r,e[0])},i:e,o:e,d(e){e&&S(n)}}}function Ot(e){let t,n,r,l=e[2].toFixed(2)+"";return{c(){t=k("span"),n=x(l),r=x("%"),E(t,"class","svelte-dvdjkv")},m(e,l){b(e,t,l),y(t,n),y(t,r)},p(e,t){4&t&&l!==(l=e[2].toFixed(2)+"")&&O(n,l)},d(e){e&&S(t)}}}function _t(e){let t,n,r,l,o,s;const c=[Et,It],i=[];function a(e,t){return""!=e[0]?0:1}r=a(e),l=i[r]=c[r](e);let u=e[1]&&Ot(e);return{c(){t=k("div"),n=k("div"),l.c(),o=P(),u&&u.c(),D(n,"width",e[2]+"%"),D(n,"background-color","#"+e[4]),E(n,"class","progress-bar svelte-dvdjkv"),E(t,"class","progress progress-striped svelte-dvdjkv")},m(e,l){b(e,t,l),y(t,n),i[r].m(n,null),y(n,o),u&&u.m(n,null),s=!0},p(e,[t]){let d=r;r=a(e),r===d?i[r].p(e,t):(ue(),pe(i[d],1,1,(()=>{i[d]=null})),de(),l=i[r],l?l.p(e,t):(l=i[r]=c[r](e),l.c()),fe(l,1),l.m(n,o)),e[1]?u?u.p(e,t):(u=Ot(e),u.c(),u.m(n,null)):u&&(u.d(1),u=null),(!s||4&t)&&D(n,"width",e[2]+"%")},i(e){s||(fe(l),s=!0)},o(e){pe(l),s=!1},d(e){e&&S(t),i[r].d(),u&&u.d()}}}function Dt(e,r,l){let o,{$$slots:s={},$$scope:c}=r;const a=function(e,r={}){const l=xe(e);let o,s=e;function c(c,i){if(null==e)return l.set(e=c),Promise.resolve();s=c;let a=o,u=!1,{delay:d=0,duration:f=400,easing:p=t,interpolate:g=Nt}=n(n({},r),i);if(0===f)return a&&(a.abort(),a=null),l.set(e=s),Promise.resolve();const h=m()+d;let $;return o=v((t=>{if(t<h)return!0;u||($=g(e,c),"function"==typeof f&&(f=f(e,c)),u=!0),a&&(a.abort(),a=null);const n=t-h;return n>f?(l.set(e=c),!1):(l.set(e=$(p(n/f))),!0)})),o.promise}return{set:c,update:(t,n)=>c(t(s,e),n),subscribe:l.subscribe}}(0,{duration:500,easing:nt});i(e,a,(e=>l(2,o=e)));let u,{progressPercent:d=100}=r,{text:f=""}=r,p=Math.floor(16777215*Math.random()).toString(16);return e.$$set=e=>{"progressPercent"in e&&l(5,d=e.progressPercent),"text"in e&&l(0,f=e.text),"$$scope"in e&&l(6,c=e.$$scope)},e.$$.update=()=>{32&e.$$.dirty&&l(5,d=d>100?100:d),32&e.$$.dirty&&a.set(d),32&e.$$.dirty&&l(1,u=d>20)},[f,u,o,a,p,d,c,s]}class At extends we{constructor(e){super(),Se(this,e,Dt,_t,c,{progressPercent:5,text:0})}}function Mt(e,t,n){const r=e.slice();return r[1]=t[n],r}function Bt(e,t,n){const r=e.slice();return r[4]=t[n],r}function Lt(e){let t,n,r=e[4]+"";return{c(){t=k("li"),n=x(r)},m(e,r){b(e,t,r),y(t,n)},p(e,t){1&t&&r!==(r=e[4]+"")&&O(n,r)},d(e){e&&S(t)}}}function Tt(e){let t,n,r,l,o,s=e[1].player.Name+"",c=e[1].bannedMods,i=[];for(let t=0;t<c.length;t+=1)i[t]=Lt(Bt(e,c,t));return{c(){t=k("li"),n=x(s),r=P(),l=k("ul");for(let e=0;e<i.length;e+=1)i[e].c();o=P()},m(e,s){b(e,t,s),y(t,n),y(t,r),y(t,l);for(let e=0;e<i.length;e+=1)i[e].m(l,null);y(t,o)},p(e,t){if(1&t&&s!==(s=e[1].player.Name+"")&&O(n,s),1&t){let n;for(c=e[1].bannedMods,n=0;n<c.length;n+=1){const r=Bt(e,c,n);i[n]?i[n].p(r,t):(i[n]=Lt(r),i[n].c(),i[n].m(l,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=c.length}},d(e){e&&S(t),w(i,e)}}}function Ut(t){let n,r,l,o=t[0],s=[];for(let e=0;e<o.length;e+=1)s[e]=Tt(Mt(t,o,e));return{c(){n=k("h3"),n.textContent="Banned Mods",r=P(),l=k("ul");for(let e=0;e<s.length;e+=1)s[e].c()},m(e,t){b(e,n,t),b(e,r,t),b(e,l,t);for(let e=0;e<s.length;e+=1)s[e].m(l,null)},p(e,[t]){if(1&t){let n;for(o=e[0],n=0;n<o.length;n+=1){const r=Mt(e,o,n);s[n]?s[n].p(r,t):(s[n]=Tt(r),s[n].c(),s[n].m(l,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=o.length}},i:e,o:e,d(e){e&&S(n),e&&S(r),e&&S(l),w(s,e)}}}function jt(e,t,n){let{players:r}=t;return e.$$set=e=>{"players"in e&&n(0,r=e.players)},[r]}class Ft extends we{constructor(e){super(),Se(this,e,jt,Ut,c,{players:0})}}function Rt(e,t,n){const r=e.slice();return r[40]=t[n],r[41]=t,r[42]=n,r}function qt(e,t,n){const r=e.slice();return r[40]=t[n],r[43]=t,r[44]=n,r}function Gt(e,t,n){const r=e.slice();return r[45]=t[n],r}function Ht(e,t,n){const r=e.slice();return r[48]=t[n],r}function Wt(e,t,n){const r=e.slice();return r[51]=t[n],r}function zt(e,t,n){const r=e.slice();return r[54]=t[n],r}function Qt(e,t,n){const r=e.slice();return r[57]=t[n],r}function Jt(e,t,n){const r=e.slice();return r[57]=t[n],r}function Vt(e,t,n){const r=e.slice();return r[60]=t[n],r}function Kt(t){let n,r,l,o,s,c;return n=new it({props:{text:"Check for Banned Mods",secondary:!0}}),n.$on("click",t[18]),s=new it({props:{text:"Check for Whitelisted Mods",secondary:!0}}),s.$on("click",t[19]),{c(){$e(n.$$.fragment),r=P(),l=k("br"),o=P(),$e(s.$$.fragment)},m(e,t){ve(n,e,t),b(e,r,t),b(e,l,t),b(e,o,t),ve(s,e,t),c=!0},p:e,i(e){c||(fe(n.$$.fragment,e),fe(s.$$.fragment,e),c=!0)},o(e){pe(n.$$.fragment,e),pe(s.$$.fragment,e),c=!1},d(e){ye(n,e),e&&S(r),e&&S(l),e&&S(o),ye(s,e)}}}function Zt(e){let t,n,r=e[0].Players.sort(In),l=[];for(let t=0;t<r.length;t+=1)l[t]=Yt(Qt(e,r,t));const o=e=>pe(l[e],1,1,(()=>{l[e]=null}));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=N()},m(e,r){for(let t=0;t<l.length;t+=1)l[t].m(e,r);b(e,t,r),n=!0},p(e,n){if(1048577&n[0]){let s;for(r=e[0].Players.sort(In),s=0;s<r.length;s+=1){const o=Qt(e,r,s);l[s]?(l[s].p(o,n),fe(l[s],1)):(l[s]=Yt(o),l[s].c(),fe(l[s],1),l[s].m(t.parentNode,t))}for(ue(),s=r.length;s<l.length;s+=1)o(s);de()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)fe(l[e]);n=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)pe(l[e]);n=!1},d(e){w(l,e),e&&S(t)}}}function Xt(e){let t,n,r,l,o,s=e[1].ServerSettings.EnableTeams&&en(e),c=e[0].Players.sort(Nn),i=[];for(let t=0;t<c.length;t+=1)i[t]=rn(Jt(e,c,t));const a=e=>pe(i[e],1,1,(()=>{i[e]=null}));return{c(){s&&s.c(),t=P(),n=k("p"),n.textContent="Players",r=P();for(let e=0;e<i.length;e+=1)i[e].c();l=N(),E(n,"class","svelte-15iwx6t")},m(e,c){s&&s.m(e,c),b(e,t,c),b(e,n,c),b(e,r,c);for(let t=0;t<i.length;t+=1)i[t].m(e,c);b(e,l,c),o=!0},p(e,n){if(e[1].ServerSettings.EnableTeams?s?(s.p(e,n),2&n[0]&&fe(s,1)):(s=en(e),s.c(),fe(s,1),s.m(t.parentNode,t)):s&&(ue(),pe(s,1,1,(()=>{s=null})),de()),1&n[0]){let t;for(c=e[0].Players.sort(Nn),t=0;t<c.length;t+=1){const r=Jt(e,c,t);i[t]?(i[t].p(r,n),fe(i[t],1)):(i[t]=rn(r),i[t].c(),fe(i[t],1),i[t].m(l.parentNode,l))}for(ue(),t=c.length;t<i.length;t+=1)a(t);de()}},i(e){if(!o){fe(s);for(let e=0;e<c.length;e+=1)fe(i[e]);o=!0}},o(e){pe(s),i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)pe(i[e]);o=!1},d(e){s&&s.d(e),e&&S(t),e&&S(n),e&&S(r),w(i,e),e&&S(l)}}}function Yt(n){let r,l,c,i,a,u,d,f,p,g,h,$,w,C,N,_,D,A,M,B,L,T,U,R,q,G,H,W,z,Q,J,V,K,Z,X,ee,te,ne,re,le,oe,ie,ue,de,ge,he,be,Se,we,ke,Ce,xe,Pe,Ne,Ie,Ee=n[57].Name+"",Oe=n[57].Score+"",_e=(100*n[57].Accuracy).toFixed(2)+"",De=n[57].Combo+"",Ae=n[57].Team.Name+"",Me=Je[n[57].PlayState]+"",Be=Ve[n[57].DownloadState]+"";return we=new it({props:{text:"Kick",secondary:!0}}),we.$on("click",(function(){return n[31](n[57])})),{c(){r=k("div"),l=k("img"),a=P(),u=k("b"),d=x(Ee),f=P(),p=k("hr"),g=P(),h=k("b"),h.textContent="Score:",$=P(),w=x(Oe),C=P(),N=k("br"),_=P(),D=k("b"),D.textContent="Accuracy:",A=P(),M=x(_e),B=x("%\n\t\t\t\t\t\t"),L=k("br"),T=P(),U=k("b"),U.textContent="Combo:",R=P(),q=x(De),G=P(),H=k("br"),W=P(),z=k("hr"),Q=P(),J=k("b"),J.textContent="Team:",V=P(),K=x(Ae),Z=P(),X=k("br"),ee=P(),te=k("b"),te.textContent="Play State:",ne=P(),re=x(Me),le=P(),oe=k("br"),ie=P(),ue=k("b"),ue.textContent="Download State:",de=P(),ge=x(Be),he=P(),be=k("hr"),Se=P(),$e(we.$$.fragment),ke=P(),E(l,"loading","lazy"),E(l,"class","playerImg mini"),l.src!==(c="https://new.scoresaber.com/api/static/avatars/"+n[57].UserId+".jpg")&&E(l,"src",c),E(l,"alt",i=n[57].Name+"'s profile image'"),E(r,"class","infoCard svelte-15iwx6t")},m(e,t){b(e,r,t),y(r,l),y(r,a),y(r,u),y(u,d),y(r,f),y(r,p),y(r,g),y(r,h),y(r,$),y(r,w),y(r,C),y(r,N),y(r,_),y(r,D),y(r,A),y(r,M),y(r,B),y(r,L),y(r,T),y(r,U),y(r,R),y(r,q),y(r,G),y(r,H),y(r,W),y(r,z),y(r,Q),y(r,J),y(r,V),y(r,K),y(r,Z),y(r,X),y(r,ee),y(r,te),y(r,ne),y(r,re),y(r,le),y(r,oe),y(r,ie),y(r,ue),y(r,de),y(r,ge),y(r,he),y(r,be),y(r,Se),ve(we,r,null),y(r,ke),Pe=!0,Ne||(Ie=I(l,"error",Pn),Ne=!0)},p(e,t){n=e,(!Pe||1&t[0]&&l.src!==(c="https://new.scoresaber.com/api/static/avatars/"+n[57].UserId+".jpg"))&&E(l,"src",c),(!Pe||1&t[0]&&i!==(i=n[57].Name+"'s profile image'"))&&E(l,"alt",i),(!Pe||1&t[0])&&Ee!==(Ee=n[57].Name+"")&&O(d,Ee),(!Pe||1&t[0])&&Oe!==(Oe=n[57].Score+"")&&O(w,Oe),(!Pe||1&t[0])&&_e!==(_e=(100*n[57].Accuracy).toFixed(2)+"")&&O(M,_e),(!Pe||1&t[0])&&De!==(De=n[57].Combo+"")&&O(q,De),(!Pe||1&t[0])&&Ae!==(Ae=n[57].Team.Name+"")&&O(K,Ae),(!Pe||1&t[0])&&Me!==(Me=Je[n[57].PlayState]+"")&&O(re,Me),(!Pe||1&t[0])&&Be!==(Be=Ve[n[57].DownloadState]+"")&&O(ge,Be)},i(l){Pe||(fe(we.$$.fragment,l),Y((()=>{xe&&xe.end(1),Ce||(Ce=function(n,r,l){let o,c,i=r(n,l),a=!1,u=0;function d(){o&&F(n,o)}function f(){const{delay:r=0,duration:l=300,easing:s=t,tick:f=e,css:p}=i||me;p&&(o=j(n,0,1,l,r,s,p,u++)),f(0,1);const g=m()+r,h=g+l;c&&c.abort(),a=!0,Y((()=>ce(n,!0,"start"))),c=v((e=>{if(a){if(e>=h)return f(1,0),ce(n,!0,"end"),d(),a=!1;if(e>=g){const t=s((e-g)/l);f(t,1-t)}}return a}))}let p=!1;return{start(){p||(F(n),s(i)?(i=i(),se().then(f)):f())},invalidate(){p=!1},end(){a&&(d(),a=!1)}}}(r,n[23],{key:n[57].Id})),Ce.start()})),Pe=!0)},o(l){pe(we.$$.fragment,l),Ce&&Ce.invalidate(),xe=function(n,r,l){let c,i=r(n,l),a=!0;const u=ae;function d(){const{delay:r=0,duration:l=300,easing:s=t,tick:d=e,css:f}=i||me;f&&(c=j(n,1,0,l,r,s,f));const p=m()+r,g=p+l;Y((()=>ce(n,!1,"start"))),v((e=>{if(a){if(e>=g)return d(0,1),ce(n,!1,"end"),--u.r||o(u.c),!1;if(e>=p){const t=s((e-p)/l);d(1-t,t)}}return a}))}return u.r+=1,s(i)?se().then((()=>{i=i(),d()})):d(),{end(e){e&&i.tick&&i.tick(1,0),a&&(c&&F(n,c),a=!1)}}}(r,n[22],{key:n[57].Id}),Pe=!1},d(e){e&&S(r),ye(we),e&&xe&&xe.end(),Ne=!1,Ie()}}}function en(e){let t,n,r,l,o=e[2],s=[];for(let t=0;t<o.length;t+=1)s[t]=nn(Vt(e,o,t));const c=e=>pe(s[e],1,1,(()=>{s[e]=null}));return{c(){t=k("p"),t.textContent="Teams",n=P();for(let e=0;e<s.length;e+=1)s[e].c();r=N(),E(t,"class","svelte-15iwx6t")},m(e,o){b(e,t,o),b(e,n,o);for(let t=0;t<s.length;t+=1)s[t].m(e,o);b(e,r,o),l=!0},p(e,t){if(4&t[0]){let n;for(o=e[2],n=0;n<o.length;n+=1){const l=Vt(e,o,n);s[n]?(s[n].p(l,t),fe(s[n],1)):(s[n]=nn(l),s[n].c(),fe(s[n],1),s[n].m(r.parentNode,r))}for(ue(),n=o.length;n<s.length;n+=1)c(n);de()}},i(e){if(!l){for(let e=0;e<o.length;e+=1)fe(s[e]);l=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)pe(s[e]);l=!1},d(e){e&&S(t),e&&S(n),w(s,e),e&&S(r)}}}function tn(e){let t,n,r,l,o,s,c,i=e[60].Score+"";return t=new At({props:{progressPercent:parseFloat((100*e[60].Accuracy).toFixed(2)),text:e[60].Name}}),{c(){$e(t.$$.fragment),n=P(),r=k("p"),l=k("span"),o=x(i),s=P(),D(l,"float","left"),E(r,"class","svelte-15iwx6t")},m(e,i){ve(t,e,i),b(e,n,i),b(e,r,i),y(r,l),y(l,o),y(r,s),c=!0},p(e,n){const r={};4&n[0]&&(r.progressPercent=parseFloat((100*e[60].Accuracy).toFixed(2))),4&n[0]&&(r.text=e[60].Name),8&n[2]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r),(!c||4&n[0])&&i!==(i=e[60].Score+"")&&O(o,i)},i(e){c||(fe(t.$$.fragment,e),c=!0)},o(e){pe(t.$$.fragment,e),c=!1},d(e){ye(t,e),e&&S(n),e&&S(r)}}}function nn(e){let t,n,r=e[60].Score&&tn(e);return{c(){r&&r.c(),t=N()},m(e,l){r&&r.m(e,l),b(e,t,l),n=!0},p(e,n){e[60].Score?r?(r.p(e,n),4&n[0]&&fe(r,1)):(r=tn(e),r.c(),fe(r,1),r.m(t.parentNode,t)):r&&(ue(),pe(r,1,1,(()=>{r=null})),de())},i(e){n||(fe(r),n=!0)},o(e){pe(r),n=!1},d(e){r&&r.d(e),e&&S(t)}}}function rn(e){let t,n,r,l,o,s,c,i,a,u,d,f=e[57].Score+"",p=e[57].Combo+"";return t=new At({props:{progressPercent:parseFloat((100*e[57].Accuracy).toFixed(2)),text:e[57].Name}}),{c(){$e(t.$$.fragment),n=P(),r=k("p"),l=k("span"),o=x(f),s=P(),c=k("span"),i=x(p),a=P(),u=k("br"),D(l,"float","left"),D(c,"float","right"),E(r,"class","svelte-15iwx6t"),E(u,"class","svelte-15iwx6t")},m(e,f){ve(t,e,f),b(e,n,f),b(e,r,f),y(r,l),y(l,o),y(r,s),y(r,c),y(c,i),b(e,a,f),b(e,u,f),d=!0},p(e,n){const r={};1&n[0]&&(r.progressPercent=parseFloat((100*e[57].Accuracy).toFixed(2))),1&n[0]&&(r.text=e[57].Name),8&n[2]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r),(!d||1&n[0])&&f!==(f=e[57].Score+"")&&O(o,f),(!d||1&n[0])&&p!==(p=e[57].Combo+"")&&O(i,p)},i(e){d||(fe(t.$$.fragment,e),d=!0)},o(e){pe(t.$$.fragment,e),d=!1},d(e){ye(t,e),e&&S(n),e&&S(r),e&&S(a),e&&S(u)}}}function ln(e){let t,n,r,l;return r=new vt({props:{$$slots:{default:[dn]},$$scope:{ctx:e}}}),{c(){t=k("h3"),t.textContent="Previous Scores",n=P(),$e(r.$$.fragment)},m(e,o){b(e,t,o),b(e,n,o),ve(r,e,o),l=!0},p(e,t){const n={};16&t[0]|8&t[2]&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){l||(fe(r.$$.fragment,e),l=!0)},o(e){pe(r.$$.fragment,e),l=!1},d(e){e&&S(t),e&&S(n),ye(r,e)}}}function on(e){let t,n,r=e[51][0].Beatmap.Name+"";return{c(){t=k("span"),n=x(r),E(t,"slot","title")},m(e,r){b(e,t,r),y(t,n)},p(e,t){16&t[0]&&r!==(r=e[51][0].Beatmap.Name+"")&&O(n,r)},d(e){e&&S(t)}}}function sn(e){let t,n,r,l,o,s,c,i,a,u,d,f,p,m,g,h,$,v=e[54].User.Name+"",w=e[54].User.Score+"",C=(100*e[54].User.Accuracy).toFixed(2)+"",N=e[21](e[54].Type)+"";return{c(){t=k("li"),n=x(v),r=P(),l=k("br"),o=P(),s=k("div"),c=x("Score:\n\t\t\t\t\t\t\t\t\t\t"),i=x(w),a=P(),u=k("br"),d=x("\n\t\t\t\t\t\t\t\t\t\tAcc:\n\t\t\t\t\t\t\t\t\t\t"),f=x(C),p=x("%\n\t\t\t\t\t\t\t\t\t\t"),m=k("br"),g=x("\n\t\t\t\t\t\t\t\t\t\tResult:\n\t\t\t\t\t\t\t\t\t\t"),h=x(N),$=P(),D(s,"margin-left","20px")},m(e,v){b(e,t,v),y(t,n),y(t,r),y(t,l),y(t,o),y(t,s),y(s,c),y(s,i),y(s,a),y(s,u),y(s,d),y(s,f),y(s,p),y(s,m),y(s,g),y(s,h),y(t,$)},p(e,t){16&t[0]&&v!==(v=e[54].User.Name+"")&&O(n,v),16&t[0]&&w!==(w=e[54].User.Score+"")&&O(i,w),16&t[0]&&C!==(C=(100*e[54].User.Accuracy).toFixed(2)+"")&&O(f,C),16&t[0]&&N!==(N=e[21](e[54].Type)+"")&&O(h,N)},d(e){e&&S(t)}}}function cn(e){let t,n=e[51],r=[];for(let t=0;t<n.length;t+=1)r[t]=sn(zt(e,n,t));return{c(){t=k("ol");for(let e=0;e<r.length;e+=1)r[e].c();E(t,"slot","content")},m(e,n){b(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,l){if(2097168&l[0]){let o;for(n=e[51],o=0;o<n.length;o+=1){const s=zt(e,n,o);r[o]?r[o].p(s,l):(r[o]=sn(s),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){e&&S(t),w(r,e)}}}function an(t){let n,r;return{c(){n=P(),r=P()},m(e,t){b(e,n,t),b(e,r,t)},p:e,d(e){e&&S(n),e&&S(r)}}}function un(e){let t,n;return t=new xt({props:{$$slots:{default:[an],content:[cn],title:[on]},$$scope:{ctx:e}}}),{c(){$e(t.$$.fragment)},m(e,r){ve(t,e,r),n=!0},p(e,n){const r={};16&n[0]|8&n[2]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){ye(t,e)}}}function dn(e){let t,n,r=e[4].reverse(),l=[];for(let t=0;t<r.length;t+=1)l[t]=un(Wt(e,r,t));const o=e=>pe(l[e],1,1,(()=>{l[e]=null}));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=N()},m(e,r){for(let t=0;t<l.length;t+=1)l[t].m(e,r);b(e,t,r),n=!0},p(e,n){if(2097168&n[0]){let s;for(r=e[4].reverse(),s=0;s<r.length;s+=1){const o=Wt(e,r,s);l[s]?(l[s].p(o,n),fe(l[s],1)):(l[s]=un(o),l[s].c(),fe(l[s],1),l[s].m(t.parentNode,t))}for(ue(),s=r.length;s<l.length;s+=1)o(s);de()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)fe(l[e]);n=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)pe(l[e]);n=!1},d(e){w(l,e),e&&S(t)}}}function fn(e){let t,n,r,l,o,s,c,i,a,u,d,f=e[0].SelectedLevel.Name+"";function p(t){e[33].call(null,t)}let m={$$slots:{default:[mn]},$$scope:{ctx:e}};void 0!==e[0].SelectedCharacteristic&&(m.value=e[0].SelectedCharacteristic),s=new gt({props:m}),J.push((()=>he(s,"value",p))),s.$on("change",e[15]);let g=e[0].SelectedCharacteristic&&gn(e),h=(e[3]||e[9])&&vn(e);return{c(){t=k("p"),n=k("b"),n.textContent="Loaded Map:",r=P(),l=x(f),o=P(),$e(s.$$.fragment),i=P(),g&&g.c(),a=P(),h&&h.c(),u=N()},m(e,c){b(e,t,c),y(t,n),y(t,r),y(t,l),b(e,o,c),ve(s,e,c),b(e,i,c),g&&g.m(e,c),b(e,a,c),h&&h.m(e,c),b(e,u,c),d=!0},p(e,t){(!d||1&t[0])&&f!==(f=e[0].SelectedLevel.Name+"")&&O(l,f);const n={};1&t[0]|8&t[2]&&(n.$$scope={dirty:t,ctx:e}),!c&&1&t[0]&&(c=!0,n.value=e[0].SelectedCharacteristic,ee((()=>c=!1))),s.$set(n),e[0].SelectedCharacteristic?g?(g.p(e,t),1&t[0]&&fe(g,1)):(g=gn(e),g.c(),fe(g,1),g.m(a.parentNode,a)):g&&(ue(),pe(g,1,1,(()=>{g=null})),de()),e[3]||e[9]?h?(h.p(e,t),520&t[0]&&fe(h,1)):(h=vn(e),h.c(),fe(h,1),h.m(u.parentNode,u)):h&&(ue(),pe(h,1,1,(()=>{h=null})),de())},i(e){d||(fe(s.$$.fragment,e),fe(g),fe(h),d=!0)},o(e){pe(s.$$.fragment,e),pe(g),pe(h),d=!1},d(e){e&&S(t),e&&S(o),ye(s,e),e&&S(i),g&&g.d(e),e&&S(a),h&&h.d(e),e&&S(u)}}}function pn(e){let t,n,r,l=e[48].SerializedName+"";return{c(){t=k("option"),n=x(l),t.__value=r=e[48],t.value=t.__value},m(e,r){b(e,t,r),y(t,n)},p(e,o){1&o[0]&&l!==(l=e[48].SerializedName+"")&&O(n,l),1&o[0]&&r!==(r=e[48])&&(t.__value=r,t.value=t.__value)},d(e){e&&S(t)}}}function mn(e){let t,n=e[0].SelectedLevel?.Characteristics,r=[];for(let t=0;t<n.length;t+=1)r[t]=pn(Ht(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=N()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);b(e,t,n)},p(e,l){if(1&l[0]){let o;for(n=e[0].SelectedLevel?.Characteristics,o=0;o<n.length;o+=1){const s=Ht(e,n,o);r[o]?r[o].p(s,l):(r[o]=pn(s),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){w(r,e),e&&S(t)}}}function gn(e){let t,n,r;function l(t){e[34].call(null,t)}let o={$$slots:{default:[$n]},$$scope:{ctx:e}};return void 0!==e[0].SelectedDifficulty&&(o.value=e[0].SelectedDifficulty),t=new gt({props:o}),J.push((()=>he(t,"value",l))),t.$on("change",e[15]),{c(){$e(t.$$.fragment)},m(e,n){ve(t,e,n),r=!0},p(e,r){const l={};2049&r[0]|8&r[2]&&(l.$$scope={dirty:r,ctx:e}),!n&&1&r[0]&&(n=!0,l.value=e[0].SelectedDifficulty,ee((()=>n=!1))),t.$set(l)},i(e){r||(fe(t.$$.fragment,e),r=!0)},o(e){pe(t.$$.fragment,e),r=!1},d(e){ye(t,e)}}}function hn(e){let t,n,r,l,o,s=He[e[45]]+"";return{c(){t=k("option"),n=x(s),r=P(),t.selected=l=e[45]==e[0].SelectedDifficulty,t.__value=o=e[45],t.value=t.__value},m(e,l){b(e,t,l),y(t,n),y(t,r)},p(e,r){1&r[0]&&s!==(s=He[e[45]]+"")&&O(n,s),1&r[0]&&l!==(l=e[45]==e[0].SelectedDifficulty)&&(t.selected=l),1&r[0]&&o!==(o=e[45])&&(t.__value=o,t.value=t.__value)},d(e){e&&S(t)}}}function $n(e){let t,n,r,l,o,s=e[0].SelectedCharacteristic?.Difficulties.sort(),c=[];for(let t=0;t<s.length;t+=1)c[t]=hn(Gt(e,s,t));return{c(){t=k("option"),n=x("Select a Difficulty"),l=P();for(let e=0;e<c.length;e+=1)c[e].c();o=N(),t.selected=r=!e[11],t.disabled=!0,t.__value="\n\t\t\t\t\t\tSelect a Difficulty\n\t\t\t\t\t",t.value=t.__value},m(e,r){b(e,t,r),y(t,n),b(e,l,r);for(let t=0;t<c.length;t+=1)c[t].m(e,r);b(e,o,r)},p(e,n){if(2048&n[0]&&r!==(r=!e[11])&&(t.selected=r),1&n[0]){let t;for(s=e[0].SelectedCharacteristic?.Difficulties.sort(),t=0;t<s.length;t+=1){const r=Gt(e,s,t);c[t]?c[t].p(r,n):(c[t]=hn(r),c[t].c(),c[t].m(o.parentNode,o))}for(;t<c.length;t+=1)c[t].d(1);c.length=s.length}},d(e){e&&S(t),e&&S(l),w(c,e),e&&S(o)}}}function vn(e){let t,n,r,l,o,s,c,i,a,u,d,f,p=e[8],m=[];for(let t=0;t<p.length;t+=1)m[t]=yn(qt(e,p,t));const g=e=>pe(m[e],1,1,(()=>{m[e]=null}));let h=e[7],$=[];for(let t=0;t<h.length;t+=1)$[t]=bn(Rt(e,h,t));const v=e=>pe($[e],1,1,(()=>{$[e]=null}));let C=e[3]&&Sn(e),x=e[9]&&wn(e);return{c(){t=k("br"),n=P(),r=k("div"),l=k("ul");for(let e=0;e<m.length;e+=1)m[e].c();o=P(),s=k("ul");for(let e=0;e<$.length;e+=1)$[e].c();c=P(),i=k("br"),a=P(),C&&C.c(),u=P(),x&&x.c(),d=N(),D(l,"list-style","none"),D(l,"float","left"),D(l,"margin-right","20px"),D(s,"list-style","none"),D(s,"float","left"),D(r,"width","100%"),D(r,"overflow","hidden")},m(e,p){b(e,t,p),b(e,n,p),b(e,r,p),y(r,l);for(let e=0;e<m.length;e+=1)m[e].m(l,null);y(r,o),y(r,s);for(let e=0;e<$.length;e+=1)$[e].m(s,null);b(e,c,p),b(e,i,p),b(e,a,p),C&&C.m(e,p),b(e,u,p),x&&x.m(e,p),b(e,d,p),f=!0},p(e,t){if(256&t[0]){let n;for(p=e[8],n=0;n<p.length;n+=1){const r=qt(e,p,n);m[n]?(m[n].p(r,t),fe(m[n],1)):(m[n]=yn(r),m[n].c(),fe(m[n],1),m[n].m(l,null))}for(ue(),n=p.length;n<m.length;n+=1)g(n);de()}if(128&t[0]){let n;for(h=e[7],n=0;n<h.length;n+=1){const r=Rt(e,h,n);$[n]?($[n].p(r,t),fe($[n],1)):($[n]=bn(r),$[n].c(),fe($[n],1),$[n].m(s,null))}for(ue(),n=h.length;n<$.length;n+=1)v(n);de()}e[3]?C?(C.p(e,t),8&t[0]&&fe(C,1)):(C=Sn(e),C.c(),fe(C,1),C.m(u.parentNode,u)):C&&(ue(),pe(C,1,1,(()=>{C=null})),de()),e[9]?x?(x.p(e,t),512&t[0]&&fe(x,1)):(x=wn(e),x.c(),fe(x,1),x.m(d.parentNode,d)):x&&(ue(),pe(x,1,1,(()=>{x=null})),de())},i(e){if(!f){for(let e=0;e<p.length;e+=1)fe(m[e]);for(let e=0;e<h.length;e+=1)fe($[e]);fe(C),fe(x),f=!0}},o(e){m=m.filter(Boolean);for(let e=0;e<m.length;e+=1)pe(m[e]);$=$.filter(Boolean);for(let e=0;e<$.length;e+=1)pe($[e]);pe(C),pe(x),f=!1},d(e){e&&S(t),e&&S(n),e&&S(r),w(m,e),w($,e),e&&S(c),e&&S(i),e&&S(a),C&&C.d(e),e&&S(u),x&&x.d(e),e&&S(d)}}}function yn(e){let t,n,r,l,o;function s(t){e[35].call(null,t,e[40])}let c={label:e[40].name};return void 0!==e[40].isSelected&&(c.checked=e[40].isSelected),n=new dt({props:c}),J.push((()=>he(n,"checked",s))),{c(){t=k("li"),$e(n.$$.fragment),l=P()},m(e,r){b(e,t,r),ve(n,t,null),y(t,l),o=!0},p(t,l){e=t;const o={};256&l[0]&&(o.label=e[40].name),!r&&256&l[0]&&(r=!0,o.checked=e[40].isSelected,ee((()=>r=!1))),n.$set(o)},i(e){o||(fe(n.$$.fragment,e),o=!0)},o(e){pe(n.$$.fragment,e),o=!1},d(e){e&&S(t),ye(n)}}}function bn(e){let t,n,r,l,o;function s(t){e[36].call(null,t,e[40])}let c={label:e[40].label};return void 0!==e[40].isSelected&&(c.checked=e[40].isSelected),n=new dt({props:c}),J.push((()=>he(n,"checked",s))),{c(){t=k("li"),$e(n.$$.fragment),l=P()},m(e,r){b(e,t,r),ve(n,t,null),y(t,l),o=!0},p(t,l){e=t;const o={};128&l[0]&&(o.label=e[40].label),!r&&128&l[0]&&(r=!0,o.checked=e[40].isSelected,ee((()=>r=!1))),n.$set(o)},i(e){o||(fe(n.$$.fragment,e),o=!0)},o(e){pe(n.$$.fragment,e),o=!1},d(e){e&&S(t),ye(n)}}}function Sn(e){let t,n;return t=new it({props:{primary:!0,disabled:!e[12]||!e[6],text:"Play Song"}}),t.$on("click",e[16]),{c(){$e(t.$$.fragment)},m(e,r){ve(t,e,r),n=!0},p(e,n){const r={};4160&n[0]&&(r.disabled=!e[12]||!e[6]),t.$set(r)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){ye(t,e)}}}function wn(t){let n,r;return n=new it({props:{primary:!0,text:"Return To Menu"}}),n.$on("click",t[17]),{c(){$e(n.$$.fragment)},m(e,t){ve(n,e,t),r=!0},p:e,i(e){r||(fe(n.$$.fragment,e),r=!0)},o(e){pe(n.$$.fragment,e),r=!1},d(e){ye(n,e)}}}function kn(t){let n,r;return n=new it({props:{secondary:!0,text:"Close Match"}}),n.$on("click",t[37]),{c(){$e(n.$$.fragment)},m(e,t){ve(n,e,t),r=!0},p:e,i(e){r||(fe(n.$$.fragment,e),r=!0)},o(e){pe(n.$$.fragment,e),r=!1},d(e){ye(n,e)}}}function Cn(e){let t,n,r,l,o,s,c,i,a,u,d,f,p,m,g,h,$,v,w,C,x,I,O,_,A,M,B,L=!e[9]&&Kt(e);const T=[Xt,Zt],U=[];function j(e,t){return e[9]?0:1}c=j(e),i=U[c]=T[c](e);let F=e[4].length>0&&ln(e);function R(t){e[32].call(null,t)}let q={placeHolder:"Song URL/ID"};void 0!==e[5]&&(q.value=e[5]),m=new tt({props:q}),J.push((()=>he(m,"value",R))),$=new it({props:{primary:!0,disabled:e[10]||""==e[5]||!e[5],text:e[10]?"Players Downloading":"Load Song"}}),$.$on("click",e[14]);let G=e[0].SelectedLevel&&fn(e),H=!e[9]&&kn(e);return{c(){t=k("section"),n=k("div"),r=k("h3"),r.textContent="Players",l=P(),L&&L.c(),o=P(),s=k("div"),i.c(),a=P(),F&&F.c(),u=P(),d=k("div"),f=k("h3"),f.textContent="Controls",p=P(),$e(m.$$.fragment),h=P(),$e($.$$.fragment),v=P(),w=k("br"),C=P(),G&&G.c(),x=P(),I=k("hr"),O=P(),_=k("br"),A=P(),H&&H.c(),M=N(),E(s,"class","cards svelte-15iwx6t"),D(n,"min-width","30%"),E(n,"class","svelte-15iwx6t"),E(d,"class","svelte-15iwx6t"),E(t,"class","svelte-15iwx6t")},m(e,i){b(e,t,i),y(t,n),y(n,r),y(n,l),L&&L.m(n,null),y(n,o),y(n,s),U[c].m(s,null),y(n,a),F&&F.m(n,null),y(t,u),y(t,d),y(d,f),y(d,p),ve(m,d,null),y(d,h),ve($,d,null),y(d,v),y(d,w),y(d,C),G&&G.m(d,null),b(e,x,i),b(e,I,i),b(e,O,i),b(e,_,i),b(e,A,i),H&&H.m(e,i),b(e,M,i),B=!0},p(e,t){e[9]?L&&(ue(),pe(L,1,1,(()=>{L=null})),de()):L?(L.p(e,t),512&t[0]&&fe(L,1)):(L=Kt(e),L.c(),fe(L,1),L.m(n,o));let r=c;c=j(e),c===r?U[c].p(e,t):(ue(),pe(U[r],1,1,(()=>{U[r]=null})),de(),i=U[c],i?i.p(e,t):(i=U[c]=T[c](e),i.c()),fe(i,1),i.m(s,null)),e[4].length>0?F?(F.p(e,t),16&t[0]&&fe(F,1)):(F=ln(e),F.c(),fe(F,1),F.m(n,null)):F&&(ue(),pe(F,1,1,(()=>{F=null})),de());const l={};!g&&32&t[0]&&(g=!0,l.value=e[5],ee((()=>g=!1))),m.$set(l);const a={};1056&t[0]&&(a.disabled=e[10]||""==e[5]||!e[5]),1024&t[0]&&(a.text=e[10]?"Players Downloading":"Load Song"),$.$set(a),e[0].SelectedLevel?G?(G.p(e,t),1&t[0]&&fe(G,1)):(G=fn(e),G.c(),fe(G,1),G.m(d,null)):G&&(ue(),pe(G,1,1,(()=>{G=null})),de()),e[9]?H&&(ue(),pe(H,1,1,(()=>{H=null})),de()):H?(H.p(e,t),512&t[0]&&fe(H,1)):(H=kn(e),H.c(),fe(H,1),H.m(M.parentNode,M))},i(e){B||(fe(L),fe(i),fe(F),fe(m.$$.fragment,e),fe($.$$.fragment,e),fe(G),fe(H),B=!0)},o(e){pe(L),pe(i),pe(F),pe(m.$$.fragment,e),pe($.$$.fragment,e),pe(G),pe(H),B=!1},d(e){e&&S(t),L&&L.d(),U[c].d(),F&&F.d(),ye(m),ye($),G&&G.d(),e&&S(x),e&&S(I),e&&S(O),e&&S(_),e&&S(A),H&&H.d(e),e&&S(M)}}}function xn(e){for(var t=e.split(" "),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].substring(1);return t.join(" ")}function Pn(e){this.src="https://scoresaber.com/imports/images/oculus.png"}const Nn=(e,t)=>t.Score-e.Score,In=(e,t)=>t.Score-e.Score;function En(e,t,n){var r,l,o,s,c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(l,o){function s(e){try{i(r.next(e))}catch(e){o(e)}}function c(e){try{i(r.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}i((r=r.apply(e,t||[])).next())}))};let{modal:i}=t,{taState:a}=t,{curMatch:u}=t,{teams:d}=t;const f=G();let p=[];let m,g=!1,h=[{label:"Show Scoreboard",isSelected:!1},{label:"Disable Pause",isSelected:!0},{label:"Disable Fail",isSelected:!0}],$=[];for(const e in We)if(isNaN(Number(e))){if("None"==e)continue;$.push({name:e.replace(/([A-Z])/g," $1").trim(),value:We[e],isSelected:!1})}function v(e){f("playerKick",e)}const[y,b]=ot({duration:e=>Math.sqrt(200*e),fallback(e,t){const n=getComputedStyle(e),r="none"===n.transform?"":n.transform;return{duration:600,easing:rt,css:e=>`\n\t\t\t\t\ttransform: ${r} scale(${e});\n\t\t\t\t\topacity: ${e}\n\t\t\t\t`}}});let S,w,k,C,x,P,N;return e.$$set=e=>{"modal"in e&&n(24,i=e.modal),"taState"in e&&n(1,a=e.taState),"curMatch"in e&&n(0,u=e.curMatch),"teams"in e&&n(2,d=e.teams)},e.$$.update=()=>{1&e.$$.dirty[0]&&(S=!u.Players.every((e=>e.DownloadState!=Ve.None))),1&e.$$.dirty[0]&&n(3,w=u.Players.every((e=>e.PlayState==Je.Waiting))),1&e.$$.dirty[0]&&n(9,k=u.Players.every((e=>1==e.PlayState))),1&e.$$.dirty[0]&&n(10,C=u.Players.some((e=>e.DownloadState==Ve.Downloading))),1&e.$$.dirty[0]&&n(30,x=u.Players.every((e=>e.DownloadState==Ve.Downloaded))),201326593&e.$$.dirty[0]&&n(11,P=null===n(27,l=null===n(26,r=u.SelectedCharacteristic)||void 0===r?void 0:r.Difficulties)||void 0===l?void 0:l.includes(u.SelectedDifficulty)),1879048201&e.$$.dirty[0]&&n(12,N=x&&w&&(null===n(29,s=null===n(28,o=u.SelectedCharacteristic)||void 0===o?void 0:o.Difficulties)||void 0===s?void 0:s.includes(u.SelectedDifficulty)))},[u,a,d,w,p,m,g,h,$,k,C,P,N,f,function(){return c(this,void 0,void 0,(function*(){if(""==m||!m)return null;let e=m;m.includes("beatsaver")&&(e=m.split("beatmap/")[1],e.includes("&")&&(e=e.split("&")[0]));let t=yield fetch(`https://beatsaver.com/api/maps/detail/${e}`,{method:"GET",headers:{"User-Agent":"TAClient/1.0.0 (+https://github.com/Dannypoke03)"}}),r=yield t.json(),l=r.hash,o=[];n(0,u.SelectedDifficulty=0,u);for(const e of r.metadata.characteristics){let t=[];for(const n in e.difficulties)if(Object.prototype.hasOwnProperty.call(e.difficulties,n)&&null!=e.difficulties[n]){let e=He[xn(n)];t.push(e)}o.push({SerializedName:e.name,Difficulties:t})}let s={LevelId:`custom_level_${l.toUpperCase()}`,Name:r.metadata.songName,Characteristics:o,Loaded:!0};n(0,u.SelectedLevel=s,u),n(0,u.SelectedCharacteristic=s.Characteristics[0],u),n(0,u.SelectedDifficulty=He.Easy,u);let c={Type:Ge.MatchUpdated,ChangedObject:u},i={LevelId:u.SelectedLevel.LevelId,CustomHostUrl:null},a={ForwardTo:u.Players.map((e=>e.Id)),Type:qe.LoadSong,SpecificPacket:i};setTimeout((function(){f("sendPacket",new Xe(a,qe.ForwardingPacket))}),1e3),f("sendPacket",new Xe(c,qe.Event)),n(6,g=!1)}))},function(){let e={Type:Ge.MatchUpdated,ChangedObject:u};f("sendPacket",new Xe(e,qe.Event))},function(){let e={Options:We.None};for(const t of $)t.isSelected&&(e.Options=e.Options|t.value);let t={Characteristic:u.SelectedCharacteristic,Difficulty:u.SelectedDifficulty,LevelId:u.SelectedLevel.LevelId,Name:u.SelectedLevel.Name},n={GameplayParameters:{PlayerSettings:{Options:ze.None},GameplayModifiers:e,Beatmap:t},FloatingScoreboard:h[0].isSelected,StreamSync:!1,DisablePause:h[1].isSelected,DisableFail:h[2].isSelected},r={ForwardTo:u.Players.map((e=>e.Id)),Type:qe.PlaySong,SpecificPacket:n};f("sendPacket",new Xe(r,qe.ForwardingPacket))},function(){let e={ForwardTo:u.Players.map((e=>e.Id)),Type:qe.Command,SpecificPacket:{commandType:Qe.ReturnToMenu}};f("sendPacket",new Xe(e,qe.ForwardingPacket))},function(){let e=[];for(const t of u.Players){let n=[];for(const e of t.ModList)a.ServerSettings.BannedMods.includes(e)&&n.push(e);e.push({player:t,bannedMods:n})}i.open(Ft,{players:e},{},{onClose:()=>{n(6,g=!0)}})},function(){let e=[];for(const t of u.Players){let n=[];for(const e of t.ModList)a.ServerSettings.BannedMods.includes(e)||n.push(e);e.push({player:t,bannedMods:n})}i.open(Ft,{players:e},{},{onClose:()=>{n(6,g=!0)}})},v,function(e){return Ke[e]},y,b,i,e=>{n(4,p=[...p,e])},r,l,o,s,x,e=>v(e),function(e){m=e,n(5,m)},function(e){u.SelectedCharacteristic=e,n(0,u)},function(e){u.SelectedDifficulty=e,n(0,u)},function(e,t){t.isSelected=e,n(8,$)},function(e,t){t.isSelected=e,n(7,h)},()=>f("close")]}class On extends we{constructor(e){super(),Se(this,e,En,Cn,c,{modal:24,taState:1,curMatch:0,teams:2,addScore:25},[-1,-1,-1])}get addScore(){return this.$$.ctx[25]}}function _n(e){let t,r,l,c,i,a,u,d,f,p,m,g=e[1].closeButton&&Dn(e);const h=[e[3]];var $=e[2];function v(e){let t={};for(let e=0;e<h.length;e+=1)t=n(t,h[e]);return{props:t}}return $&&(a=new $(v())),{c(){t=k("div"),r=k("div"),l=k("div"),g&&g.c(),c=P(),i=k("div"),a&&$e(a.$$.fragment),E(i,"class","content svelte-1usmck3"),E(i,"style",e[13]),E(l,"class","window svelte-1usmck3"),E(l,"role","dialog"),E(l,"aria-modal","true"),E(l,"style",e[12]),E(r,"class","window-wrap svelte-1usmck3"),E(t,"class","bg svelte-1usmck3"),E(t,"style",e[11])},m(n,o){b(n,t,o),y(t,r),y(r,l),g&&g.m(l,null),y(l,c),y(l,i),a&&ve(a,i,null),e[36](l),e[37](r),e[38](t),f=!0,p||(m=[I(l,"introstart",(function(){s(e[7])&&e[7].apply(this,arguments)})),I(l,"outrostart",(function(){s(e[8])&&e[8].apply(this,arguments)})),I(l,"introend",(function(){s(e[9])&&e[9].apply(this,arguments)})),I(l,"outroend",(function(){s(e[10])&&e[10].apply(this,arguments)})),I(t,"click",e[19])],p=!0)},p(n,r){(e=n)[1].closeButton?g?(g.p(e,r),2&r[0]&&fe(g,1)):(g=Dn(e),g.c(),fe(g,1),g.m(l,c)):g&&(ue(),pe(g,1,1,(()=>{g=null})),de());const o=8&r[0]?function(e,t){const n={},r={},l={$$scope:1};let o=e.length;for(;o--;){const s=e[o],c=t[o];if(c){for(const e in s)e in c||(r[e]=1);for(const e in c)l[e]||(n[e]=c[e],l[e]=1);e[o]=c}else for(const e in s)l[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}(h,[(s=e[3],"object"==typeof s&&null!==s?s:{})]):{};var s;if($!==($=e[2])){if(a){ue();const e=a;pe(e.$$.fragment,1,0,(()=>{ye(e,1)})),de()}$?(a=new $(v()),$e(a.$$.fragment),fe(a.$$.fragment,1),ve(a,i,null)):a=null}else $&&a.$set(o);(!f||8192&r[0])&&E(i,"style",e[13]),(!f||4096&r[0])&&E(l,"style",e[12]),(!f||2048&r[0])&&E(t,"style",e[11])},i(n){f||(fe(g),a&&fe(a.$$.fragment,n),Y((()=>{u||(u=ge(l,e[16],e[1].transitionWindowProps,!0)),u.run(1)})),Y((()=>{d||(d=ge(t,e[15],e[1].transitionBgProps,!0)),d.run(1)})),f=!0)},o(n){pe(g),a&&pe(a.$$.fragment,n),u||(u=ge(l,e[16],e[1].transitionWindowProps,!1)),u.run(0),d||(d=ge(t,e[15],e[1].transitionBgProps,!1)),d.run(0),f=!1},d(n){n&&S(t),g&&g.d(),a&&ye(a),e[36](null),n&&u&&u.end(),e[37](null),e[38](null),n&&d&&d.end(),p=!1,o(m)}}}function Dn(e){let t,n,r,l,o;const s=[Mn,An],c=[];function i(e,n){return 2&n[0]&&(t=!!e[17](e[1].closeButton)),t?0:1}return n=i(e,[-1]),r=c[n]=s[n](e),{c(){r.c(),l=N()},m(e,t){c[n].m(e,t),b(e,l,t),o=!0},p(e,t){let o=n;n=i(e,t),n===o?c[n].p(e,t):(ue(),pe(c[o],1,1,(()=>{c[o]=null})),de(),r=c[n],r?r.p(e,t):(r=c[n]=s[n](e),r.c()),fe(r,1),r.m(l.parentNode,l))},i(e){o||(fe(r),o=!0)},o(e){pe(r),o=!1},d(e){c[n].d(e),e&&S(l)}}}function An(t){let n,r,l;return{c(){n=k("button"),E(n,"class","close svelte-1usmck3"),E(n,"style",t[14])},m(e,o){b(e,n,o),r||(l=I(n,"click",t[0]),r=!0)},p(e,t){16384&t[0]&&E(n,"style",e[14])},i:e,o:e,d(e){e&&S(n),r=!1,l()}}}function Mn(e){let t,n,r;var l=e[1].closeButton;function o(e){return{props:{onClose:e[0]}}}return l&&(t=new l(o(e))),{c(){t&&$e(t.$$.fragment),n=N()},m(e,l){t&&ve(t,e,l),b(e,n,l),r=!0},p(e,r){if(l!==(l=e[1].closeButton)){if(t){ue();const e=t;pe(e.$$.fragment,1,0,(()=>{ye(e,1)})),de()}l?(t=new l(o(e)),$e(t.$$.fragment),fe(t.$$.fragment,1),ve(t,n.parentNode,n)):t=null}},i(e){r||(t&&fe(t.$$.fragment,e),r=!0)},o(e){t&&pe(t.$$.fragment,e),r=!1},d(e){e&&S(n),t&&ye(t,e)}}}function Bn(e){let t,n,r,l,o=e[2]&&_n(e);const s=e[35].default,c=a(s,e,e[34],null);return{c(){o&&o.c(),t=P(),c&&c.c()},m(s,i){o&&o.m(s,i),b(s,t,i),c&&c.m(s,i),n=!0,r||(l=I(window,"keydown",e[18]),r=!0)},p(e,n){e[2]?o?(o.p(e,n),4&n[0]&&fe(o,1)):(o=_n(e),o.c(),fe(o,1),o.m(t.parentNode,t)):o&&(ue(),pe(o,1,1,(()=>{o=null})),de()),c&&c.p&&8&n[1]&&d(c,s,e,e[34],n,null,null)},i(e){n||(fe(o),fe(c,e),n=!0)},o(e){pe(o),pe(c,e),n=!1},d(e){o&&o.d(e),e&&S(t),c&&c.d(e),r=!1,l()}}}function Ln(e,t,n){let{$$slots:r={},$$scope:l}=t;const o=H,s=ke;let{key:c="simple-modal"}=t,{closeButton:i=!0}=t,{closeOnEsc:a=!0}=t,{closeOnOuterClick:u=!0}=t,{styleBg:d={top:0,left:0}}=t,{styleWindow:f={}}=t,{styleContent:p={}}=t,{styleCloseButton:m={}}=t,{setContext:g=o}=t,{transitionBg:h=lt}=t,{transitionBgProps:$={duration:250}}=t,{transitionWindow:v=h}=t,{transitionWindowProps:y=$}=t;const b={closeButton:i,closeOnEsc:a,closeOnOuterClick:u,styleBg:d,styleWindow:f,styleContent:p,styleCloseButton:m,transitionBg:h,transitionBgProps:$,transitionWindow:v,transitionWindowProps:y};let S,w,k,C={...b},x=null,P=null;const N=e=>Object.keys(e).reduce(((t,n)=>`${t}; ${(e=>e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase())(n)}: ${e[n]}`),""),I=()=>{};let E=I,O=I,_=I,D=I;const A=(e,t={},r={},l={})=>{n(2,x=e),n(3,P=t),n(1,C={...b,...r}),n(7,E=l.onOpen||I),n(8,O=l.onClose||I),n(9,_=l.onOpened||I),n(10,D=l.onClosed||I)},M=(e={})=>{n(8,O=e.onClose||O),n(10,D=e.onClosed||D),n(2,x=null),n(3,P=null)};let B,L,T,U,j,F;return g(c,{open:A,close:M}),e.$$set=e=>{"key"in e&&n(20,c=e.key),"closeButton"in e&&n(21,i=e.closeButton),"closeOnEsc"in e&&n(22,a=e.closeOnEsc),"closeOnOuterClick"in e&&n(23,u=e.closeOnOuterClick),"styleBg"in e&&n(24,d=e.styleBg),"styleWindow"in e&&n(25,f=e.styleWindow),"styleContent"in e&&n(26,p=e.styleContent),"styleCloseButton"in e&&n(27,m=e.styleCloseButton),"setContext"in e&&n(28,g=e.setContext),"transitionBg"in e&&n(29,h=e.transitionBg),"transitionBgProps"in e&&n(30,$=e.transitionBgProps),"transitionWindow"in e&&n(31,v=e.transitionWindow),"transitionWindowProps"in e&&n(32,y=e.transitionWindowProps),"$$scope"in e&&n(34,l=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty[0]&&n(11,B=N(C.styleBg)),2&e.$$.dirty[0]&&n(12,L=N(C.styleWindow)),2&e.$$.dirty[0]&&n(13,T=N(C.styleContent)),2&e.$$.dirty[0]&&n(14,U=N(C.styleCloseButton)),2&e.$$.dirty[0]&&n(15,j=C.transitionBg),2&e.$$.dirty[0]&&n(16,F=C.transitionWindow)},[M,C,x,P,S,w,k,E,O,_,D,B,L,T,U,j,F,e=>s&&s.isPrototypeOf(e),e=>{if(C.closeOnEsc&&x&&"Escape"===e.key&&(e.preventDefault(),M()),x&&"Tab"===e.key){const t=k.querySelectorAll("*"),n=Array.from(t).filter((e=>e.tabIndex>=0));let r=n.indexOf(document.activeElement);-1===r&&e.shiftKey&&(r=0),r+=n.length+(e.shiftKey?-1:1),r%=n.length,n[r].focus(),e.preventDefault()}},e=>{!C.closeOnOuterClick||e.target!==S&&e.target!==w||(e.preventDefault(),M())},c,i,a,u,d,f,p,m,g,h,$,v,y,A,l,r,function(e){J[e?"unshift":"push"]((()=>{k=e,n(6,k)}))},function(e){J[e?"unshift":"push"]((()=>{w=e,n(5,w)}))},function(e){J[e?"unshift":"push"]((()=>{S=e,n(4,S)}))}]}class Tn extends we{constructor(e){super(),Se(this,e,Ln,Bn,c,{key:20,closeButton:21,closeOnEsc:22,closeOnOuterClick:23,styleBg:24,styleWindow:25,styleContent:26,styleCloseButton:27,setContext:28,transitionBg:29,transitionBgProps:30,transitionWindow:31,transitionWindowProps:32,open:33,close:0},[-1,-1])}get open(){return this.$$.ctx[33]}get close(){return this.$$.ctx[0]}}function Un(e,t,n){const r=e.slice();return r[7]=t[n],r}function jn(e,t,n){const r=e.slice();return r[10]=t[n],r}function Fn(e){let t,n,r,l=e[2],o=[];for(let t=0;t<l.length;t+=1)o[t]=qn(jn(e,l,t));return{c(){t=k("p"),t.textContent="Teams",n=P(),r=k("ol");for(let e=0;e<o.length;e+=1)o[e].c()},m(e,l){b(e,t,l),b(e,n,l),b(e,r,l);for(let e=0;e<o.length;e+=1)o[e].m(r,null)},p(e,t){if(4&t){let n;for(l=e[2],n=0;n<l.length;n+=1){const s=jn(e,l,n);o[n]?o[n].p(s,t):(o[n]=qn(s),o[n].c(),o[n].m(r,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=l.length}},d(e){e&&S(t),e&&S(n),e&&S(r),w(o,e)}}}function Rn(e){let t,n,r,l,o,s,c,i,a,u,d,f,p,m,g=e[10].Name+"",h=e[10].Score+"",$=(100*e[10].Accuracy).toFixed(2)+"";return{c(){t=k("li"),n=x(g),r=P(),l=k("br"),o=P(),s=k("div"),c=x("Score:\n\t\t\t\t\t\t"),i=x(h),a=P(),u=k("br"),d=x("\n\t\t\t\t\t\tAvg Acc:\n\t\t\t\t\t\t"),f=x($),p=x("%"),m=P(),D(s,"margin-left","10px")},m(e,g){b(e,t,g),y(t,n),y(t,r),y(t,l),y(t,o),y(t,s),y(s,c),y(s,i),y(s,a),y(s,u),y(s,d),y(s,f),y(s,p),y(t,m)},p(e,t){4&t&&g!==(g=e[10].Name+"")&&O(n,g),4&t&&h!==(h=e[10].Score+"")&&O(i,h),4&t&&$!==($=(100*e[10].Accuracy).toFixed(2)+"")&&O(f,$)},d(e){e&&S(t)}}}function qn(e){let t,n=e[10].Score&&Rn(e);return{c(){n&&n.c(),t=N()},m(e,r){n&&n.m(e,r),b(e,t,r)},p(e,r){e[10].Score?n?n.p(e,r):(n=Rn(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&S(t)}}}function Gn(e){let t,n,r,l,o,s,c,i,a,u,d,f,p,m,g,h,$,v=e[7].User.Name+"",w=e[7].User.Score+"",C=(100*e[7].User.Accuracy).toFixed(2)+"",N=e[4](e[7].Type)+"";return{c(){t=k("li"),n=x(v),r=P(),l=k("br"),o=P(),s=k("div"),c=x("Score:\n\t\t\t\t"),i=x(w),a=P(),u=k("br"),d=x("\n\t\t\t\tAcc:\n\t\t\t\t"),f=x(C),p=x("%\n\t\t\t\t"),m=k("br"),g=x("\n\t\t\t\tResult:\n\t\t\t\t"),h=x(N),$=P(),D(s,"margin-left","10px")},m(e,v){b(e,t,v),y(t,n),y(t,r),y(t,l),y(t,o),y(t,s),y(s,c),y(s,i),y(s,a),y(s,u),y(s,d),y(s,f),y(s,p),y(s,m),y(s,g),y(s,h),y(t,$)},p(e,t){1&t&&v!==(v=e[7].User.Name+"")&&O(n,v),1&t&&w!==(w=e[7].User.Score+"")&&O(i,w),1&t&&C!==(C=(100*e[7].User.Accuracy).toFixed(2)+"")&&O(f,C),1&t&&N!==(N=e[4](e[7].Type)+"")&&O(h,N)},d(e){e&&S(t)}}}function Hn(e){let t,n,r,l,o,s,c,i,a,u,d,f=e[1].ServerSettings.EnableTeams&&Fn(e),p=e[0].sort(),m=[];for(let t=0;t<p.length;t+=1)m[t]=Gn(Un(e,p,t));return u=new it({props:{danger:!0,text:"Close"}}),u.$on("click",e[3]),{c(){t=k("h2"),t.textContent="Results",n=P(),f&&f.c(),r=P(),l=k("p"),l.textContent="Players",o=P(),s=k("ol");for(let e=0;e<m.length;e+=1)m[e].c();c=P(),i=k("br"),a=P(),$e(u.$$.fragment)},m(e,p){b(e,t,p),b(e,n,p),f&&f.m(e,p),b(e,r,p),b(e,l,p),b(e,o,p),b(e,s,p);for(let e=0;e<m.length;e+=1)m[e].m(s,null);b(e,c,p),b(e,i,p),b(e,a,p),ve(u,e,p),d=!0},p(e,[t]){if(e[1].ServerSettings.EnableTeams?f?f.p(e,t):(f=Fn(e),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null),17&t){let n;for(p=e[0].sort(),n=0;n<p.length;n+=1){const r=Un(e,p,n);m[n]?m[n].p(r,t):(m[n]=Gn(r),m[n].c(),m[n].m(s,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=p.length}},i(e){d||(fe(u.$$.fragment,e),d=!0)},o(e){pe(u.$$.fragment,e),d=!1},d(e){e&&S(t),e&&S(n),f&&f.d(e),e&&S(r),e&&S(l),e&&S(o),e&&S(s),w(m,e),e&&S(c),e&&S(i),e&&S(a),ye(u,e)}}}function Wn(e,t,n){var r,l;let{results:o=[]}=t,{state:s}=t,c=null===(r=null==s?void 0:s.ServerSettings)||void 0===r?void 0:r.Teams;o.sort(((e,t)=>t.Score-e.Score));const{close:i}=W("simple-modal");if(null===(l=null==s?void 0:s.ServerSettings)||void 0===l?void 0:l.EnableTeams)for(const e of c){let t=c.findIndex((t=>t.Id==e.Id));if(t>-1){let n=0,r=0,l=0;for(const t of o)t.User.Team.Id==e.Id&&(n+=t.User.Score,r+=t.User.Accuracy,l++);l>0&&(r/=l,c[t].Score=n,c[t].Accuracy=r,c=c)}}return e.$$set=e=>{"results"in e&&n(0,o=e.results),"state"in e&&n(1,s=e.state)},[o,s,c,i,function(e){return Ke[e]}]}class zn extends we{constructor(e){super(),Se(this,e,Wn,Hn,c,{results:0,state:1})}}var Qn=Oe((function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function l(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},l.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var i in o)o[i]&&(c+="; "+i,!0!==o[i]&&(c+="="+o[i].split(";")[0]));return document.cookie=t+"="+n+c}}function s(e,n){if("undefined"!=typeof document){for(var l={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var c=o[s].split("="),i=c.slice(1).join("=");n||'"'!==i.charAt(0)||(i=i.slice(1,-1));try{var a=t(c[0]);if(i=(r.read||r)(i,a)||t(i),n)try{i=JSON.parse(i)}catch(e){}if(l[a]=i,e===a)break}catch(e){}}return e?l[e]:l}}return l.set=o,l.get=function(e){return s(e,!1)},l.getJSON=function(e){return s(e,!0)},l.remove=function(t,n){o(t,"",e(n,{expires:-1}))},l.defaults={},l.withConverter=n,l}((function(){}))},e.exports=n()}));function Jn(e){let t,n,r,l,o,s,c,i,a,u,d,f;function p(t){e[3].call(null,t)}let m={placeHolder:"Score Saber Link"};return void 0!==e[0]&&(m.value=e[0]),r=new tt({props:m}),J.push((()=>he(r,"value",p))),s=new it({props:{text:"Update",primary:!0}}),s.$on("click",e[4]),i=new it({props:{text:"Remove",danger:!0}}),i.$on("click",e[5]),{c(){t=k("h3"),t.textContent="Settings",n=P(),$e(r.$$.fragment),o=P(),$e(s.$$.fragment),c=P(),$e(i.$$.fragment),a=P(),u=k("br"),d=x("\nThemes soon TM")},m(e,l){b(e,t,l),b(e,n,l),ve(r,e,l),b(e,o,l),ve(s,e,l),b(e,c,l),ve(i,e,l),b(e,a,l),b(e,u,l),b(e,d,l),f=!0},p(e,[t]){const n={};!l&&1&t&&(l=!0,n.value=e[0],ee((()=>l=!1))),r.$set(n)},i(e){f||(fe(r.$$.fragment,e),fe(s.$$.fragment,e),fe(i.$$.fragment,e),f=!0)},o(e){pe(r.$$.fragment,e),pe(s.$$.fragment,e),pe(i.$$.fragment,e),f=!1},d(e){e&&S(t),e&&S(n),ye(r,e),e&&S(o),ye(s,e),e&&S(c),ye(i,e),e&&S(a),e&&S(u),e&&S(d)}}}function Vn(e,t,n){let r=Qn.get("UserId")||"";function l(){r.includes("scoresaber.com")&&n(0,r=r.split("/u/")[1].replace(/\D+/g,"")),Qn.set("UserId",r,{expires:365}),console.log(r)}function o(){Qn.remove("UserId")}return[r,l,o,function(e){r=e,n(0,r)},()=>l(),()=>o()]}class Kn extends we{constructor(e){super(),Se(this,e,Vn,Jn,c,{})}}function Zn(e,t,n){const r=e.slice();return r[18]=t[n],r[19]=t,r[20]=n,r}function Xn(e,t,n){const r=e.slice();return r[21]=t[n],r}function Yn(e,t,n){const r=e.slice();return r[24]=t[n],r}function er(e){let t,n,r;function l(t){e[14].call(null,t)}let o={$$slots:{default:[nr]},$$scope:{ctx:e}};return void 0!==e[1]&&(o.value=e[1]),t=new gt({props:o}),J.push((()=>he(t,"value",l))),{c(){$e(t.$$.fragment)},m(e,n){ve(t,e,n),r=!0},p(e,r){const l={};134217736&r&&(l.$$scope={dirty:r,ctx:e}),!n&&2&r&&(n=!0,l.value=e[1],ee((()=>n=!1))),t.$set(l)},i(e){r||(fe(t.$$.fragment,e),r=!0)},o(e){pe(t.$$.fragment,e),r=!1},d(e){ye(t,e)}}}function tr(e){let t,n,r,l=e[24].SerializedName+"";return{c(){t=k("option"),n=x(l),t.__value=r=e[24],t.value=t.__value},m(e,r){b(e,t,r),y(t,n)},p(e,o){8&o&&l!==(l=e[24].SerializedName+"")&&O(n,l),8&o&&r!==(r=e[24])&&(t.__value=r,t.value=t.__value)},d(e){e&&S(t)}}}function nr(e){let t,n=e[3]?.Characteristics,r=[];for(let t=0;t<n.length;t+=1)r[t]=tr(Yn(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=N()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);b(e,t,n)},p(e,l){if(8&l){let o;for(n=e[3]?.Characteristics,o=0;o<n.length;o+=1){const s=Yn(e,n,o);r[o]?r[o].p(s,l):(r[o]=tr(s),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(e){w(r,e),e&&S(t)}}}function rr(e){let t,n,r;function l(t){e[15].call(null,t)}let o={$$slots:{default:[or]},$$scope:{ctx:e}};return void 0!==e[0]&&(o.value=e[0]),t=new gt({props:o}),J.push((()=>he(t,"value",l))),{c(){$e(t.$$.fragment)},m(e,n){ve(t,e,n),r=!0},p(e,r){const l={};134217795&r&&(l.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,l.value=e[0],ee((()=>n=!1))),t.$set(l)},i(e){r||(fe(t.$$.fragment,e),r=!0)},o(e){pe(t.$$.fragment,e),r=!1},d(e){ye(t,e)}}}function lr(e){let t,n,r,l,o,s=He[e[21]]+"";return{c(){t=k("option"),n=x(s),r=P(),t.selected=l=e[21]==e[0],t.__value=o=e[21],t.value=t.__value},m(e,l){b(e,t,l),y(t,n),y(t,r)},p(e,r){2&r&&s!==(s=He[e[21]]+"")&&O(n,s),3&r&&l!==(l=e[21]==e[0])&&(t.selected=l),2&r&&o!==(o=e[21])&&(t.__value=o,t.value=t.__value)},d(e){e&&S(t)}}}function or(e){let t,n,r,l,o,s=e[1]?.Difficulties.sort(),c=[];for(let t=0;t<s.length;t+=1)c[t]=lr(Xn(e,s,t));return{c(){t=k("option"),n=x("Select a Difficulty"),l=P();for(let e=0;e<c.length;e+=1)c[e].c();o=N(),t.selected=r=!e[6],t.disabled=!0,t.__value=" Select a Difficulty ",t.value=t.__value},m(e,r){b(e,t,r),y(t,n),b(e,l,r);for(let t=0;t<c.length;t+=1)c[t].m(e,r);b(e,o,r)},p(e,n){if(64&n&&r!==(r=!e[6])&&(t.selected=r),3&n){let t;for(s=e[1]?.Difficulties.sort(),t=0;t<s.length;t+=1){const r=Xn(e,s,t);c[t]?c[t].p(r,n):(c[t]=lr(r),c[t].c(),c[t].m(o.parentNode,o))}for(;t<c.length;t+=1)c[t].d(1);c.length=s.length}},d(e){e&&S(t),e&&S(l),w(c,e),e&&S(o)}}}function sr(e){let t,n,r,l,o,s,c,i,a,u,d,f,p=e[4],m=[];for(let t=0;t<p.length;t+=1)m[t]=cr(Zn(e,p,t));const g=e=>pe(m[e],1,1,(()=>{m[e]=null}));return d=new it({props:{primary:!0,text:"Add Song"}}),d.$on("click",e[9]),{c(){t=k("br"),n=k("br"),r=x("\n    Options:\n    "),l=k("br"),o=P(),s=k("ul");for(let e=0;e<m.length;e+=1)m[e].c();c=P(),i=k("br"),a=k("br"),u=P(),$e(d.$$.fragment),D(s,"list-style","none")},m(e,p){b(e,t,p),b(e,n,p),b(e,r,p),b(e,l,p),b(e,o,p),b(e,s,p);for(let e=0;e<m.length;e+=1)m[e].m(s,null);b(e,c,p),b(e,i,p),b(e,a,p),b(e,u,p),ve(d,e,p),f=!0},p(e,t){if(16&t){let n;for(p=e[4],n=0;n<p.length;n+=1){const r=Zn(e,p,n);m[n]?(m[n].p(r,t),fe(m[n],1)):(m[n]=cr(r),m[n].c(),fe(m[n],1),m[n].m(s,null))}for(ue(),n=p.length;n<m.length;n+=1)g(n);de()}},i(e){if(!f){for(let e=0;e<p.length;e+=1)fe(m[e]);fe(d.$$.fragment,e),f=!0}},o(e){m=m.filter(Boolean);for(let e=0;e<m.length;e+=1)pe(m[e]);pe(d.$$.fragment,e),f=!1},d(e){e&&S(t),e&&S(n),e&&S(r),e&&S(l),e&&S(o),e&&S(s),w(m,e),e&&S(c),e&&S(i),e&&S(a),e&&S(u),ye(d,e)}}}function cr(e){let t,n,r,l,o;function s(t){e[16].call(null,t,e[18])}let c={label:e[18].name};return void 0!==e[18].isSelected&&(c.checked=e[18].isSelected),n=new dt({props:c}),J.push((()=>he(n,"checked",s))),{c(){t=k("li"),$e(n.$$.fragment),l=P()},m(e,r){b(e,t,r),ve(n,t,null),y(t,l),o=!0},p(t,l){e=t;const o={};16&l&&(o.label=e[18].name),!r&&16&l&&(r=!0,o.checked=e[18].isSelected,ee((()=>r=!1))),n.$set(o)},i(e){o||(fe(n.$$.fragment,e),o=!0)},o(e){pe(n.$$.fragment,e),o=!1},d(e){e&&S(t),ye(n)}}}function ir(e){let t,n,r,l,o,s,c,i,a,u,d,f,p,m,g,h,$;function v(t){e[13].call(null,t)}let y={placeHolder:"Song URL/ID"};void 0!==e[2]&&(y.value=e[2]),r=new tt({props:y}),J.push((()=>he(r,"value",v))),s=new it({props:{primary:!0,disabled:e[5]||""==e[2]||!e[2],text:e[5]?"Loading Song":"Load Song"}}),s.$on("click",e[8]);let w=e[3]&&er(e),C=e[1]&&rr(e),x=e[1]&&e[0]&&sr(e);return h=new it({props:{danger:!0,text:"Close"}}),h.$on("click",e[7]),{c(){t=k("h2"),t.textContent="Add Song",n=P(),$e(r.$$.fragment),o=P(),$e(s.$$.fragment),c=P(),i=k("br"),a=P(),w&&w.c(),u=P(),C&&C.c(),d=P(),x&&x.c(),f=P(),p=k("br"),m=k("br"),g=P(),$e(h.$$.fragment)},m(e,l){b(e,t,l),b(e,n,l),ve(r,e,l),b(e,o,l),ve(s,e,l),b(e,c,l),b(e,i,l),b(e,a,l),w&&w.m(e,l),b(e,u,l),C&&C.m(e,l),b(e,d,l),x&&x.m(e,l),b(e,f,l),b(e,p,l),b(e,m,l),b(e,g,l),ve(h,e,l),$=!0},p(e,[t]){const n={};!l&&4&t&&(l=!0,n.value=e[2],ee((()=>l=!1))),r.$set(n);const o={};36&t&&(o.disabled=e[5]||""==e[2]||!e[2]),32&t&&(o.text=e[5]?"Loading Song":"Load Song"),s.$set(o),e[3]?w?(w.p(e,t),8&t&&fe(w,1)):(w=er(e),w.c(),fe(w,1),w.m(u.parentNode,u)):w&&(ue(),pe(w,1,1,(()=>{w=null})),de()),e[1]?C?(C.p(e,t),2&t&&fe(C,1)):(C=rr(e),C.c(),fe(C,1),C.m(d.parentNode,d)):C&&(ue(),pe(C,1,1,(()=>{C=null})),de()),e[1]&&e[0]?x?(x.p(e,t),3&t&&fe(x,1)):(x=sr(e),x.c(),fe(x,1),x.m(f.parentNode,f)):x&&(ue(),pe(x,1,1,(()=>{x=null})),de())},i(e){$||(fe(r.$$.fragment,e),fe(s.$$.fragment,e),fe(w),fe(C),fe(x),fe(h.$$.fragment,e),$=!0)},o(e){pe(r.$$.fragment,e),pe(s.$$.fragment,e),pe(w),pe(C),pe(x),pe(h.$$.fragment,e),$=!1},d(e){e&&S(t),e&&S(n),ye(r,e),e&&S(o),ye(s,e),e&&S(c),e&&S(i),e&&S(a),w&&w.d(e),e&&S(u),C&&C.d(e),e&&S(d),x&&x.d(e),e&&S(f),e&&S(p),e&&S(m),e&&S(g),ye(h,e)}}}function ar(e){for(var t=e.split(" "),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].substring(1);return t.join(" ")}function ur(e,t,n){var r,l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(l,o){function s(e){try{i(r.next(e))}catch(e){o(e)}}function c(e){try{i(r.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}i((r=r.apply(e,t||[])).next())}))};const{close:o}=W("simple-modal");let s="",{onOkay:c=(e=>{})}=t,{event:i}=t,a=null,u=null,d=null,f=[];for(const e in We)if(isNaN(Number(e))){if("None"==e)continue;f.push({name:e.replace(/([A-Z])/g," $1").trim(),value:We[e],isSelected:!1})}let p,m=!1;return e.$$set=e=>{"onOkay"in e&&n(10,c=e.onOkay),"event"in e&&n(11,i=e.event)},e.$$.update=()=>{4099&e.$$.dirty&&n(6,p=null===n(12,r=null==d?void 0:d.Difficulties)||void 0===r?void 0:r.includes(u))},[u,d,s,a,f,m,p,o,function(){return l(this,void 0,void 0,(function*(){if(""==s||!s)return null;n(5,m=!0);let e=s;s.includes("beatsaver")&&(e=s.split("beatmap/")[1],e.includes("&")&&(e=e.split("&")[0]));let t=yield fetch(`https://beatsaver.com/api/maps/detail/${e}`,{method:"GET",headers:{"User-Agent":"TAClient/1.0.0 (+https://github.com/Dannypoke03)"}}),r=yield t.json(),l=r.hash,o=[];for(const e of r.metadata.characteristics){let t=[];for(const n in e.difficulties)if(Object.prototype.hasOwnProperty.call(e.difficulties,n)&&null!=e.difficulties[n]){let e=He[ar(n)];t.push(e)}o.push({SerializedName:e.name,Difficulties:t})}n(1,d=o[0]);let c={LevelId:`custom_level_${l.toUpperCase()}`,Name:r.metadata.songName,Characteristics:o,Loaded:!0};n(3,a=c),n(5,m=!1)}))},function(){let e={Options:We.None};for(const t of f)t.isSelected&&(e.Options=e.Options|t.value);let t={Beatmap:{Name:a.Name,LevelId:a.LevelId,Characteristic:d,Difficulty:u},PlayerSettings:{Options:0},GameplayModifiers:e};i.QualifierMaps.push(t);let n={Type:Ge.QualifierEventUpdated,ChangedObject:i};c(n),o()},c,i,r,function(e){s=e,n(2,s)},function(e){d=e,n(1,d)},function(e){u=e,n(0,u)},function(e,t){t.isSelected=e,n(4,f)}]}class dr extends we{constructor(e){super(),Se(this,e,ur,ir,c,{onOkay:10,event:11})}}function fr(e,t,n){const r=e.slice();return r[12]=t[n],r}function pr(e){let t,n,r,l,o,s,c,i,a,u,d,p,m,g=e[12].Beatmap.Name+"",h=He[e[12].Beatmap.Difficulty].replace("Plus","+")+"";return a=new it({props:{danger:!0,text:"Delete"}}),a.$on("click",(function(){return e[8](e[12])})),d=new it({props:{secondary:!0,text:"Get Scores"}}),d.$on("click",(function(){return e[9](e[12])})),{c(){t=k("div"),n=k("p"),r=x(g),l=x(" -\n\t\t\t\t"),o=k("span"),s=x(h),i=P(),$e(a.$$.fragment),u=P(),$e(d.$$.fragment),p=P(),E(o,"class",c=f(He[e[12].Beatmap.Difficulty].replace("Plus","P"))+" svelte-3bera7"),D(n,"padding-left","0px"),E(t,"class","infoCard noHover svelte-3bera7"),D(t,"--bgImg","url(https://scoresaber.com/imports/images/songs/"+e[12].Beatmap.LevelId.replace("custom_level_","")+".png)")},m(e,c){b(e,t,c),y(t,n),y(n,r),y(n,l),y(n,o),y(o,s),y(t,i),ve(a,t,null),y(t,u),ve(d,t,null),y(t,p),m=!0},p(n,l){e=n,(!m||1&l)&&g!==(g=e[12].Beatmap.Name+"")&&O(r,g),(!m||1&l)&&h!==(h=He[e[12].Beatmap.Difficulty].replace("Plus","+")+"")&&O(s,h),(!m||1&l&&c!==(c=f(He[e[12].Beatmap.Difficulty].replace("Plus","P"))+" svelte-3bera7"))&&E(o,"class",c),(!m||1&l)&&D(t,"--bgImg","url(https://scoresaber.com/imports/images/songs/"+e[12].Beatmap.LevelId.replace("custom_level_","")+".png)")},i(e){m||(fe(a.$$.fragment,e),fe(d.$$.fragment,e),m=!0)},o(e){pe(a.$$.fragment,e),pe(d.$$.fragment,e),m=!1},d(e){e&&S(t),ye(a),ye(d)}}}function mr(e){let t,n,r,l,o,s,c,i,a,u,d,f,p,m,g,h,$,v,C,N=e[0].Name+"",_=e[0].QualifierMaps,A=[];for(let t=0;t<_.length;t+=1)A[t]=pr(fr(e,_,t));const M=e=>pe(A[e],1,1,(()=>{A[e]=null}));return m=new it({props:{secondary:!0,text:"Add Song"}}),m.$on("click",e[2]),h=new it({props:{danger:!0,text:"Delete Event"}}),h.$on("click",e[10]),{c(){t=k("a"),t.textContent="← Back",n=P(),r=k("h1"),l=x(N),o=P(),s=k("hr"),c=P(),i=k("h3"),i.textContent="Maps",a=P(),u=k("div");for(let e=0;e<A.length;e+=1)A[e].c();d=P(),f=k("br"),p=P(),$e(m.$$.fragment),g=P(),$e(h.$$.fragment),E(t,"href","javascript:void();"),E(u,"class","cards"),D(u,"max-width","200px")},m(S,w){b(S,t,w),b(S,n,w),b(S,r,w),y(r,l),b(S,o,w),b(S,s,w),b(S,c,w),b(S,i,w),b(S,a,w),b(S,u,w);for(let e=0;e<A.length;e+=1)A[e].m(u,null);b(S,d,w),b(S,f,w),b(S,p,w),ve(m,S,w),b(S,g,w),ve(h,S,w),$=!0,v||(C=I(t,"click",e[7]),v=!0)},p(e,[t]){if((!$||1&t)&&N!==(N=e[0].Name+"")&&O(l,N),25&t){let n;for(_=e[0].QualifierMaps,n=0;n<_.length;n+=1){const r=fr(e,_,n);A[n]?(A[n].p(r,t),fe(A[n],1)):(A[n]=pr(r),A[n].c(),fe(A[n],1),A[n].m(u,null))}for(ue(),n=_.length;n<A.length;n+=1)M(n);de()}},i(e){if(!$){for(let e=0;e<_.length;e+=1)fe(A[e]);fe(m.$$.fragment,e),fe(h.$$.fragment,e),$=!0}},o(e){A=A.filter(Boolean);for(let e=0;e<A.length;e+=1)pe(A[e]);pe(m.$$.fragment,e),pe(h.$$.fragment,e),$=!1},d(e){e&&S(t),e&&S(n),e&&S(r),e&&S(o),e&&S(s),e&&S(c),e&&S(i),e&&S(a),e&&S(u),w(A,e),e&&S(d),e&&S(f),e&&S(p),ye(m,e),e&&S(g),ye(h,e),v=!1,C()}}}function gr(e,t,n){let{modal:r}=t,{curEvent:l}=t;const o=G(),s=e=>{e&&o("sendPacket",new Xe(e,qe.Event))};function c(e){let t=l.QualifierMaps.findIndex((t=>t.Beatmap.LevelId==e.Beatmap.LevelId));if(t>-1){l.QualifierMaps.splice(t,1);let e={Type:Ge.QualifierEventUpdated,ChangedObject:l};o("sendPacket",new Xe(e,qe.Event))}}function i(e,t){let n={EventId:e.EventId,Parameters:t};o("sendPacket",new Xe(n,qe.ScoreRequest))}function a(e){o("delEvent",e)}return e.$$set=e=>{"modal"in e&&n(6,r=e.modal),"curEvent"in e&&n(0,l=e.curEvent)},[l,o,function(){r.open(dr,{event:l,onOkay:s},{},{onClose:()=>{}})},c,i,a,r,()=>{o("back")},e=>c(e),e=>i(l,e),()=>a(l)]}class hr extends we{constructor(e){super(),Se(this,e,gr,mr,c,{modal:6,curEvent:0})}}function $r(e,t,n){const r=e.slice();return r[49]=t[n],r}function vr(e,t,n){const r=e.slice();return r[52]=t[n],r}function yr(e,t,n){const r=e.slice();return r[55]=t[n],r}function br(e,t,n){const r=e.slice();return r[55]=t[n],r}function Sr(e,t,n){const r=e.slice();return r[60]=t[n],r}function wr(e){let t,n,r,l,o,s,c,i,a,u,d,f,p;function m(t){e[37].call(null,t)}let g={placeHolder:"Host IP"};function h(t){e[38].call(null,t)}void 0!==e[1]&&(g.value=e[1]),r=new tt({props:g}),J.push((()=>he(r,"value",m)));let $={placeHolder:"Username"};function v(t){e[39].call(null,t)}void 0!==e[3]&&($.value=e[3]),s=new tt({props:$}),J.push((()=>he(s,"value",h)));let y={placeHolder:"Password"};return void 0!==e[4]&&(y.value=e[4]),a=new tt({props:y}),J.push((()=>he(a,"value",v))),f=new it({props:{disabled:""==e[3],primary:!0,text:"Connect"}}),f.$on("click",e[12]),{c(){t=k("p"),t.innerHTML='This is an experimental TA client and will only work with comptatble\n\t\t\tservers. <br class="svelte-4bn1ik"/>\n\t\t\tSend Dannypoke03#3401 a dm on discord if you wish to use this for your\n\t\t\ttournament.',n=P(),$e(r.$$.fragment),o=P(),$e(s.$$.fragment),i=P(),$e(a.$$.fragment),d=P(),$e(f.$$.fragment),E(t,"class","svelte-4bn1ik")},m(e,l){b(e,t,l),b(e,n,l),ve(r,e,l),b(e,o,l),ve(s,e,l),b(e,i,l),ve(a,e,l),b(e,d,l),ve(f,e,l),p=!0},p(e,t){const n={};!l&&2&t[0]&&(l=!0,n.value=e[1],ee((()=>l=!1))),r.$set(n);const o={};!c&&8&t[0]&&(c=!0,o.value=e[3],ee((()=>c=!1))),s.$set(o);const i={};!u&&16&t[0]&&(u=!0,i.value=e[4],ee((()=>u=!1))),a.$set(i);const d={};8&t[0]&&(d.disabled=""==e[3]),f.$set(d)},i(e){p||(fe(r.$$.fragment,e),fe(s.$$.fragment,e),fe(a.$$.fragment,e),fe(f.$$.fragment,e),p=!0)},o(e){pe(r.$$.fragment,e),pe(s.$$.fragment,e),pe(a.$$.fragment,e),pe(f.$$.fragment,e),p=!1},d(e){e&&S(t),e&&S(n),ye(r,e),e&&S(o),ye(s,e),e&&S(i),ye(a,e),e&&S(d),ye(f,e)}}}function kr(t){let n;return{c(){n=k("p"),n.textContent="Connecting to TA server...",E(n,"class","svelte-4bn1ik")},m(e,t){b(e,n,t)},p:e,i:e,o:e,d(e){e&&S(n)}}}function Cr(e){let t,n,r,l,o,s,c,i,a,u,d,f,p,m,g,h,$,v,C,N,I,_,D,A,M,B,L,T,U,j,F,R,q,G,H,W,z,Q=e[0].Self.Name+"",V=e[0].State.Coordinators,K=[];for(let t=0;t<V.length;t+=1)K[t]=Ar(Sr(e,V,t));let Z=e[0].State.Players.filter(e[30]),X=[];for(let t=0;t<Z.length;t+=1)X[t]=Mr(br(e,Z,t));let Y=e[2].length>0&&Br(e),te=e[0].State.Matches,ne=[];for(let t=0;t<te.length;t+=1)ne[t]=Tr(vr(e,te,t));let re=e[0].State.Events,le=[];for(let t=0;t<re.length;t+=1)le[t]=Ur($r(e,re,t));function oe(t){e[35].call(null,t)}let se={placeHolder:"Event Name"};return void 0!==e[8]&&(se.value=e[8]),F=new tt({props:se}),J.push((()=>he(F,"value",oe))),G=new it({props:{secondary:!0,text:"Create Event",disabled:""==e[8]}}),G.$on("click",e[36]),W=new it({props:{secondary:!0,text:"Disconect"}}),W.$on("click",e[13]),{c(){t=k("h1"),n=x("Welcome "),r=x(Q),l=P(),o=k("div"),s=k("div"),c=k("h3"),c.textContent="Coordinators",i=P(),a=k("div");for(let e=0;e<K.length;e+=1)K[e].c();u=P(),d=k("div"),f=k("h3"),f.textContent="Players",p=P(),m=k("div");for(let e=0;e<X.length;e+=1)X[e].c();g=P(),h=k("br"),$=P(),Y&&Y.c(),v=P(),C=k("div"),N=k("h3"),N.textContent="Matches",I=P(),_=k("div");for(let e=0;e<ne.length;e+=1)ne[e].c();D=P(),A=k("div"),M=k("h3"),M.textContent="Events",B=P(),L=k("div");for(let e=0;e<le.length;e+=1)le[e].c();T=P(),U=k("br"),j=P(),$e(F.$$.fragment),q=P(),$e(G.$$.fragment),H=P(),$e(W.$$.fragment),E(t,"class","svelte-4bn1ik"),E(c,"class","svelte-4bn1ik"),E(a,"class","cards svelte-4bn1ik"),E(s,"class","svelte-4bn1ik"),E(f,"class","svelte-4bn1ik"),E(m,"class","cards svelte-4bn1ik"),E(h,"class","svelte-4bn1ik"),E(d,"class","svelte-4bn1ik"),E(N,"class","svelte-4bn1ik"),E(_,"class","cards svelte-4bn1ik"),E(C,"class","svelte-4bn1ik"),E(o,"class","svelte-4bn1ik"),E(M,"class","svelte-4bn1ik"),E(L,"class","cards svelte-4bn1ik"),E(U,"class","svelte-4bn1ik"),E(A,"class","svelte-4bn1ik")},m(e,S){b(e,t,S),y(t,n),y(t,r),b(e,l,S),b(e,o,S),y(o,s),y(s,c),y(s,i),y(s,a);for(let e=0;e<K.length;e+=1)K[e].m(a,null);y(o,u),y(o,d),y(d,f),y(d,p),y(d,m);for(let e=0;e<X.length;e+=1)X[e].m(m,null);y(d,g),y(d,h),y(d,$),Y&&Y.m(d,null),y(o,v),y(o,C),y(C,N),y(C,I),y(C,_);for(let e=0;e<ne.length;e+=1)ne[e].m(_,null);b(e,D,S),b(e,A,S),y(A,M),y(A,B),y(A,L);for(let e=0;e<le.length;e+=1)le[e].m(L,null);y(A,T),y(A,U),y(A,j),ve(F,A,null),y(A,q),ve(G,A,null),b(e,H,S),ve(W,e,S),z=!0},p(e,t){if((!z||1&t[0])&&Q!==(Q=e[0].Self.Name+"")&&O(r,Q),1&t[0]){let n;for(V=e[0].State.Coordinators,n=0;n<V.length;n+=1){const r=Sr(e,V,n);K[n]?K[n].p(r,t):(K[n]=Ar(r),K[n].c(),K[n].m(a,null))}for(;n<K.length;n+=1)K[n].d(1);K.length=V.length}if(1064965&t[0]){let n;for(Z=e[0].State.Players.filter(e[30]),n=0;n<Z.length;n+=1){const r=br(e,Z,n);X[n]?X[n].p(r,t):(X[n]=Mr(r),X[n].c(),X[n].m(m,null))}for(;n<X.length;n+=1)X[n].d(1);X.length=Z.length}if(e[2].length>0?Y?(Y.p(e,t),4&t[0]&&fe(Y,1)):(Y=Br(e),Y.c(),fe(Y,1),Y.m(d,null)):Y&&(ue(),pe(Y,1,1,(()=>{Y=null})),de()),262145&t[0]){let n;for(te=e[0].State.Matches,n=0;n<te.length;n+=1){const r=vr(e,te,n);ne[n]?ne[n].p(r,t):(ne[n]=Tr(r),ne[n].c(),ne[n].m(_,null))}for(;n<ne.length;n+=1)ne[n].d(1);ne.length=te.length}if(513&t[0]){let n;for(re=e[0].State.Events,n=0;n<re.length;n+=1){const r=$r(e,re,n);le[n]?le[n].p(r,t):(le[n]=Ur(r),le[n].c(),le[n].m(L,null))}for(;n<le.length;n+=1)le[n].d(1);le.length=re.length}const n={};!R&&256&t[0]&&(R=!0,n.value=e[8],ee((()=>R=!1))),F.$set(n);const l={};256&t[0]&&(l.disabled=""==e[8]),G.$set(l)},i(e){z||(fe(Y),fe(F.$$.fragment,e),fe(G.$$.fragment,e),fe(W.$$.fragment,e),z=!0)},o(e){pe(Y),pe(F.$$.fragment,e),pe(G.$$.fragment,e),pe(W.$$.fragment,e),z=!1},d(e){e&&S(t),e&&S(l),e&&S(o),w(K,e),w(X,e),Y&&Y.d(),w(ne,e),e&&S(D),e&&S(A),w(le,e),ye(F),ye(G),e&&S(H),ye(W,e)}}}function xr(e){let t,n;return t=new hr({props:{curEvent:e[9],modal:e[5]}}),t.$on("back",e[29]),t.$on("sendPacket",e[19]),t.$on("delEvent",e[23]),{c(){$e(t.$$.fragment)},m(e,r){ve(t,e,r),n=!0},p(e,n){const r={};512&n[0]&&(r.curEvent=e[9]),32&n[0]&&(r.modal=e[5]),t.$set(r)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){ye(t,e)}}}function Pr(e){let t,n,r={curMatch:e[7],taState:e[0].State,teams:e[11],modal:e[5]};return t=new On({props:r}),e[28](t),t.$on("close",e[16]),t.$on("sendPacket",e[19]),t.$on("playerKick",e[17]),{c(){$e(t.$$.fragment)},m(e,r){ve(t,e,r),n=!0},p(e,n){const r={};128&n[0]&&(r.curMatch=e[7]),1&n[0]&&(r.taState=e[0].State),2048&n[0]&&(r.teams=e[11]),32&n[0]&&(r.modal=e[5]),t.$set(r)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(n){e[28](null),ye(t,n)}}}function Nr(e){let t,n,r,l;function o(e,t){return e[60].Id==e[0].Self.Id?Or:Er}let s=o(e),c=s(e);return{c(){t=k("div"),n=k("p"),c.c(),r=P(),E(n,"class","svelte-4bn1ik"),E(t,"class","infoCard svelte-4bn1ik"),E(t,"style",l=e[60].Id==e[0].Self.Id?"order: -1;":"")},m(e,l){b(e,t,l),y(t,n),c.m(n,null),y(t,r)},p(e,r){s===(s=o(e))&&c?c.p(e,r):(c.d(1),c=s(e),c&&(c.c(),c.m(n,null))),1&r[0]&&l!==(l=e[60].Id==e[0].Self.Id?"order: -1;":"")&&E(t,"style",l)},d(e){e&&S(t),c.d()}}}function Ir(e){let t,n,r,l,o,s,c,i,a;function u(e,t){return e[60].Id==e[0].Self.Id?Dr:_r}let d=u(e),f=d(e);return{c(){t=k("div"),n=k("img"),l=P(),o=k("p"),f.c(),s=P(),n.src!==(r="https://new.scoresaber.com/api/static/avatars/"+e[60].UserId+".jpg")&&E(n,"src",r),E(n,"alt",""),E(n,"class","svelte-4bn1ik"),E(o,"class","svelte-4bn1ik"),E(t,"class","infoCard coordCard svelte-4bn1ik"),E(t,"style",c=e[60].Id==e[0].Self.Id?"order: -1;":"")},m(e,r){b(e,t,r),y(t,n),y(t,l),y(t,o),f.m(o,null),y(t,s),i||(a=I(n,"error",Fr),i=!0)},p(e,l){1&l[0]&&n.src!==(r="https://new.scoresaber.com/api/static/avatars/"+e[60].UserId+".jpg")&&E(n,"src",r),d===(d=u(e))&&f?f.p(e,l):(f.d(1),f=d(e),f&&(f.c(),f.m(o,null))),1&l[0]&&c!==(c=e[60].Id==e[0].Self.Id?"order: -1;":"")&&E(t,"style",c)},d(e){e&&S(t),f.d(),i=!1,a()}}}function Er(e){let t,n=e[60].Name+"";return{c(){t=x(n)},m(e,n){b(e,t,n)},p(e,r){1&r[0]&&n!==(n=e[60].Name+"")&&O(t,n)},d(e){e&&S(t)}}}function Or(e){let t,n,r=e[60].Name+"";return{c(){t=k("b"),n=x(r),E(t,"class","svelte-4bn1ik")},m(e,r){b(e,t,r),y(t,n)},p(e,t){1&t[0]&&r!==(r=e[60].Name+"")&&O(n,r)},d(e){e&&S(t)}}}function _r(e){let t,n=e[60].Name+"";return{c(){t=x(n)},m(e,n){b(e,t,n)},p(e,r){1&r[0]&&n!==(n=e[60].Name+"")&&O(t,n)},d(e){e&&S(t)}}}function Dr(e){let t,n,r=e[60].Name+"";return{c(){t=k("b"),n=x(r),E(t,"class","svelte-4bn1ik")},m(e,r){b(e,t,r),y(t,n)},p(e,t){1&t[0]&&r!==(r=e[60].Name+"")&&O(n,r)},d(e){e&&S(t)}}}function Ar(e){let t;function n(e,t){return"0"!=e[60].UserId?Ir:Nr}let r=n(e),l=r(e);return{c(){l.c(),t=N()},m(e,n){l.m(e,n),b(e,t,n)},p(e,o){r===(r=n(e))&&l?l.p(e,o):(l.d(1),l=r(e),l&&(l.c(),l.m(t.parentNode,t)))},d(e){l.d(e),e&&S(t)}}}function Mr(e){let t,n,r,l,o,s,c=e[55].Name+"";function i(){return e[31](e[55])}function a(...t){return e[32](e[55],...t)}return{c(){t=k("div"),n=k("p"),r=x(c),l=P(),E(n,"class","svelte-4bn1ik"),E(t,"class","infoCard playerCard clickable svelte-4bn1ik"),D(t,"background-image","url('https://new.scoresaber.com/api/static/avatars/"+e[55].UserId+".jpg')"),M(t,"selected",e[2].find(a))},m(e,c){b(e,t,c),y(t,n),y(n,r),y(t,l),o||(s=I(t,"click",i),o=!0)},p(n,l){e=n,1&l[0]&&c!==(c=e[55].Name+"")&&O(r,c),1&l[0]&&D(t,"background-image","url('https://new.scoresaber.com/api/static/avatars/"+e[55].UserId+".jpg')"),1048581&l[0]&&M(t,"selected",e[2].find(a))},d(e){e&&S(t),o=!1,s()}}}function Br(t){let n,r;return n=new it({props:{secondary:!0,text:"Create Match"}}),n.$on("click",t[15]),{c(){$e(n.$$.fragment)},m(e,t){ve(n,e,t),r=!0},p:e,i(e){r||(fe(n.$$.fragment,e),r=!0)},o(e){pe(n.$$.fragment,e),r=!1},d(e){ye(n,e)}}}function Lr(e){let t,n,r,l,o,s,c,i,a,u=e[55].Name+"";return{c(){t=k("li"),n=k("img"),o=P(),s=x(u),c=P(),E(n,"loading","lazy"),E(n,"class","playerImg mini svelte-4bn1ik"),n.src!==(r="https://new.scoresaber.com/api/static/avatars/"+e[55].UserId+".jpg")&&E(n,"src",r),E(n,"alt",l=e[55].Name+"'s profile image'"),E(t,"class","svelte-4bn1ik")},m(e,r){b(e,t,r),y(t,n),y(t,o),y(t,s),y(t,c),i||(a=I(n,"error",Fr),i=!0)},p(e,t){1&t[0]&&n.src!==(r="https://new.scoresaber.com/api/static/avatars/"+e[55].UserId+".jpg")&&E(n,"src",r),1&t[0]&&l!==(l=e[55].Name+"'s profile image'")&&E(n,"alt",l),1&t[0]&&u!==(u=e[55].Name+"")&&O(s,u)},d(e){e&&S(t),i=!1,a()}}}function Tr(e){let t,n,r,l,o,s,c,i,a,u,d,f,p,m,g,h=e[52].Leader.Name+"",$=e[52].Players,v=[];for(let t=0;t<$.length;t+=1)v[t]=Lr(yr(e,$,t));function C(){return e[33](e[52])}return{c(){t=k("div"),n=k("p"),r=x(h),l=x("'s Match"),o=P(),s=k("hr"),c=P(),i=k("br"),a=x("\n\t\t\t\t\t\t\tPlayers\n\t\t\t\t\t\t\t"),u=k("br"),d=P(),f=k("ul");for(let e=0;e<v.length;e+=1)v[e].c();p=P(),E(n,"class","svelte-4bn1ik"),E(s,"class","svelte-4bn1ik"),E(i,"class","svelte-4bn1ik"),E(u,"class","svelte-4bn1ik"),E(f,"class","playerList svelte-4bn1ik"),E(t,"class","infoCard clickable svelte-4bn1ik")},m(e,h){b(e,t,h),y(t,n),y(n,r),y(n,l),y(t,o),y(t,s),y(t,c),y(t,i),y(t,a),y(t,u),y(t,d),y(t,f);for(let e=0;e<v.length;e+=1)v[e].m(f,null);y(t,p),m||(g=I(t,"click",C),m=!0)},p(t,n){if(e=t,1&n[0]&&h!==(h=e[52].Leader.Name+"")&&O(r,h),1&n[0]){let t;for($=e[52].Players,t=0;t<$.length;t+=1){const r=yr(e,$,t);v[t]?v[t].p(r,n):(v[t]=Lr(r),v[t].c(),v[t].m(f,null))}for(;t<v.length;t+=1)v[t].d(1);v.length=$.length}},d(e){e&&S(t),w(v,e),m=!1,g()}}}function Ur(e){let t,n,r,l,o,s,c,i,a=e[49].Name+"";function u(){return e[34](e[49])}return{c(){t=k("div"),n=k("p"),r=k("b"),r.textContent="Event:",l=P(),o=x(a),s=P(),E(r,"class","svelte-4bn1ik"),D(n,"padding-left","0px"),E(n,"class","svelte-4bn1ik"),E(t,"class","infoCard clickable svelte-4bn1ik")},m(e,a){b(e,t,a),y(t,n),y(n,r),y(n,l),y(n,o),y(t,s),c||(i=I(t,"click",u),c=!0)},p(t,n){e=t,1&n[0]&&a!==(a=e[49].Name+"")&&O(o,a)},d(e){e&&S(t),c=!1,i()}}}function jr(e){let t,n,r,l,o,s,c,i,a,u,d;const f=[Pr,xr,Cr,kr,wr],p=[];function m(e,t){return e[7]?0:null!=e[9]?1:e[0].isConnected?2:0==e[10]?3:4}l=m(e),o=p[l]=f[l](e);var g=Tn;return g&&(c=new g({props:{}}),e[40](c)),{c(){t=k("main"),n=k("span"),n.textContent="⚙",r=P(),o.c(),s=P(),c&&$e(c.$$.fragment),i=N(),E(n,"class","menu svelte-4bn1ik"),E(t,"class","svelte-4bn1ik")},m(o,f){b(o,t,f),y(t,n),y(t,r),p[l].m(t,null),b(o,s,f),c&&ve(c,o,f),b(o,i,f),a=!0,u||(d=I(n,"click",e[21]),u=!0)},p(e,n){let r=l;l=m(e),l===r?p[l].p(e,n):(ue(),pe(p[r],1,1,(()=>{p[r]=null})),de(),o=p[l],o?o.p(e,n):(o=p[l]=f[l](e),o.c()),fe(o,1),o.m(t,null));const s={};if(g!==(g=Tn)){if(c){ue();const e=c;pe(e.$$.fragment,1,0,(()=>{ye(e,1)})),de()}g?(c=new g({props:{}}),e[40](c),$e(c.$$.fragment),fe(c.$$.fragment,1),ve(c,i.parentNode,i)):c=null}else g&&c.$set(s)},i(e){a||(fe(o),c&&fe(c.$$.fragment,e),a=!0)},o(e){pe(o),c&&pe(c.$$.fragment,e),a=!1},d(n){n&&S(t),p[l].d(),n&&S(s),e[40](null),n&&S(i),c&&ye(c,n),u=!1,d()}}}function Fr(e){this.src="https://scoresaber.com/imports/images/oculus.png"}function Rr(e,t,n){var r,l,o;let s,c=Qn.get("HostIP")||"127.0.0.1:10151",i=new Ee,a=[];var u;u=()=>{b()},q().$$.on_destroy.push(u),window.addEventListener("beforeunload",(function(e){i.Self&&b()}));let d="",f="";function p(e){if(e.Type==qe.ConnectResponse){let t=e.SpecificPacket;i.Self||n(0,i=new Ee(t))}else if(e.Type==qe.Event&&i.isConnected){let r=e.SpecificPacket;switch(r.Type){case Ge.CoordinatorAdded:i.coordinatorAdded(r.ChangedObject);break;case Ge.CoordinatorLeft:i.coordinatorLeft(r.ChangedObject);break;case Ge.MatchCreated:(t=r.ChangedObject).Guid==(null==$?void 0:$.Guid)&&(n(7,h=t),$=void 0),i.matchCreated(t);break;case Ge.MatchUpdated:var t;(t=r.ChangedObject).Guid==(null==h?void 0:h.Guid)&&n(7,h=t),i.matchUpdated(r.ChangedObject);break;case Ge.MatchDeleted:let e=r.ChangedObject;e.Guid==(null==h?void 0:h.Guid)&&e.Guid!=$.Guid&&n(7,h=null),i.matchDeleted(r.ChangedObject);break;case Ge.PlayerAdded:i.playerAdded(r.ChangedObject);break;case Ge.PlayerUpdated:let l=r.ChangedObject;i.playerUpdated(r.ChangedObject),(null==h?void 0:h.Players.find((e=>e.Id==l.Id)))&&(n(7,h.Players[null==h?void 0:h.Players.findIndex((e=>e.Id==l.Id))]=l,h),n(7,h)),function(e){let t=h.Players.find((t=>t.Id==e.Id));y(e,"Score",t.Score,e.Score,500),y(e,"Accuracy",t.Accuracy,e.Accuracy,500),y(e,"Combo",t.Combo,e.Combo,500)}(l);break;case Ge.PlayerLeft:i.playerLeft(r.ChangedObject);break;case Ge.QualifierEventCreated:i.qualifierEventCreated(r.ChangedObject);break;case Ge.QualifierEventUpdated:let o=r.ChangedObject;o.EventId==N.EventId&&n(9,N=o),i.qualifierEventUpdated(r.ChangedObject);break;case Ge.QualifierEventDeleted:r.ChangedObject.EventId==N.EventId&&n(9,N=null),i.qualifierEventDeleted(r.ChangedObject)}}else if(e.Type==qe.SongFinished&&i.isConnected&&h){let t=e.SpecificPacket;console.log(t),function(e){(null==h?void 0:h.Players.findIndex((t=>t.Id==e.User.Id)))>-1&&!v.find((t=>t.User.Id==e.User.Id))&&(e.Beatmap.LevelId==h.SelectedLevel.LevelId&&(e.Beatmap.Name=h.SelectedLevel.Name),v.push(e))}(t),v.length==h.Players.length&&m.open(zn,{results:v,state:i.State},{},{onClose:()=>{g.addScore(v),v=[]}})}else e.Type==qe.ForwardingPacket&&p(e.SpecificPacket);n(0,i)}let m,g,h,$,v=[];function y(e,t,r,s,c){let a=null;const u=d=>{a||(a=d);const f=Math.min((d-a)/c,1);e[t]="Accuracy"==t?f*(s-r)+r:Math.floor(f*(s-r)+r),n(7,h.Players[h.Players.findIndex((t=>t.Id==e.Id))]=e,h),n(7,h),i.State.ServerSettings.EnableTeams&&function(e){let t=E.findIndex((t=>t.Id==e));if(t>-1){let r=0,s=0,c=0;for(const t of h.Players)t.Team.Id==e&&(r+=t.Score,s+=t.Accuracy,c++);c>0&&(s/=c,n(11,E[t].Score=r,E),n(11,E[t].Accuracy=s,E),n(11,E),n(0,i),n(25,l),n(26,o))}}(e.Team.Id),f<1&&window.requestAnimationFrame(u)};window.requestAnimationFrame(u)}function b(){let e={Type:Ge.CoordinatorLeft,ChangedObject:i.Self};s.sendMessage(JSON.stringify(new Xe(e,qe.Event))),s.socket.close(),n(27,s=null),n(0,i=new Ee)}function S(e){let t=a.findIndex((t=>t.Id==e.Id));n(2,a=-1==t?[...a,e]:[...a.slice(0,t),...a.slice(t+1)])}function w(){let e={Type:Ge.MatchDeleted,ChangedObject:h};s.sendMessage(JSON.stringify(new Xe(e,qe.Event))),n(7,h=null)}function k(e){n(7,h=e)}function C(e){for(const t of i.State.Matches)if(t.Players.find((t=>t.Id==e.Id)))return!0;return!1}function x(e){let t={EventId:Ze.v4(),Name:e,Guild:{Id:"000000000000000000",Name:"WS-Generated"},InfoChannel:{Id:"000000000000000000",Name:"WS-Generated"},QualifierMaps:[],SendScoresToInfoChannel:!1,Flags:0},r={Type:Ge.QualifierEventCreated,ChangedObject:t};s.sendMessage(JSON.stringify(new Xe(r,qe.Event))),n(8,P="")}let P="",N=null;let I,E;return e.$$.update=()=>{150994944&e.$$.dirty[0]&&n(10,I=null===n(24,r=null==s?void 0:s.socket)||void 0===r?void 0:r.readyState),100663297&e.$$.dirty[0]&&n(11,E=null===n(26,o=null===n(25,l=i.State)||void 0===l?void 0:l.ServerSettings)||void 0===o?void 0:o.Teams)},[i,c,a,d,f,m,g,h,P,N,I,E,function(){if(""==d)return alert("Please enter a name"),null;n(27,s=new Pe(c)),Qn.set("HostIP",c,{expires:365}),n(27,s.socket.onopen=()=>{n(10,I=s.socket.readyState);let e={ClientType:Ie.Coordinator,Name:d,UserId:Qn.get("UserId")||"0",ClientVersion:36,Password:f},t=new Xe(e,qe.Connect);s.sendMessage(JSON.stringify(t))},s),n(27,s.socket.onclose=()=>n(10,I=s.socket.readyState),s),n(27,s.socket.onerror=()=>n(10,I=s.socket.readyState),s),s.subscribe((e=>{try{p(JSON.parse(e))}catch(e){}}))},b,S,function(){let e={Guid:Ze.v4(),Players:a,Leader:i.Self,SelectedDifficulty:0};n(7,h=e);let t={Type:Ge.MatchCreated,ChangedObject:e};s.sendMessage(JSON.stringify(new Xe(t,qe.Event))),n(2,a=[])},w,function(e){let t=e.detail,n=h.Players.findIndex((e=>e.Id==t.Id));if(n>-1){if(h.Players.splice(n,1),h.Players.length<1)return void w();$=h;let e={Type:Ge.MatchDeleted,ChangedObject:h};s.sendMessage(JSON.stringify(new Xe(e,qe.Event))),setTimeout((()=>{let t={Guid:$.Guid,Players:$.Players,Leader:$.Leader,SelectedDifficulty:0};e={Type:Ge.MatchCreated,ChangedObject:t},s.sendMessage(JSON.stringify(new Xe(e,qe.Event)))}),1e3)}},k,function(e){s.sendMessage(JSON.stringify(e.detail))},C,function(){m.open(Kn)},x,function(e){console.log(e.detail);let t={Type:Ge.QualifierEventDeleted,ChangedObject:e.detail};s.sendMessage(JSON.stringify(new Xe(t,qe.Event)))},r,l,o,s,function(e){J[e?"unshift":"push"]((()=>{g=e,n(6,g)}))},()=>{n(9,N=null)},e=>!C(e),e=>S(e),(e,t)=>t.Id==e.Id,e=>k(e),e=>{n(9,N=e)},function(e){P=e,n(8,P)},()=>x(P),function(e){c=e,n(1,c)},function(e){d=e,n(3,d)},function(e){f=e,n(4,f)},function(e){J[e?"unshift":"push"]((()=>{m=e,n(5,m)}))}]}return new class extends we{constructor(e){super(),Se(this,e,Rr,jr,c,{},[-1,-1,-1])}}({target:document.getElementById("taClient"),props:{}})}();
//# sourceMappingURL=bundle.js.map
